// ==UserScript==
// @name        SaveFrom.net helper
// @namespace   http://savefrom.net/
// @version     7.83.2
// @date        2018-08-27
// @author      Magicbit, Inc
// @description Youtube Downloader: all in one script to get Vimeo, Facebook, Dailymotion videos for free
// @homepage    http://savefrom.net/user.php?helper=userjs
// @icon        http://sf-helper.com/img/icon_16.png
// @icon64      http://sf-helper.com/img/icon_64.png
// @updateURL   https://download.sf-helper.com/chrome/helper.meta.js
// @downloadURL https://download.sf-helper.com/chrome/helper.user.js
// @include     http://*
// @include     https://*
// @run-at      document-end
// @grant       GM_listValues
// @grant       GM_setValue
// @grant       GM_getValue
// @grant       GM_deleteValue
// @grant       GM_xmlhttpRequest
// @grant       GM_info
// @grant       GM_openInTab
// @grant       GM_setClipboard
// @grant       GM_registerMenuCommand
// @grant       GM_unregisterMenuCommand
// @grant       GM_notification
// @grant       GM_download
// @grant       GM.info
// @grant       GM.listValues
// @grant       GM.setValue
// @grant       GM.getValue
// @grant       GM.deleteValue
// @grant       GM.openInTab
// @grant       GM.setClipboard
// @grant       GM.xmlHttpRequest
// @connect     vk.com
// @connect     vk.me
// @connect     userapi.com
// @connect     vkuseraudio.net
// @connect     vkuservideo.net
// @connect     vk-cdn.net
// @connect     youtube.com
// @connect     youtube-nocookie.com
// @connect     ytimg.com
// @connect     googlevideo.com
// @connect     video.google.com
// @connect     google-analytics.com
// @connect     dailymotion.com
// @connect     vimeo.com
// @connect     vimeocdn.com
// @connect     akamaized.net
// @connect     odnoklassniki.ru
// @connect     ok.ru
// @connect     cdn-ok.com
// @connect     mycdn.me
// @connect     pladform.ru
// @connect     clipyou.ru
// @connect     soundcloud.com
// @connect     sndcdn.com
// @connect     mail.ru
// @connect     cdninstagram.com
// @connect     fbcdn.net
// @connect     facebook.com
// @connect     sf-helper.com
// @connect     savefr.com
// @connect     travelbar.tools
// @connect     promobar.tools
// @connect     savefrom.net
// @connect     self
// @connect     *
// ==/UserScript==
!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=88)}([function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){e.exports={default:n(128),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(78));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(135)),i=r(n(29)),a=r(n(78));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,a.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(32));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o.default)(e,i.key,i)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var o=n(47)("wks"),i=n(34),a=n(6).Symbol,r="function"==typeof a;(e.exports=function(e){return o[e]||(o[e]=r&&a[e]||(r?a:i)("Symbol."+e))}).store=o},function(e,t,n){var o=n(6),i=n(5),a=n(19),r=n(16),s=n(17),l=function(e,t,n){var u,d,c,f=e&l.F,p=e&l.G,m=e&l.S,h=e&l.P,g=e&l.B,v=e&l.W,b=p?i:i[t]||(i[t]={}),y=b.prototype,k=p?o:m?o[t]:(o[t]||{}).prototype;for(u in p&&(n=t),n)(d=!f&&k&&void 0!==k[u])&&s(b,u)||(c=d?k[u]:n[u],b[u]=p&&"function"!=typeof k[u]?n[u]:g&&d?a(c,o):v&&k[u]==c?function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):h&&"function"==typeof c?a(Function.call,c):c,h&&((b.virtual||(b.virtual={}))[u]=c,e&l.R&&y&&!y[u]&&r(y,u,c)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var o=n(10),i=n(61),a=n(43),r=Object.defineProperty;t.f=n(13)?Object.defineProperty:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return r(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(12);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=null;return(t=function(){}).log=t.info=t.warn=t.error=t.debug=t,t}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(64),i=n(41);e.exports=function(e){return o(i(e))}},function(e,t,n){e.exports={default:n(113),__esModule:!0}},function(e,t,n){var o=n(9),i=n(24);e.exports=n(13)?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports={default:n(98),__esModule:!0}},function(e,t,n){var o=n(33);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var o=n(63),i=n(48);e.exports=Object.keys||function(e){return o(e,i)}},function(e,t,n){"use strict";t.__esModule=!0;var o=a(n(1)),i=a(n(132));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,a){null===t&&(t=Function.prototype);var r=(0,i.default)(t,n);if(void 0===r){var s=(0,o.default)(t);return null===s?void 0:e(s,n,a)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(a):void 0}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports={}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var o=n(41);e.exports=function(e){return Object(o(e))}},function(e,t,n){e.exports={default:n(99),__esModule:!0}},function(e,t,n){e.exports={default:n(115),__esModule:!0}},function(e,t,n){e.exports={default:n(118),__esModule:!0}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){e.exports={default:n(126),__esModule:!0}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t,n){var o=n(9).f,i=n(17),a=n(7)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&o(e,a,{configurable:!0,value:t})}},function(e,t,n){e.exports={default:n(117),__esModule:!0}},function(e,t,n){t.f=n(7)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),i=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(){(0,o.default)(this,e),this.listeners=[]}return(0,i.default)(e,[{key:"addListener",value:function(e){-1===this.listeners.indexOf(e)&&this.listeners.push(e)}},{key:"dispatch",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.listeners.forEach(function(e){e.apply(void 0,t)})}},{key:"hasListener",value:function(e){return-1!==this.listeners.indexOf(e)}},{key:"hasListeners",value:function(){return this.listeners.length>0}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}}]),e}();t.default=r},function(e,t,n){"use strict";var o=n(91)(!0);n(60)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=o(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var o=n(12),i=n(6).document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var o=n(12);e.exports=function(e,t){if(!o(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!o(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var o=n(10),i=n(93),a=n(48),r=n(46)("IE_PROTO"),s=function(){},l=function(){var e,t=n(42)("iframe"),o=a.length;for(t.style.display="none",n(65).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;o--;)delete l.prototype[a[o]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=o(e),n=new s,s.prototype=null,n[r]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var o=n(40),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},function(e,t,n){var o=n(47)("keys"),i=n(34);e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var o=n(5),i=n(6),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n(23)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){},function(e,t,n){"use strict";var o=n(33);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,o){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=o}),this.resolve=o(t),this.reject=o(n)}(e)}},function(e,t,n){var o=n(8),i=n(5),a=n(20);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),o(o.S+o.F*a(function(){n(1)}),"Object",r)}},function(e,t,n){var o=n(6),i=n(5),a=n(23),r=n(37),s=n(9).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:r.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var o=n(31),i=n(24),a=n(14),r=n(43),s=n(17),l=n(61),u=Object.getOwnPropertyDescriptor;t.f=n(13)?u:function(e,t){if(e=a(e),t=r(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(144),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=r(n(4)),a=r(n(38));function r(e){return e&&e.__esModule?e:{default:e}}var s=(0,r(n(11)).default)("mono"),l=function(){function e(){(0,o.default)(this,e),this.onDestroy=new a.default,this._lastErrorFired=!1,this._lastError=null}return(0,i.default)(e,[{key:"clearLastError",value:function(){this._lastError&&!this._lastErrorFired&&s.error("Unhandled mono.lastError error:",this.lastError),this._lastError=null}},{key:"unimplemented",value:function(){throw new Error("Unimplemented")}},{key:"destroy",value:function(){this.onDestroy.dispatch()}},{key:"lastError",get:function(){return this._lastErrorFired=!0,this._lastError},set:function(e){this._lastErrorFired=!e,this._lastError=e}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1)),i=s(n(0)),a=s(n(2)),r=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,r.default)(t,e),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(1)),i=l(n(0)),a=l(n(4)),r=l(n(2)),s=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(e){function t(){(0,i.default)(this,t);var e=(0,r.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return e.isGM=!0,e}return(0,s.default)(t,e),(0,a.default)(t,[{key:"isTM",get:function(){return!!window.chrome}}]),t}(e)}},function(e,t,n){e.exports={default:n(90),__esModule:!0}},function(e,t,n){"use strict";var o=n(23),i=n(8),a=n(62),r=n(16),s=n(25),l=n(92),u=n(35),d=n(66),c=n(7)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,m,h,g,v){l(n,t,m);var b,y,k,w=function(e){if(!f&&e in M)return M[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",S="values"==h,A=!1,M=e.prototype,_=M[c]||M["@@iterator"]||h&&M[h],L=_||w(h),C=h?S?w("entries"):L:void 0,O="Array"==t&&M.entries||_;if(O&&(k=d(O.call(new e)))!==Object.prototype&&k.next&&(u(k,x,!0),o||"function"==typeof k[c]||r(k,c,p)),S&&_&&"values"!==_.name&&(A=!0,L=function(){return _.call(this)}),o&&!v||!f&&!A&&M[c]||r(M,c,L),s[t]=L,s[x]=p,h)if(b={values:S?L:w("values"),keys:g?L:w("keys"),entries:C},v)for(y in b)y in M||a(M,y,b[y]);else i(i.P+i.F*(f||A),t,b);return b}},function(e,t,n){e.exports=!n(13)&&!n(20)(function(){return 7!=Object.defineProperty(n(42)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=n(16)},function(e,t,n){var o=n(17),i=n(14),a=n(94)(!1),r=n(46)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=r&&o(s,n)&&u.push(n);for(;t.length>l;)o(s,n=t[l++])&&(~a(u,n)||u.push(n));return u}},function(e,t,n){var o=n(26);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t,n){var o=n(6).document;e.exports=o&&o.documentElement},function(e,t,n){var o=n(17),i=n(27),a=n(46)("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),o(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},function(e,t,n){var o=n(10);e.exports=function(e,t,n,i){try{return i?t(o(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&o(a.call(e)),t}}},function(e,t,n){var o=n(25),i=n(7)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,n){var o=n(70),i=n(7)("iterator"),a=n(25);e.exports=n(5).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||a[o(e)]}},function(e,t,n){var o=n(26),i=n(7)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var o=n(7)("iterator"),i=!1;try{var a=[7][o]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a=[7],r=a[o]();r.next=function(){return{done:n=!0}},a[o]=function(){return r},e(a)}catch(e){}return n}},function(e,t,n){n(100);for(var o=n(6),i=n(16),a=n(25),r=n(7)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],d=o[u],c=d&&d.prototype;c&&!c[r]&&i(c,r,u),a[u]=a.Array}},function(e,t,n){var o=n(10),i=n(33),a=n(7)("species");e.exports=function(e,t){var n,r=o(e).constructor;return void 0===r||void 0==(n=o(r)[a])?t:i(n)}},function(e,t,n){var o,i,a,r=n(19),s=n(106),l=n(65),u=n(42),d=n(6),c=d.process,f=d.setImmediate,p=d.clearImmediate,m=d.MessageChannel,h=d.Dispatch,g=0,v={},b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){b.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},o(g),g},p=function(e){delete v[e]},"process"==n(26)(c)?o=function(e){c.nextTick(r(b,e,1))}:h&&h.now?o=function(e){h.now(r(b,e,1))}:m?(a=(i=new m).port2,i.port1.onmessage=y,o=r(a.postMessage,a,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(o=function(e){d.postMessage(e+"","*")},d.addEventListener("message",y,!1)):o="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(r(b,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var o=n(10),i=n(12),a=n(50);e.exports=function(e,t){if(o(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var o=n(63),i=n(48).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(130)),i=r(n(30)),a="function"==typeof i.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function r(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===a(o.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),i=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t){(0,o.default)(this,e),this.bundle=t,this.containerNode=null,this.mono=null}return(0,i.default)(e,[{key:"create",value:function(){this.createPageContainer(),this.createMono(),this.mono.container=this.containerNode,this.executePageScripts()}},{key:"createMono",value:function(){this.destroyMono(),this.mono=this.bundle.createMonoInstance("page")}},{key:"createPageContainer",value:function(){this.destroyContainer(),this.containerNode=document.createElement("div"),this.containerNode.innerHTML=this.getPageContent(),document.body.appendChild(this.containerNode)}},{key:"getPageContent",value:function(){return""}},{key:"getPageScripts",value:function(){return[]}},{key:"executePageScripts",value:function(){return this.bundle.executeScripts(this.getPageScripts(),this.mono)}},{key:"destroyMono",value:function(){this.mono&&this.mono.destroy(),this.mono=null}},{key:"destroyContainer",value:function(){if(this.containerNode){var e=this.containerNode.parentNode;e&&e.removeChild(this.containerNode)}this.containerNode=null}},{key:"destroy",value:function(){this.destroyMono(),this.destroyContainer()}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(1)),i=l(n(0)),a=l(n(4)),r=l(n(2)),s=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"initMessages",value:function(){this.sendMessage=this.transport.sendMessage.bind(this.transport),this.sendMessageToActiveTab=this.transport.sendMessageToActiveTab.bind(this.transport),this.onMessage={addListener:this.transport.addListener.bind(this.transport),hasListener:this.transport.hasListener.bind(this.transport),hasListeners:this.transport.hasListeners.bind(this.transport),removeListener:this.transport.removeListener.bind(this.transport)}}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(1)),i=h(n(0)),a=h(n(4)),r=h(n(2)),s=h(n(22)),l=h(n(3)),u=h(n(82)),d=n(83),c=h(n(11)),f=h(n(84)),p=h(n(85)),m=h(n(86));function h(e){return e&&e.__esModule?e:{default:e}}var g=(0,c.default)("mono:pageMono");t.default=function(e){return function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"initI18n",value:function(){var e=this;this.locale=this.bundle.getLocale(),this.i18n={getMessage:function(t){var n=e.locale[t];return n&&n.message||""}}}},{key:"initMessages",value:function(){var e=this;this.transport=new d.TransportWithActiveTab({addListener:function(t){e.bundle.messaing.addListener("page",t),e.bundle.messaing.addListener("fromActiveTab",t)},removeListener:function(t){e.bundle.messaing.removeListener("page",t),e.bundle.messaing.removeListener("fromActiveTab",t)},sendMessage:function(t,n){e.bundle.messaing.emit("page",t,n)||(g.info("No one received a message"),n())},sendMessageToActiveTab:function(t,n){e.bundle.messaing.emit("toActiveTab",t,n)||(g.info("No one received a message"),n())}}),(0,s.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"initMessages",this).call(this)}},{key:"initStorage",value:function(){"function"==typeof GM_getValue?this.storage=new((0,p.default)((0,m.default)(u.default)))(this):this.storage=new((0,p.default)((0,m.default)(f.default)))(this)}},{key:"destroy",value:function(){(0,s.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"destroy",this).call(this),this.transport.destroy()}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(15)),i=l(n(18)),a=l(n(0)),r=l(n(4)),s=l(n(38));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,l(n(11)).default)("mono:userscriptStorage"),d=function(){function e(t){(0,a.default)(this,e),this.mono=t,this.onChanged=new s.default}return(0,r.default)(e,[{key:"handleChange",value:function(e,t){throw new Error("handleChange is not supported")}},{key:"wrapValue",value:function(e){return(0,i.default)({w:e})}},{key:"unwrapValue",value:function(e){return JSON.parse(e).w}},{key:"get",value:function(e,t){var n=this,i={},a={},r=GM_listValues();e||(e=r),Array.isArray(e)||(a=e,e=(0,o.default)(e)),e.forEach(function(e){var t=!1,o=null;try{-1!==r.indexOf(e)&&(o=n.unwrapValue(GM_getValue(e)),t=!0)}catch(t){u.error("Parse key ("+e+") error")}!t&&a.hasOwnProperty(e)&&(o=a[e],t=!0),t&&(i[e]=o)}),t(i)}},{key:"set",value:function(e,t){var n=this,i=(0,o.default)(e);this.get(i,function(o){i.forEach(function(t){GM_setValue(t,n.wrapValue(e[t]))}),n.handleChange(o,e),t&&t()})}},{key:"remove",value:function(e,t){var n=this;this.get(e,function(o){e.forEach(function(e){GM_deleteValue(e)}),n.handleChange(o,{}),t&&t()})}},{key:"clear",value:function(e){this.remove(GM_listValues(),e)}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransportWithActiveTab=void 0;var o=c(n(1)),i=c(n(0)),a=c(n(4)),r=c(n(2)),s=c(n(22)),l=c(n(3)),u=c(n(38)),d=c(n(156));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,c(n(11)).default)("mono:transportWithResponse"),p=function(){},m=function(e){function t(e){(0,i.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.transportId=String(parseInt(1e3*Math.random(),10)),n.destroyError=null,n.isListen=!1,n.transport=e,n.listen=n.listen.bind(n),n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"callListeners",value:function(e,t,n){var o=null;return this.listeners.forEach(function(i){try{var a=i(e,t,n);!0===a&&(o=a)}catch(e){f.error("Error in event handler for mono.onMessage:",e)}}),o}},{key:"listen",value:function(e,t){var n=this;if(e.transportId!==this.transportId){var o=void 0;o=t?function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(function(o,i){if(n.destroyError)f.warn("Send response is skip cause:",n.destroyError);else if(e._responseFired)f.warn("Send response is skip cause: Already fired");else{e._responseFired=!0,e._forceResponse=i;try{t((0,d.default)(o))}catch(e){f.warn("Send response error",e)}}}):p,!0===this.callListeners(e.message,e.sender||{},o)?e._asyncResponse=!0:e._responseFired||setTimeout(function(){e._responseFired||e._asyncResponse||o(void 0,!0)},1)}}},{key:"startListen",value:function(){this.isListen||(this.isListen=!0,this.transport.addListener(this.listen))}},{key:"stopListen",value:function(){this.isListen&&(this.isListen=!1,this.transport.removeListener(this.listen))}},{key:"addListener",value:function(e){(0,s.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"addListener",this).call(this,e),this.listeners.length>0&&this.startListen()}},{key:"removeListener",value:function(e){(0,s.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeListener",this).call(this,e),0===this.listeners.length&&this.stopListen()}},{key:"getRawMessage",value:function(e){return{transportId:this.transportId,message:(0,d.default)(e),sender:{url:location.href}}}},{key:"sendMessage",value:function(e,t){if(this.destroyError)throw this.destroyError;var n=this.getRawMessage(e,t);this.transport.sendMessage(n,t)}},{key:"destroy",value:function(){this.destroyError=new Error("Transport is destroyed"),this.listeners.splice(0),this.stopListen()}}]),t}(u.default),h=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"sendMessageToActiveTab",value:function(e,t){if(this.destroyError)throw this.destroyError;var n=this.getRawMessage(e,t);this.transport.sendMessageToActiveTab(n,t)}}]),t}(m);t.default=m,t.TransportWithActiveTab=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(28)),i=d(n(15)),a=d(n(18)),r=d(n(0)),s=d(n(4)),l=d(n(11)),u=d(n(38));function d(e){return e&&e.__esModule?e:{default:e}}var c=(0,l.default)("mono:gmStorage"),f=function(){function e(t){(0,r.default)(this,e),this.mono=t,this.onChanged=new u.default}return(0,s.default)(e,[{key:"handleChange",value:function(e,t){throw new Error("handleChange is not supported")}},{key:"wrapValue",value:function(e){return(0,a.default)({w:e})}},{key:"unwrapValue",value:function(e){return JSON.parse(e).w}},{key:"get",value:function(e,t){var n=this;GM.listValues().catch(function(e){return c.error("Get values error",e),[]}).then(function(a){var r={},s={};return e||(e=a),Array.isArray(e)||(s=e,e=(0,i.default)(e)),o.default.all(e.map(function(e){var t=!1,i=null;return o.default.resolve().then(function(){if(-1!==a.indexOf(e))return GM.getValue(e).then(function(e){i=n.unwrapValue(e),t=!0})}).catch(function(t){c.error("Parse key ("+e+") error",t)}).then(function(){!t&&s.hasOwnProperty(e)&&(i=s[e],t=!0),t&&(r[e]=i)})})).then(function(){t(r)})})}},{key:"set",value:function(e,t){var n=this,a=(0,i.default)(e);this.get(a,function(i){o.default.all(a.map(function(t){return GM.setValue(t,n.wrapValue(e[t])).catch(function(e){c.error("Set item ("+t+") error",e)})})).then(function(){n.handleChange(i,e),t&&t()})})}},{key:"remove",value:function(e,t){var n=this;this.get(e,function(i){o.default.all(e.map(function(e){return GM.deleteValue(e).catch(function(t){c.error("Remove key ("+e+") error",t)})})).then(function(){n.handleChange(i,{}),t&&t()})})}},{key:"clear",value:function(e){var t=this;GM.listValues().catch(function(e){return c.error("Get values error",e),[]}).then(function(n){return t.remove(n,e)})}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(1)),i=u(n(0)),a=u(n(4)),r=u(n(2)),s=u(n(22)),l=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"get",value:function(e,n){if(void 0===e&&(e=null),"string"==typeof e&&(e=[e]),Array.isArray(e)&&e.forEach(function(e){if("string"!=typeof e)throw new Error("Incorrect key type")}),"object"!=typeof e)throw new Error("Incorrect keys type");(0,s.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"get",this).call(this,e,n)}},{key:"set",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"set",this).call(this,e,n)}},{key:"remove",value:function(e,n){"string"==typeof e&&(e=[e]),e.forEach(function(e){if("string"!=typeof e)throw new Error("Incorrect key type")}),(0,s.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"remove",this).call(this,e,n)}},{key:"clear",value:function(e){(0,s.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"clear",this).call(this,e)}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(1)),i=u(n(0)),a=u(n(4)),r=u(n(2)),s=u(n(3)),l=u(n(157));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(e){function t(e){(0,i.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.mono=e,n.changesListener=n.changesListener.bind(n),n.initChangesListener(),n}return(0,s.default)(t,e),(0,a.default)(t,[{key:"initChangesListener",value:function(){var e=this;this.mono.bundle.messaing.addListener("storage",this.changesListener),this.mono.onDestroy.addListener(function t(){e.mono.onDestroy.removeListener(t),e.mono.bundle.messaing.removeListener("storage",e.changesListener)})}},{key:"changesListener",value:function(e){this.onChanged.dispatch(e,"local")}},{key:"handleChange",value:function(e,t){var n=(0,l.default)(e,t);n&&this.mono.bundle.messaing.emit("storage",n)}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(28)),i=u(n(1)),a=u(n(0)),r=u(n(4)),s=u(n(2)),l=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var d=n(161);t.default=function(e){return function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,r.default)(t,[{key:"callFn",value:function(e,t){return this.waitPromise({action:"callFn",fn:e,args:t})}},{key:"waitPromise",value:function(e){var t=this;return new o.default(function(n,o){t.sendMessage(e,function(e){if(e){if(e.err){var i=d(e.err);return o(i)}return n(e.result)}var a=t.lastError||new Error("Unexpected response");return o(a)})})}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=A(n(89)),i=A(n(18)),a=A(n(28)),r=A(n(15)),s=A(n(29)),l=A(n(36)),u=A(n(30)),d=A(n(32)),c=A(n(1)),f=A(n(0)),p=A(n(4)),m=A(n(2)),h=A(n(22)),g=A(n(3)),v=A(n(139)),b=A(n(149)),y=A(n(150)),k=A(n(159)),w=A(n(165)),x=A(n(169)),S=A(n(171));function A(e){return e&&e.__esModule?e:{default:e}}var M=n(172).EventEmitter,_=function(e){function t(){(0,f.default)(this,t);var e=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this));return e.messaing=new M,e.backgroundPageLoaded=!1,e.backgroundScripts=[function(e){!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||(0,d.default)(e,t,{enumerable:!0,get:o})},n.r=function(e){void 0!==u.default&&l.default&&(0,d.default)(e,l.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=(0,s.default)(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(t,n,o){var i=e;n.a=i},function(e,t,n){var o=n(0),i=n(2),a=Object(i.a)("webRequest"),s=function(){var e=/^sf-\d+_/,t={urls:["<all_urls>"],types:["xmlhttprequest"]},n=!1,i={},r={},s=function(e){for(var t in e)return!1;return!0},l=function(e){delete r[e.requestId],s(i)&&s(r)&&c()},u=function(t){var n=r[t.requestId],o=t.requestHeaders||[],a=[],l=[],u=[];if(n)l=n.changes,a=n.filtered;else if(!s(i))for(var d,c=void 0,f=void 0,p=0;d=o[p];p++)c=d.name,e.test(c)&&(f=i[c])&&(d.name=f.name,d.value=f.value,l.push(d),a.push(f.name.toLowerCase()),a.push(c.toLowerCase()),/cookie/i.test(d.name)&&u.push("set-cookie"),clearTimeout(f.timer),delete i[c]);if(l.length)return n||(r[t.requestId]={changes:l,filtered:a,filterResponseHeaders:u}),{requestHeaders:o.filter(function(e){return-1===a.indexOf(e.name.toLowerCase())}).concat(l)}},d=function(e){var t=r[e.requestId],n=e.responseHeaders;if(t&&n){var o=t.filterResponseHeaders;return{responseHeaders:n.filter(function(e){return-1===o.indexOf(e.name.toLowerCase())})}}},c=function(){n&&(n=!1,chrome.webRequest.onBeforeSendHeaders.removeListener(u,t,["blocking","requestHeaders"]),chrome.webRequest.onHeadersReceived.removeListener(d,t,["blocking","responseHeaders"]),chrome.webRequest.onResponseStarted.removeListener(l,t),chrome.webRequest.onErrorOccurred.removeListener(l,t),a.debug("webRequest","rm listener"))},f=10,p=!1,m=function(){return o.a.isChrome||o.a.isFirefox},h=null,g=function(e){return(null===h||e)&&(h=!!(m()&&chrome.webRequest&&chrome.webRequest.onBeforeSendHeaders&&chrome.webRequest.onResponseStarted&&chrome.webRequest.onErrorOccurred)),h},v=/^user-agent$|^origin$|^cookie$/i;return{wrapHeaderKey:function(e,o){if(g()){for(var r=void 0,s=100;s-- >0&&(r="sf-"+parseInt(1e5*Math.random())+"_"+e,i[r]););return i[r]={name:e,value:o,timer:setTimeout(function(){delete i[r]},3e3)},n||(n=!0,chrome.webRequest.onBeforeSendHeaders.addListener(u,t,["blocking","requestHeaders"]),chrome.webRequest.onHeadersReceived.addListener(d,t,["blocking","responseHeaders"]),chrome.webRequest.onResponseStarted.addListener(l,t),chrome.webRequest.onErrorOccurred.addListener(l,t),a.debug("webRequest","add listener")),r}return e},isSpecialHeader:function(e){return v.test(e)},isSupported:m,requestPermission:function(e){g()||p?e(h):chrome.permissions&&chrome.permissions.request?chrome.permissions.request({permissions:["webRequest","webRequestBlocking"]},function(t){(t||f--<=0)&&(p=!0),t&&g(!0),e(h)}):(p=!0,e(h))}}}(),l=n(6),u=function(e){var t={};return(e=e.split(/\r?\n/)).forEach(function(e){var n=e.indexOf(":");if(-1!==n){var o=e.substr(0,n).trim().toLowerCase(),i=e.substr(n+1).trim();t[o]=i}}),t};t.a=function(e,t){var n={},i=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,n){i=null,m.timeoutTimer&&clearTimeout(m.timeoutTimer);var o=null;e&&(o=String(e.message||e)||"ERROR"),t&&t(o,a(n),n)}),a=function(e){var t={};t.statusCode=g.status,t.statusText=g.statusText;var n=null,o=g.getAllResponseHeaders();return"string"==typeof o&&(n=u(o)),t.headers=n||{},t.body=e,t};"object"!=typeof e&&(e={url:e});var d=e.url,c=e.method||e.type||"GET";c=c.toUpperCase();var f=e.data;if("string"!=typeof f&&(f=l.stringify(f)),f&&"GET"===c&&(d+=(/\?/.test(d)?"&":"?")+f,f=void 0),!1===e.cache&&-1!==["GET","HEAD"].indexOf(c)&&(d+=(/\?/.test(d)?"&":"?")+"_="+Date.now()),o.a.isFirefox&&!/^https?:\/\//.test(d)){var p=document.createElement("a");p.href=d,d=p.href,p=null}e.headers=e.headers||{},f&&(e.headers["Content-Type"]=e.contentType||e.headers["Content-Type"]||"application/x-www-form-urlencoded; charset=UTF-8");var m={};m.url=d,m.method=c,f&&(m.data=f),e.json&&(m.json=!0),e.xml&&(m.xml=!0),e.timeout&&(m.timeout=e.timeout),e.mimeType&&(m.mimeType=e.mimeType),e.withCredentials&&(m.withCredentials=!0),(0,r.default)(e.headers).length&&(m.headers=e.headers),m.timeout>0&&(m.timeoutTimer=setTimeout(function(){i&&i(new Error("ETIMEDOUT")),g.abort()},m.timeout));var h={0:200,1223:204},g=function(e){return o.a.isGM&&!e?new function(){var e=this,t=null,n=function(t,n){e.readyState=n.readyState,e.status=n.status,e.statusText=n.statusText,"string"==typeof n.response&&(e.responseText=n.response),n.responseText&&(e.responseText=n.responseText),e._responseHeaders=n.responseHeaders,e.onreadystatechange&&e.onreadystatechange(),e[t]&&e[t]()},o={headers:{},responseType:"text",onload:n.bind(null,"onload"),onerror:n.bind(null,"onerror"),onabort:n.bind(null,"onabort"),ontimeout:n.bind(null,"ontimeout")};this._responseHeaders="",this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.response="",this.responseType="",this.responseURL="",this.open=function(e,t){o.method=e,o.url=t},this.overrideMimeType=function(e){o.overrideMimeType=e},this.setRequestHeader=function(e,t){"cookie"===e.toLowerCase()&&""===t&&(o.anonymous=!0),o.headers[e]=t},this.getResponseHeader=function(e){return this._responseHeaders?(e=e.toLowerCase(),this.headers||(this.headers=u(this._responseHeaders)),this.headers.hasOwnProperty(e)?this.headers[e]:null):null},this.getAllResponseHeaders=function(){return this._responseHeaders},this.abort=function(){t&&t.abort()},this.send=function(e){o.data=e,t="function"==typeof GM_xmlhttpRequest?GM_xmlhttpRequest(o):GM.xmlHttpRequest(o)},this.onabort=null,this.onerror=null,this.onload=null,this.onreadystatechange=null,this.ontimeout=null}:new XMLHttpRequest}(e.localXHR);g.open(m.method,m.url,!0),m.mimeType&&g.overrideMimeType(m.mimeType),m.withCredentials&&(g.withCredentials=!0);var v=[];for(var b in m.headers)s.isSpecialHeader(b)&&v.push({key:b,value:m.headers[b]}),g.setRequestHeader(b,m.headers[b]);g.onload=function(){var e=h[g.status]||g.status;try{if(e>=200&&e<300||304===e){var t=g.responseText;if(m.json)t=JSON.parse(t);else if(m.xml)t=(new DOMParser).parseFromString(t,"text/xml");else if("string"!=typeof t)throw console.error("Response is not string!",t),new Error("Response is not string!");return i&&i(null,t)}throw new Error(g.status+" "+g.statusText)}catch(e){return i&&i(e)}};var y=g.onerror=function(){i&&i(new Error(g.status+" "+g.statusText))},k=null;void 0!==g.onabort?g.onabort=y:k=function(){4===g.readyState&&i&&setTimeout(function(){return y()})},k&&(g.onreadystatechange=k);var w=function(){try{g.send(m.data||null)}catch(e){setTimeout(function(){i&&i(e)})}};if(v.length&&s.isSupported()){s.requestPermission(function(e){e&&function(){for(var e,t=0;e=v[t];t++)g.setRequestHeader(s.wrapHeaderKey(e.key,e.value),e.value)}(),i&&w()})}else w();return n.abort=function(){i=null,g.abort()},n}},function(e,t,n){t.a=function(e){var t;return(t=function(){}).log=t.info=t.warn=t.error=t.debug=t,t}},function(e,t,n){t.a=function(){return parseInt(Date.now()/1e3,10)}},function(e,t,n){t.a=function(){return window.top!==window.self}},function(e,t,n){var o=n(1);t.a=function(e){return new a.default(function(t,n){Object(o.a)(e,function(e,o){e?n(e):t(o)})})}},function(e,t,n){t.decode=t.parse=n(9),t.encode=t.stringify=n(10)},function(e,t,n){t.a={youtube:"moduleYoutube",dailymotion:"moduleDailymotion",vimeo:"moduleVimeo",facebook:"moduleFacebook",soundcloud:"moduleSoundcloud",vk:"moduleVkontakte",odnoklassniki:"moduleOdnoklassniki",mailru:"moduleMailru",instagram:"moduleInstagram",rutube:"moduleRutube"}},function(e,t,n){t.a=function(e){return function(t){return e.some(function(e){return function(e,t){var n=e.matches.test(t);return n&&e.exclude_matches&&(n=!e.exclude_matches.test(t)),n&&e.include_globs&&(n=e.include_globs.test(t)),n&&e.exclude_globs&&(n=!e.exclude_globs.test(t)),n}(e,t)})}}},function(e,t,n){function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var s=/\+/g;e=e.split(t);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var d=0;d<u;++d){var c,f,p,m,h=e[d].replace(s,"%20"),g=h.indexOf(n);g>=0?(c=h.substr(0,g),f=h.substr(g+1)):(c=h,f=""),p=decodeURIComponent(c),m=decodeURIComponent(f),o(r,p)?i(r[p])?r[p].push(m):r[p]=[r[p],m]:r[p]=m}return r};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?a(s(e),function(r){var s=encodeURIComponent(o(r))+n;return i(e[r])?a(e[r],function(e){return s+encodeURIComponent(o(e))}).join(t):s+encodeURIComponent(o(e[r]))}).join(t):r?encodeURIComponent(o(r))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var s=r.default||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){var o=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(o,"\\$&")}},function(e,t,n){n.r(t);var o=n(0),i=n(4),a=n(7);t.default=function(){function e(t){(0,f.default)(this,e),this.engine=t,this.showButtonModules={"includes/youtube_com.js":"youtube","includes/dailymotion_com.js":"dailymotion","includes/vimeo_com.js":"vimeo","includes/facebook_com.js":"facebook","includes/soundcloud_com.js":"soundcloud","includes/vkontakte_ru.js":"vk","includes/odnoklassniki_ru.js":"odnoklassniki","includes/mail_ru.js":"mailru","includes/instagram_com.js":"instagram","includes/rutube_ru.js":"rutube","includes/savefrom_net.js":"savefrom","includes/link_modifier.js":"lm"},this.commands=null,this.init()}return(0,p.default)(e,[{key:"getCommands",value:function(){var e=this;return[{id:"downloadFromCurrentPage",command:function(){e.engine.actionList.downloadFromCurrentPage()}},{id:"updateLinks",notify:"updateLinksNotification",modules:["vk","odnoklassniki","facebook","lm","youtube","dailymotion","instagram","rutube"]},{id:"downloadMP3Files",modules:["vk","odnoklassniki","mailru"]},{id:"downloadPlaylist",modules:["vk","odnoklassniki","mailru"]},{id:"downloadPhotos",modules:["vk"]},{id:"showOptions",command:function(){o.a.bundle.showOptions()}},{id:"reportBug",command:function(){e.engine.actionList.reportBug()}},{id:"enableDisableModule",command:function(){e.engine.actionList.getActiveTabInfo(null,function(t){var n=(t=t||{}).state?0:1;e.engine.actionList.viaMenu_changeState({state:n,prefKey:t.prefKey,moduleName:t.moduleName}),n&&1===e.engine.preferences.button?e.engine.gmShowButton(1):e.engine.gmShowButton(0)})}},{id:"showHideButton",command:function(){var t=!o.a.bundle.buttonUi;e.engine.actionList.updateOption({action:"updateOption",key:"button",value:t?1:0})}}]}},{key:"registerModule",value:function(e){var t=this;if("undefined"!=typeof GM_registerMenuCommand){var n=e.id,i=o.a.i18n.getMessage(n);return e.command?GM_registerMenuCommand(i,e.command):GM_registerMenuCommand(i,function(){t.engine.onMessage({action:(void 0!==e.modules?"viaMenu_":"")+e.id}),e.notify&&"undefined"!=typeof GM_notification&&GM_notification(o.a.i18n.getMessage(e.notify),null,null,null,3e3)})}}},{key:"register",value:function(e){for(var t,n="undefined"!=typeof GM_unregisterMenuCommand,o=0;t=this.commands[o];o++){if(n)t.gmId&&GM_unregisterMenuCommand(t.gmId);else if(t.hasOwnProperty("gmId"))continue;(!t.modules||t.modules.indexOf(e)>-1)&&(t.gmId=this.registerModule(t))}}},{key:"init",value:function(){var e=this;if(this.commands=this.getCommands(),!Object(i.a)()){var t=[];(0,r.default)(this.showButtonModules).forEach(function(n){var i=e.showButtonModules[n];o.a.bundle.isLoadedFile(n)&&t.push(i)});var n=t[0];this.register(n);var s=this.engine.preferences;(s.button&&s[a.a[n]]||"savefrom"===n)&&this.engine.gmShowButton(1)}}}]),e}()},function(e,t,n){n.r(t);var o=n(0),i=n(1);t.default=function(e){e.checkUpdate=function(){var t=e.varCache,n=e.checkUpdate.typeList,a=o.a.isChrome&&!e.isOperaNext?"chrome":o.a.isFirefox&&e.firefoxNoStore?"firefox":o.a.isGM?"gm":o.a.isSafari?"safari":void 0;if(n[a]){var r=e.liteStorage.isExpire("lastVersionExpire");t.isUpgrade&&(r=!0),r&&(e.liteStorage.set("lastVersion",""),e.liteStorage.setExpire("lastVersionExpire",86400),Object(i.a)({type:"GET",url:n[a].url,cache:!1},function(t,o){if(!t){var i=n[a].getVersion(o.body);i&&(e.liteStorage.set("lastVersion",i),e.liteStorage.setExpire("lastVersionExpire",604800))}}))}},e.checkUpdate.typeList={chrome:{url:"http://download.sf-helper.com/chrome/updates-3.xml",getVersion:function(e){var t=/updatecheck.+version=['"](.+)['"]/.exec(e);return t&&t[1]}},firefox:{url:"https://download.sf-helper.com/mozilla/updates.json",getVersion:function(e){var t=null;try{var n=JSON.parse(e);t=n.addons[(0,r.default)(n.addons)[0]].updates}catch(e){}if(t){var o=null;return t.some(function(e){return o=e.version}),o}}},safari:{url:"https://download.sf-helper.com/safari/update.plist",getVersion:function(e){if("string"==typeof e){var t=e.indexOf("<key>CFBundleVersion</key>");if(-1!==t){e=e.substr(t);var n=/<string>(.+)<\/string>/.exec(e);return n&&n[1]}}}},gm:{url:"https://download.sf-helper.com/chrome/helper.meta.js",getVersion:function(e){var t=/@version\s+(.+)\s*\r?\n/.exec(e);return t&&t[1]}}},e.loader.when("prepare",function(){e.checkUpdate()})}},function(e,t,n){n.r(t);var o=n(0),i=n(2),a=Object(i.a)("sw");t.default=function(e){e.loader.when("init",function(){if(!(o.a.isFirefox&&o.a.isFirefoxMobile||o.a.isChrome&&o.a.isChromeMobile||/^(yabrowser|chameleon)/.test(e.varCache.helperName))){var t=e.preferences,n=function(){return t.hasSwStat&&t.statEnabled},i=function(){n()?(e.tabListener.extendJsList.fs=r,e.tabListener.enable()):delete e.tabListener.extendJsList.fs},r={noBlackList:!0,getScriptList:function(){var e=[];return n()?(e.push("includes/commons.js"),e.push("includes/swStat.js")):i(),e}},s=["eu","at","be","bg","cy","cz","dk","ee","fi","fr","de","gr","hu","ie","it","lv","lt","lu","mt","nl","pl","pt","ro","sk","si","es","se","gb"],l=function(){t.country&&-1===s.indexOf(t.country)?t.hasSwStat=1:t.hasSwStat=0};o.a.storage.onChanged.addListener(function(e,t){"local"===t&&(e.country?(a.debug("country changed"),l(),i()):e.statEnabled&&(a.debug("statEnabled changed"),i()))}),e.loader.when("prepare",function(){l(),i()})}})}},function(e,t,n){n.r(t);var o=n(0);t.default=function(e){e.loader.when("init",function(){if(!(o.a.isFirefox&&o.a.isFirefoxMobile||o.a.isChrome&&o.a.isChromeMobile)){var t=e.preferences,n=function(){return!t.hasFsStat||!t.statEnabled},i=function(){n()?delete e.tabListener.extendJsList.stat:(e.tabListener.extendJsList.stat=a,e.tabListener.enable())},a={noBlackList:!0,getScriptList:function(){var e=[];return n()?i():(e.push("includes/commons.js"),e.push("includes/fsStat.js")),e}};e.events.on("statEnabledChange",function(){i()}),e.loader.when("prepare",function(){t.hasFsStat=1,i()})}})}},function(e,t,n){n.r(t);var o=n(0),r=n(4),s=n(2),l=Object(s.a)("userjs");t.default=function(e){e.loader.when("init",function(){return new a.default(function(e){o.a.storage.get({userjsIsInstaller:0,userjsVideoId:"",userjsIsOpenVideo:0},e)}).then(function(t){t.userjsIsInstaller?!t.userjsIsOpenVideo&&"string"==typeof t.userjsVideoId&&t.userjsVideoId&&function(t){if(!o.a.isGM)return t();if(!Object(r.a)()){var n="userjsDblTrack",i={userjsDblTrack:""};o.a.storage.get(i,function(a){var r=Date.now();if(!(a[n].split(",")[1]>r)){var s=e.generateUuid(),l=r+6e4;return a[n]=s+","+l,o.a.storage.set(a),setTimeout(function(){return o.a.storage.get(i,function(e){e[n].split(",")[0]===s&&t()})},5e3)}})}}(function(){t.userjsIsOpenVideo=1,o.a.storage.set(t,function(){var e=t.userjsVideoId.replace(/#/g,"");"videoId"!==e&&o.a.openTab("https://www.youtube.com/watch?v="+e)})}):l.debug("Skip","userjsIsInstaller",(0,i.default)(t))})})}},function(e,t,n){n.r(t);var o=n(0),i=(n(2),n(3)),s=n(5),l=function(e){return new a.default(function(t){return o.a.storage.set(e,t)})},u=function(e){return e<Object(i.a)()},d=function(e){var t=e.length,n=0,o=0;if(t>0)for(;o<t;)n=(n<<5)-n+e.charCodeAt(o++)|0;return n};t.default=function(e){var t=e.preferences;if(e.defaultPreferences.promoBarEnabled=1,o.a.isGM){var n=null;o.a.remote.promoBarGetHash=function(t){return e.readyPromise.then(function(){if(!n)return function(e){return new a.default(function(t){return o.a.storage.get(e,t)})}({promoBarDomains:[],promoBarExpireAt:0,promoBarBlacklist:{},promoBarRate:{}}).then(function(e){n=e})}).then(function(){if(n.promoBarExpireAt<Object(i.a)())return n.promoBarExpireAt=Object(i.a)()+300,l({promoBarExpireAt:n.promoBarExpireAt}).then(function(){return Object(s.a)({url:"https://promobar.tools/api/v1/domains.json",json:!0}).then(function(e){var t=e.body;if(!t.ok)throw new Error("Bad response");return t.result}).then(function(e){return n.promoBarDomains=e,n.promoBarExpireAt=Object(i.a)()+43200,l({promoBarDomains:n.promoBarDomains,promoBarExpireAt:n.promoBarExpireAt})})})}).then(function(){var e=function(e){for(var t=null,o=e.split(".");o.length>1;){var i=o.join("."),a=d(i);if(-1!==n.promoBarDomains.indexOf(a)){t=a;break}o.shift()}return t}(t);return function(e){var t=n.promoBarBlacklist[e];return t&&u(t)&&(t=null),!!t}(e)?null:e})},o.a.remote.promoBarAddInBlackList=function(e,t){var o=n.promoBarBlacklist;return o[e]=Object(i.a)()+(t||3600),(0,r.default)(o).forEach(function(e){u(o[e])&&delete o[e]}),l({promoBarBlacklist:n.promoBarBlacklist})},o.a.remote.promoBarInRate=function(e,t){return a.default.resolve().then(function(){var o=n.promoBarRate,i=o[e];return void 0===i?(i=o[e]=Math.random()<t,l({promoBarRate:n.promoBarRate}).then(function(){return i})):i})};var c=function(){return t.promoBarEnabled},f={getScriptList:function(){var e=[];return c()?(e.push("includes/commons.js"),e.push("includes/promoBar.js")):p(),e}},p=function(){c()?(e.tabListener.extendJsList.promoBar=f,e.tabListener.enable()):delete e.tabListener.extendJsList.promoBar};o.a.storage.onChanged.addListener(function(e,t){"local"===t&&e.promoBarEnabled&&p()}),e.loader.when("prepare",function(){p()})}}},function(e,t,n){n.r(t);var s=n(0),l=n(1),u=n(2),d=Object(u.a)("utils"),c=null,f={getFileSize:function(e,t){var n=e.url,o={fileSize:0,fileType:"",status:0,error:!1};return Object(l.a)({url:n,type:"HEAD"},function(e,n){if(e)return o.error=!0,t(o);o.status=n.statusCode,o.fileSize=parseInt(n.headers["content-length"])||0;var i=n.headers["content-type"];i&&(o.fileType=i),t(o)}),!0},ChromeDl:function(){var e={},t=!1,n=function(n){e[n]&&delete e[n],0===(0,r.default)(e).length&&(t=!1,chrome.downloads.onChanged.removeListener(o))},o=function(t){var o=e[t.id];if(o){var i=!1;o.fixNetworkFiled&&(i=function(e,t){var n=parseInt(Date.now()/1e3),o=!1;e.lastFix||(e.lastFix=0),e.lastFix+5<n&&(e.lastFix=n,o=!0);var i=t.state&&"interrupted"===t.state.current,a=t.error&&"NETWORK_FAILED"===t.error.current,r=t.canResume&&t.canResume.current;return i&&a&&r||(o=!1),o}(o,t)),i?chrome.downloads.resume(t.id):t.state&&-1!==["interrupted","complete"].indexOf(t.state.current)&&n(t.id)}};this.download=function(n){var i=n.url,a=n.filename;n.fixNetworkFiled=/(vk\.me|userapi\.com)\/.+\.mp4/i.test(i);var r={url:i,filename:a};s.a.isFirefox&&c.preferences.saveAsDialog&&(r.saveAs=!0),chrome.downloads.download(r,function(i){n.fixNetworkFiled&&(function(t,n){e[t]||(e[t]=n)}(i,n),t||(t=!0,chrome.downloads.onChanged.addListener(o)))})}},chromeDownload:null,downloadFile:function(e){var t=f;if(s.a.isChrome||s.a.isFirefox){t.chromeDownload||(t.chromeDownload=new t.ChromeDl);var n=function(){return t.chromeDownload.download(e.options)};if(chrome.downloads&&chrome.downloads.download)return n();chrome.permissions&&chrome.permissions.request?chrome.permissions.request({permissions:["downloads"]},function(e){if(e)return n();d.error("Permissions not granted!")}):d.error("Method in not supported!")}else s.a.isGM&&GM_download(e.options.url,e.options.filename)},chromeListDownload:function(e,t){var n=null;e=e.map(function(e){return{url:e.url,filename:t+e.filename}});var o=function(e){if(e.id===n&&e.state)return-1!==["interrupted","complete"].indexOf(e.state.current)?(n=null,a()):void 0};chrome.downloads.onChanged.addListener(o);var i=-1,a=function(){var t=e[++i];if(t)return chrome.downloads.download({url:t.url,filename:t.filename},function(e){n=e});chrome.downloads.onChanged.removeListener(o)};return a()},downloadList:function(e){var t=this,n=e.fileList,o=e.folder;(s.a.isChrome||s.a.isFirefox)&&chrome.downloads&&chrome.downloads.download?t.chromeListDownload(n,o):n.forEach(function(e){t.downloadFile({options:{url:e.url,filename:o+e.filename}})})},getUmmyIcon:function(e,t){t("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB90lEQVQ4EcVSy2oUURCtqm7HcYgmYDTiYxEEERdZGP0B0UVwEcSv8LHIb4gbQcjGlVtB40YhfkAWuhs0uFOIgjJomiEzztzue4+n7rTgH6SaoqpPnao6fW+LHLapC9hdPHMbKT1UTcsQWxDBnAAdFkuvQ6QR1cD0QAUVoF+0kKdXBoO32j959maK8V1LVDaBDXkwm9q32atz/hmRpIZb5STqPaDIjP/oFAS5Xu1l/MPCBZhxt09uSRykCn1QhmQr1MiSQ3TPGYdIMtwfZPh3MjkhlvOWOcuTrJQB5VJeR0g5HlzjMSSVpp7mtQGFBJjXwJp69AlqtlTW0bpQ6nNLbTdjSCIxNhkOqUBwBconZYWZr1G6RgXcRoI782k0rO681vVq15o6SGyCrFefbHVnS6eNkmcSyMlOvr48ernimjlf5WcUuP1zr7C7W090/twiMcjw+y95dWcjXRr7Sn6Ba8mmB1RQ/MwqOK2mg356FPFi4xGm4z8I40nOT434OanElDdWM2aH/eAtHOlz98XZRBch0uPnHPu4J9uPn+dNzNGTLho/Kj+D1gza12fl1RuEtlmaaWPiGkOK8k0mecB5Nnes8DZvdiwPgRVrmbAp19aI8Fe2ZSDN86aOk9OpkfiHqfKoap9JfMTWfcavvNXN+/H9G596uPYX83AWUVC6/FsAAAAASUVORK5CYII=")},getWarningIcon:function(e,t){var n,o=e.color||"#c2c2c2";n="audio"===e.type?'<svg width="21px" height="24px" viewBox="0 0 21 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M21,2.76923077 L21,17.6487288 C21,17.6487288 21,17.6487288 21,17.6487288 L21,18.4615385 L20.9068729,18.4615385 C20.723595,19.2712249 20.2716013,20.0865791 19.5669296,20.7680198 C17.9203537,22.360313 15.5176896,22.6184747 14.2004289,21.3446402 C12.8831682,20.0708056 13.1501309,17.7473503 14.7967068,16.1550571 C16.0602516,14.9331676 17.7690324,14.4969051 19.0909091,14.9356816 L19.0909091,14.9356816 L19.0909091,4.15384615 L7.63636364,6.92307692 L7.63636364,19.4948826 C7.63636364,19.4948826 7.63636364,19.4948826 7.63636364,19.4948826 L7.63636364,20.3076923 L7.5432365,20.3076923 C7.35995859,21.1173788 6.90796493,21.9327329 6.20329323,22.6141737 C4.55671732,24.2064669 2.15405328,24.4646286 0.836792552,23.190794 C-0.480468173,21.9169595 -0.213505501,19.5935041 1.43307041,18.0012109 C2.69661523,16.7793214 4.40539601,16.343059 5.72727273,16.7818354 L5.72727273,16.7818354 L5.72727273,6.46153846 L5.72727273,3.69230769 L21,0 L21,2.76923077 Z" fill="'+o+'"></path></svg>':"playlist"===e.type?'<svg width="24px" height="18px" viewBox="0 0 24 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M0,0 L0,3.6 L3.42857143,3.6 L3.42857143,0 L0,0 Z M0,7.2 L0,10.8 L3.42857143,10.8 L3.42857143,7.2 L0,7.2 Z M5.14285714,0 L5.14285714,3.6 L24,3.6 L24,0 L5.14285714,0 Z M5.14285714,7.2 L5.14285714,10.8 L20.5714286,10.8 L20.5714286,7.2 L5.14285714,7.2 Z M0,14.4 L0,18 L3.42857143,18 L3.42857143,14.4 L0,14.4 Z M5.14285714,14.4 L5.14285714,18 L22.2857143,18 L22.2857143,14.4 L5.14285714,14.4 Z" fill="'+o+'"></path></svg>':'<svg width="24px" height="18px" viewBox="0 0 24 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M19.5,3 L21.0089096,3 C22.6582294,3 24,4.34288718 24,5.99942248 L24,15.0005775 C24,16.6556493 22.6608432,18 21.0089096,18 L2.99109042,18 C1.34177063,18 0,16.6571128 0,15.0005775 L0,5.99942248 C0,4.34435073 1.33915679,3 2.99109042,3 L7.5,3 C7.5,1.34651712 8.84187067,0 10.497152,0 L16.502848,0 C18.1583772,0 19.5,1.34314575 19.5,3 L19.5,3 Z M13.5,16.5 C16.8137087,16.5 19.5,13.8137087 19.5,10.5 C19.5,7.18629134 16.8137087,4.5 13.5,4.5 C10.1862913,4.5 7.5,7.18629134 7.5,10.5 C7.5,13.8137087 10.1862913,16.5 13.5,16.5 Z M13.5,15 C15.9852815,15 18,12.9852815 18,10.5 C18,8.0147185 15.9852815,6 13.5,6 C11.0147185,6 9,8.0147185 9,10.5 C9,12.9852815 11.0147185,15 13.5,15 Z" fill="'+o+'"></path></svg>',t("data:image/svg+xml;utf8,"+encodeURIComponent(n))},checkUrlsOfOpenTabs:function(e,t){(s.a.isGM?function(e){e([location.href])}:s.a.isChrome?function(e){var t=[];chrome.tabs.query({},function(n){n.forEach(function(e){t.push(e.url)}),e(t)})}:s.a.isFirefox?function(e){var t=[];if(s.a.isFirefoxMobile)return e(t);chrome.tabs.query({},function(n){n.forEach(function(e){t.push(e.url)}),e(t)})}:s.a.isSafari?function(e){var t=[];safari.application&&safari.application.activeBrowserWindow&&safari.application.activeBrowserWindow.tabs&&safari.application.activeBrowserWindow.tabs.forEach(function(e){if(!e.url)return 1;t.push(e.url)}),e(t)}:function(e){e([])})(function(n){var o=[];n.forEach(function(t){e.forEach(function(e){-1!==t.search(e)&&o.push(t)})}),t(o)})},getData:function(e,t){var n=e.url;return n?(Object(l.a)({url:n},function(e,n,o){if(e)return t();t(o)}),!0):t()}},p=function(e,t){t&&!Array.isArray(t)&&(t=[t]);var n=[];return e.replace(/<script(?:\s*|\s[^>]+[^\/])>/g,function(o,i){i+=o.length;var a=e.indexOf("<\/script>",i);if(-1!==a){var r=e.substr(i,a-i);t?t.every(function(e){return e.test(r)})&&n.push(r):n.push(r)}}),n},m=function(e,t){t&&!Array.isArray(t)&&(t=[t]);for(var n,o=[],i={"{":0,"[":0},a={"}":"{","]":"["},r=/[{}\]\[":0-9.,-]/,s=/[\r\n\s\t]/,l="",u=0;n=e[u];u++)if('"'!==n)r.test(n)?(l+=n,"{"===n||"["===n?(i["{"]||i["["]||(l=n),i[n]++):"}"!==n&&"]"!==n||(i[a[n]]--,i["{"]||i["["]||o.push(l))):"t"===n&&"true"===e.substr(u,4)?(l+="true",u+=3):"f"===n&&"false"===e.substr(u,5)?(l+="false",u+=4):"n"===n&&"null"===e.substr(u,4)?(l+="null",u+=3):s.test(n)||(i["{"]=0,i["["]=0,l="");else{for(var d=u;-1!==d&&(d===u||"\\"===e[d-1]);)d=e.indexOf('"',d+1);-1===d&&(d=e.length-1),l+=e.substr(u,d-u+1),u=d}for(var c,f=[],p=function(e,n){if("{}"!==e&&"[]"!==e)try{t?t.every(function(t){return t.test(e)})&&f.push(JSON.parse(e)):f.push(JSON.parse(e))}catch(e){}},m=0;c=o[m];m++)p(c);return f},h=Object(u.a)("vimeo_com_embed"),g={getVimeoLinks:function(e,t){return g._getVimeoLinks(e.extVideoId,e.url,function(n,o,i){var a={action:e.action,extVideoId:e.extVideoId,links:n,title:o,thumb:i};t(a)}),!0},_getVimeoLinks:function(e,t,n){g.getVimeoNoEmbedLinks(e,t,function(t,o,i){if(t)return n(t,o,i);g.getVimeoEmbedLinks(e,n)})},getVimeoEmbedLinks:function(e,t){var n=function(){return t(null,"","")};if(!e)return n();Object(l.a)({url:"https://player.vimeo.com/video/"+e},function(e,o,i){if(e||!i)return n();var a=null;return m(i,[/"files":/]).some(function(e){if(e.video&&e.request&&e.request.files)return a=e,!0}),(i=g.getLinksFromConfig(a))?t(i.links,i.title,i.thumb):n()})},getVimeoConfig:function(e,t){var n=function(){return t(null,"","")};Object(l.a)({url:e},function(e,o,i){return e||!i?n():(i=g.getVimeoDataFromConfig(i))?t(i.links,i.title,i.thumb):n()})},getVimeoLinksFromConfigAction:function(e,t){var n=this;return new a.default(function(t,o){var i=n.getLinksFromConfig(e.config);i?t(i):o(new Error("Get links from config error"))}).then(t,function(e){h.error("getVimeoLinksFromConfigAction error",e),t(null)}),!0},getClipPageConfig:function(e,t){var n=null;return p(e,/['"]config_url['"]\s*:\s*/).some(function(e){return m(e,/['"]config_url['"]\s*:\s*/).some(function(e){if(e.player&&(n=e.player.config_url))return!0})}),n?g.getVimeoConfig(n,t):t(null,"","")},getVimeoNoEmbedLinks:function(e,t,n){if(e&&t){var o=/vimeo\.com\/[^\/]+\/review\/\d+/i.test(t),i=/vimeo\.com\/\d+\/\w+/i.test(t);o||i||(t=null)}Object(l.a)({url:t||"https://vimeo.com/"+e},function(e,t,o){if(e||!o)return n(null,"","");var i=o.match(/data-config-url=["']([^\s"'<>]+)/i);return(i=i&&i[1].replace(/&amp;/gi,"&"))?g.getVimeoConfig(i,n):g.getClipPageConfig(o,n)})},getVimeoLinksFromConfig:function(e,t){return t(g.getLinksFromConfig(e.config)||null)},getLinksFromConfig:function(e){if(!(e&&e.video&&e.request&&e.request.files))return null;var t=e.video,n=e.request.files,o={};o.title=t.title||"";var i=null;for(var a in t.thumbs)(null===i||i<a)&&(i=a,o.thumb=t.thumbs[a]);for(var r in o.links=[],n)Array.isArray(n[r])&&n[r].forEach(function(e){if(e&&e.url&&e.mime){var t=e.mime.split("/")[1];t||(t=(t=e.url.match(/\.(\w{2,4})(?:\?|#|$)/i))&&t[1]||"mp4");var n=t.toUpperCase(),i=e.quality;/^\d+p$/.test(i)&&(i=i.replace(/p$/,""));var a=n+" "+i;o.links.push({url:e.url,name:a,height:i,type:n,format:n,ext:t})}});return o.links.length||(o=null),o},getVimeoDataFromConfig:function(e){e=e.replace(/(\{|,)\s*(\w+)\s*:/gi,'$1"$2":').replace(/(:\s+)\'/g,'$1"').replace(/\'([,\]\}])/g,'"$1');try{e=JSON.parse(e)}catch(e){return null}return this.getLinksFromConfig(e)}},v=null,b={getDailymotionLinks:function(e,t){var n=b;return b.getEmbedVideoInfo(e.extVideoId,e.metadata,function(o){o||(o={}),n.addUmmyLinks(o.links,e.extVideoId);var i={action:e.action,extVideoId:e.extVideoId,links:o.links,title:o.title,duration:o.duration,thumb:o.thumb};t(i)}),!0},addUmmyLinks:function(e,t){v.preferences.showUmmyItem&&e&&e.length&&e.push({url:"ummy://www.dailymotion.com/video/"+t+"?sf_type=audio",type:"ummyAudio",extra:"ummy",videoId:"dm-"+t})},readDmMetadata:function(e,t){if(e.qualities){delete e.qualities.auto;var n=e.qualities,o=[],i={title:e.title,duration:e.duration,thumb:e.poster_url,links:void 0};for(var a in n){var r=n[a];if(Array.isArray(r))for(var s,l=0;s=r[l];l++)if(/mp4|flv/.test(s.type)&&s.url)if(t)o.push(s.url);else{var u=b.readLink(s.url);u&&o.push(u)}}return o.length&&(t||o.sort(function(e,t){return e.height<t.height}),i.links=o),i}},getPlayerV5Links:function(e,t,n){var o=null;try{if(p(e,/playerV5/).some(function(e){return m(e).some(function(e){if(e&&e.metadata)return o=e.metadata,!0})}),!o)throw"Metadata is not found!"}catch(e){return t()}t(this.readDmMetadata(o,n))},readLink:function(e){var t="",n=(e=(e=e.replace(/\\\//g,"/")).replace(/\@\@[\w\-]+$/,"")).match(/\/cdn\/\w+\-(\d+x\d+)\//i);n&&n.length>1?t=n[1]:(n=e.match(/\D(\d+x\d+)\D/i))&&n.length>1&&(t=n[1]);var o="FLV";if((n=e.match(/\.(\w{1,6})(?:$|\?)/))&&n.length>1&&(o=n[1].toUpperCase()),"80x60"!==t){var i=parseInt(t.split("x").slice(-1)[0]);return{url:e,name:o+" "+i,ext:o,info_url:"",height:i}}},getLinks:function(e,t,n){var o={},i=[],a=e.match(/(?:var|,)\s*info\s*=\s*\{(.*?)\}\s*(?:;|,\s*\w+\s*=)/i);if(!a||a.length<2)return b.getPlayerV5Links(e,t,n);a=a[1];try{if(!(a=JSON.parse("{"+a+"}")))return t();for(var r in o.title=a.title,o.duration=a.duration,o.thumb=a.thumbnail_medium_url,a)if(a.hasOwnProperty(r)&&"string"==typeof a[r]&&a[r].search(/^https?:\/\/[^\s\"]+\.(mp4|flv)(\?|$)/)>-1)if(n)i.push(a[r]);else{var s=b.readLink(a[r]);void 0!==s&&i.push(s)}}catch(e){}i.length>0&&(n||i.sort(function(e,t){return e.height<t.height}),o.links=i),t(o)},getDailymotionEmbedVideoInfoMsg:function(e,t){return Object(l.a)({url:e.url},function(e,n,o){if(e||!o)return t();b.getLinks(o,t,!0)}),!0},getEmbed:function(e,t){Object(l.a)({url:e},function(e,n,o){if(e||!o)return t();b.getLinks(o,t)})},getEmbedVideoInfo:function(e,t,n){if(t){var o=this.readDmMetadata(t);if(o&&o.links&&o.links.length)return n(o)}var i="http://www.dailymotion.com/embed/video/"+e;b.getEmbed(i,n)}},y=function(e,t){var n=null;n=!(t=t||{}).params&&/\?/.test(e)?e.match(/[^?]*\?(.*)/)[1]:e;for(var o=t.sep||"&",i=n.split(o),a={},r=0,s=i.length;r<s;r++){var l=i[r].split("="),u=l[0],d=l[1]||"";if(t.noDecode)a[u]=d;else{try{u=decodeURIComponent(u)}catch(e){u=unescape(u)}try{a[u]=decodeURIComponent(d)}catch(e){a[u]=unescape(d)}}}return a},k=function(e){var t=function(e){for(var t=e[0],n=0;;){if(-1===(n=e.indexOf(t,n+1))){n=e.length;break}if("\\"!==e[n-1])break}var o="";try{o='"'===t?JSON.parse('"'+e.substr(1,n-1)+'"'):JSON.parse('"'+e.substr(1,n-1).replace(/\\'/g,"'").replace(/"/g,'\\"')+'"')}catch(e){}return{data:o,i:n}},n={"[":function(e){var t=[],o=void 0,a=void 0,r=void 0,s=void 0,l=void 0,u="";for(s=1;r=e[s];s++)if(a=n[r])o=a(e.substr(s)),u=(0,i.default)(o.data),s+=o.i;else{if("]"===r)break;","===r?(u&&t.push(u),u=""):u+=r}u&&t.push(u);try{l=JSON.parse("["+t.join(",")+"]")}catch(e){}return{data:l||[],i:s}},"{":function(e){var t=[],o=void 0,a=void 0,r=void 0,s=void 0,l=void 0,u=["",""],d=0;for(s=1;r=e[s];s++)if(a=n[r])o=a(e.substr(s)),u[d]=0===d?o.data:(0,i.default)(o.data),s+=o.i;else{if("}"===r)break;":"===r?d=1:","===r?(t.push((0,i.default)(u[0])+":"+u[1]),u=["",""],d=0):u[d]=(u[d]+r).trim()}u[1]&&t.push((0,i.default)(u[0])+":"+u[1]);try{l=JSON.parse("{"+t.join(",")+"}")}catch(e){}return{data:l||{},i:s}},'"':t,"'":t};return{some:function(t){return function(e,t){for(var o,i=void 0,a=0;o=e[a];a++)if(("["===o||"{"===o)&&(a+=(i=n[o](e.substr(a))).i,t(i.data)))return!0}(e,t)}}},w=/\\(\\u[0-9a-f]{4})/g,x=function(e){try{return JSON.parse((0,i.default)(e).replace(w,"$1"))}catch(t){return e}},S={maxLength:80,rtrim:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,illegalRe:/[\/?<>\\:*|"~\u202B]/g,controlRe:/[\x00-\x1f\x80-\x9f]/g,zeroWidthJoinerRe:/\u200D/g,reservedRe:/^\.+/,trim:function(e){return e.replace(this.rtrim,"")},partsRe:/^(.+)\.([a-z0-9]{1,4})$/i,getParts:function(e){return e.match(this.partsRe)},specialChars:"nbsp,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,times,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,divide,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml".split(","),specialCharsList:[["amp","quot","lt","gt"],[38,34,60,62]],specialCharsRe:/&([^;]{2,6});/g,decodeSpecialChars:function(e){var t=this;return e.replace(this.specialCharsRe,function(e,n){var o=null;if("#"===n[0])return o=parseInt(n.substr(1)),isNaN(o)?"":String.fromCharCode(o);var i=t.specialCharsList[0].indexOf(n);return-1!==i?(o=t.specialCharsList[1][i],String.fromCharCode(o)):-1!==(i=t.specialChars.indexOf(n))?(o=i+160,String.fromCharCode(o)):""})},decodeHexChars:function(e){return e.replace(/(\\x[a-zA-Z0-9]{2})/g,function(e,t){var n=t;try{n=String.fromCharCode(parseInt("0x"+n.substr(2),16))}catch(e){}return n})},rnRe:/\r?\n/g,re1:/[*?"]/g,re2:/</g,re3:/>/g,spaceRe:/[\s\t\uFEFF\xA0]+/g,dblRe:/(\.|!|\?|_|,|-|:|\+){2,}/g,re4:/[.,:;\/\-_+=']$/g,modify:function(e){if(!e)return"";e=x(e);try{e=decodeURIComponent(e)}catch(t){e=unescape(e)}if(e=(e=this.decodeSpecialChars(e)).replace(this.rnRe," "),(e=(e=this.trim(e)).replace(this.zeroWidthJoinerRe,"").replace(this.re1,"").replace(this.re2,"(").replace(this.re2,"(").replace(this.re3,")").replace(this.spaceRe," ").replace(this.dblRe,"$1").replace(this.illegalRe,"_").replace(this.controlRe,"").replace(this.reservedRe,"").replace(this.re4,"")).length>this.maxLength){var t=this.getParts(e);t&&3==t.length&&(t[1]=t[1].substr(0,this.maxLength),e=t[1]+"."+t[2])}return this.trim(e)}},A=Object(u.a)("youtube_embed"),M=n(6),_=null,L={lastSts:["17765",[["reverse",null],["swap",17],["swap",23],["reverse",null],["swap",19],["splice",1],["reverse",null],["swap",57],["splice",1]]],_stsIsLoaded:!1,_lastSignature:null,_dashMpdSigR:/(\/s\/([^\/]+))/,getYoutubeLinks:function(e,t){function n(n,o,i,a){L.addUmmyLinks(n,e.extVideoId);var r={action:e.action,extVideoId:e.extVideoId,links:n,title:o,subtitles:i,duration:a,checkLinks:null};return e.checkLinks&&n?L.checkYoutubeLinks(n,function(e,n){return r.checkLinks=n,t(r)}):t(r)}return L._prepareLastSts().then(function(){return L._getYoutubeLinks(e.url,e.extVideoId,e.checkSubtitles,e.noDash).then(function(e){n(e.links,e.title,e.subtitles,e.duration)},function(e){A.error("_getYoutubeLinks error",e),n(null,"",null,"")})}),!0},_getYoutubeLinks:function(e,t,n,o){var i=this;return e||(e="https://www.youtube.com/watch?v="+t),i._getVideoInfo(t,e).then(function(e){var a=e.config,r=e.signature;return i.onGetConfig(t,n,o,a,r)})},_getVideoInfo:function(e,t){var n=this,o=n._rp,i=function(e,t,i,a,r){var l={};return(s.a.isChromeMobile||s.a.isFirefoxMobile)&&(l["User-Agent"]="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"),o({url:"https://"+e+"/get_video_info?"+M.stringify({video_id:i,eurl:t,el:a,sts:r.sts}),headers:l}).then(function(e){return n._dataStrToObj(e)}).then(function(e){var t;if(2===parseInt(e.errorcode,10))throw(t=new Error("Invalid parameters")).code="INVALID_REQUEST",t;if(150===parseInt(e.errorcode,10))throw(t=new Error("Video is unavailable")).code="UNAVAILABLE",t;if(!e.video_id)throw new Error("Config videoId is empty!");return{signature:r,config:e}})},r=function(e,t,o){var i=a.default.resolve(null);return n._getChipedItem(e)&&(i=i.then(function(){if(!t)throw new Error("Player url is not found!");return n._ytHtml5SigDecipher.dechip(t,o)})),i};return n._getSignature().then(function(n){return i("www.youtube-nocookie.com",t,e,"detailpage",n).then(function(e){var t=e.config;if("1"===t.requires_purchase||""===t.url_encoded_fmt_stream_map||""===t.fmt_url_map||""===t.adaptive_fmts||t.errorcode>0)throw new Error("Some config keys is bad");return e},function(e){throw A.debug("try 1",e),e}).catch(function(){return i("www.youtube.com",t,e,"detailpage",n).catch(function(e){throw A.debug("try 2",e),e})}).catch(function(){return i("www.youtube-nocookie.com",t,e,"embedded",n).then(function(e){var t=e.config;if("1"===t.requires_purchase||""===t.url_encoded_fmt_stream_map||""===t.fmt_url_map||""===t.adaptive_fmts||t.errorcode>0)throw new Error("Some config keys is bad");return e},function(e){throw A.debug("try 3",e),e})}).catch(function(){return i("www.youtube.com",t,e,"embedded",n).catch(function(e){throw A.debug("try 4",e),e})})}).catch(function(e){throw A.debug("_getSignature error",e),e}).catch(function(){return function(e){var t={};return(s.a.isChromeMobile||s.a.isFirefoxMobile)&&(t["User-Agent"]="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"),o({url:"https://www.youtube.com/watch?"+M.stringify({v:e,spf:"navigate"}),headers:t}).then(function(e){var t=null;if(JSON.parse(e).some(function(e){if(e.data&&e.data.swfcfg)return t=e.data.swfcfg,!0}),!t)throw new Error("swfcfg is not found");if(!t.args||"object"!=typeof t.args)throw new Error("jsonList args is not found!");var o=n._decodeParams(t.args);if(!o.video_id)throw new Error("Config videoId is empty!");var i=parseInt(t.sts),a=t.assets&&t.assets.js;return r(o,a,i).then(function(e){return{config:o,signature:e}})})}(e).catch(function(e){throw A.debug("try 5",e),e})}).catch(function(){return function(e){var t={};return(s.a.isChromeMobile||s.a.isFirefoxMobile)&&(t["User-Agent"]="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"),o({url:"https://www.youtube.com/watch?"+M.stringify({v:e}),headers:t}).then(function(e){var t=p(e,/ytplayer\.config\s+=\s+/);if(!t.length)throw new Error("Video page script is not found!");t=t[0];var o=m(t,[/"video_id":/])[0];if(!o)throw new Error("Video page jsonList is not found!");if(!o.args||"object"!=typeof o.args)throw new Error("jsonList args is not found!");var i=n._decodeParams(o.args);if(!i.video_id)throw new Error("Config videoId is empty!");var a=parseInt(o.sts),s=o.assets&&o.assets.js;return r(i,s,a).then(function(e){return{config:i,signature:e}})})}(e).catch(function(e){throw A.debug("try 6",e),e})}).catch(function(){throw new Error("Get config error")}).then(function(e){var t=e.config,o=e.signature;return n._testSignature(t,o).then(function(){return{config:t,signature:o}})})},_getSignature:function(){var e=this,t=e._rp;if(e._lastSignature&&e._lastSignature.expire>parseInt(Date.now()/1e3))return a.default.resolve(e._lastSignature);var n={};return(s.a.isChromeMobile||s.a.isFirefoxMobile)&&(n["User-Agent"]="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"),t({url:"https://www.youtube.com/",headers:n}).then(function(t){var n=null;try{n=e.getPlayerStsAndUrlFromHtml(t)}catch(o){n=e.getPlayerStsAndUrlFromAuthHtml(t)}return n}).then(function(t){return t.sts?t:e._ytHtml5SigDecipher.dechip(t.playerUrl)}).then(function(t){return t.expire=parseInt(Date.now()/1e3)+21600,e._lastSignature=t})},getPlayerStsAndUrlFromHtml:function(e){var t=p(e,/window\.ytplayer\s*=\s*/);if(!t.length)throw new Error("Player config is not found");t=t[0];var n=m(t,[/"PLAYER_JS_URL":/]);if(!n.length)throw new Error("Player url is not found!");var o=(n=n[0]).PLAYER_JS_URL;if(!o)throw new Error("playerUrl is not found");return{sts:null,playerUrl:o}},getPlayerStsAndUrlFromAuthHtml:function(e){var t=p(e,/ytplayer\.config\s+=\s+/);if(!t.length)throw new Error("Player config script is not found");t=t[0];var n=m(t,[/"assets":/,/"sts":\d+/]);if(!n.length)throw new Error("Player config json is not found!");var o=(n=n[0]).assets&&n.assets.js;if(!o)throw new Error("playerUrl is not found");return{sts:parseInt(n.sts),playerUrl:o}},_dataStrToObj:function(e){return this._decodeParams(y(e,{params:!0}))},_decodeParams:function(e){var t=this;return["url_encoded_fmt_stream_map","adaptive_fmts","fmt_url_map"].forEach(function(n){e[n]&&(e[n]=e[n].split(",").map(function(e){return t._dataStrToObj(e)}))}),e},_testSignature:function(e,t){var n=this,o=n._rp,i=n._getChipedItem(e);return i?a.default.resolve().then(function(){return t.actionList?t:n._ytHtml5SigDecipher.dechip(t.playerUrl,t.sts).then(function(e){return t.sts=e.sts,t.actionList=e.actionList,t})}).then(function(e){var t,a=n._ytHtml5SigDecipher.applyActions(e.actionList,i.s);return t=i.getUrl?i.getUrl(a):i.url+"&signature="+a,o({method:"HEAD",url:t}).then(function(){return n._ytHtml5SigDecipher.saveSignature(e)},function(e){if(/403/.test(e.message))throw e})}):a.default.resolve()},_getChipedItem:function(e){var t=null;["url_encoded_fmt_stream_map","adaptive_fmts","fmt_url_map"].some(function(n){var o=e[n];return!!o&&o.some(function(e){if(e.s&&e.url)return t=e,!0})});var n=e.dashmpd;if(!t&&n){var o=this._dashMpdSigR.exec(n);o&&(t={s:o[2],url:n.replace(o[1],""),getUrl:function(e,t,n){return e.replace(t[1],"/signature/"+n)}.bind(null,n,o)})}return t},readFmt:function(e,t,n,o){var i=this,a=e.meta;t.forEach(function(t){if(t.stream)a.hasStream=1;else{var r=t.url;if(r){/([?&])s(ig(nature)?)?=/i.test(r)||(t.sig?r+="&signature="+t.sig:t.signature?r+="&signature="+t.signature:t.s&&(r+="&signature="+i._ytHtml5SigDecipher.applyActions(n.actionList,t.s))),r=r.replace(/([?&])sig=/i,"$1signature=").replace(/\\u0026/gi,"&");var s=t.itag;if(!s){var l=/(?:[?&])itag=(\d+)/i.exec(r);l&&(s=l[1])}if(s){/[?&]itag=/i.test(r)||(r+="&itag="+s),r=i._addRateByPass(r);var u=a[s];if(u||(u=a[s]={}),t.fps&&(u.fps=t.fps),t.size&&/^\d+x\d+$/.test(t.size)){var d=t.size.split("x");u.quality=L.getDashQuality(d[0],d[1])}if(t.bitrate&&(u.bitrate=parseInt(t.bitrate)),t.type){u.type=t.type;var c=t.type.match(/codecs="([^"]+)"/);c&&(u.codecs=c[1])}t.projection_type&&(u.projectionType=parseInt(t.projection_type)),e[s]||(e[s]=r+o)}}}})},onGetConfig:function(e,t,n,o,i){var s=this,l={meta:{}},u="",d=null,c="",f=null;return a.default.resolve().then(function(){c=o.length_seconds||"";var e="";(u=o.title||"")&&(u=u.replace(/\+/g," "),e="&title="+encodeURIComponent(S.modify(u)));var t=o.fmt_url_map||o.url_encoded_fmt_stream_map||[],n=o.adaptive_fmts||[];(o.livestream||o.live_playback)&&(l.meta.hasStream=1),t&&s.readFmt(l,t,i,e),n&&s.readFmt(l,n,i,e),(f=o.dashmpd||"")&&-1!==f.indexOf("yt_live_broadcast")&&(f=null)}).then(function(){var o=a.default.resolve();return t&&(o=o.then(function(){return new a.default(function(t){s.getYoutubeSubtitles({extVideoId:e},function(e){d=e||null,t()})}).catch(function(e){A.error("Get subtitles error",e)})})),!n&&f&&(o=o.then(function(){var e=f,t=s._dashMpdSigR.exec(f);if(t){var n=s._ytHtml5SigDecipher.applyActions(i.actionList,t[2]);e=f.replace(t[1],"/signature/"+n)}return e=e.replace("/sig/","/signature/"),s.getYouTubeDashLinks(l,e).catch(function(e){A.error("Get dash error",e)})})),o}).then(function(){var e=(0,r.default)(l).length;return l.meta&&!l.meta.hasStream&&e--,e||(l=null),{links:l,title:u,subtitles:d,duration:c}})},addUmmyLinks:function(e,t){if(!(!e||e.meta&&e.meta.hasStream)&&_.preferences.showUmmyItem){var n=e.meta;n||(n=e.meta={}),n.videoId=t,e.ummy="ummy://www.youtube.com/watch?v="+t,e.ummyAudio="ummy://www.youtube.com/watch?v="+t+"&sf_type=audio"}},checkYoutubeLinks:function(e,t){for(var n=["18","34","35"],o="",i=0;i<n.length;i++)if(e[n[i]]){o=e[n[i]];break}o?Object(l.a)({type:"HEAD",url:o},function(e,n){t(o,!e)}):t()},convertVtt2Srt:function(e,t){Object(l.a)({url:e.url},function(n,o,i){if(n||!i)return console.error("Request error!",n),t();var a=/(\d{2}:\d{2}:\d{2})\.(\d{3})/g,r=/^\d{2}:\d{2}:\d{2}\.\d{3}/,s=i.split("\n\n");r.test(s[0])||s.shift(),r.test(s[s.length-1])||s.pop();var l=!1,u=s.filter(function(e){var t=r.test(e);return t||(l=!0),t}).map(function(e,t){return t+1+"\n"+e.replace(a,"$1,$2")});if(u=u.join("\n\n"),l)return t();e.srt=u,e.preprocess="srt2url",t()})},getYoutubeSubtitles:function(e,t){var n=this,o=e.extVideoId,i="http://video.google.com/timedtext";Object(l.a)({url:i+"?hl="+s.a.i18n.getMessage("lang")+"&v="+o+"&type=list&tlangs=1",xml:!0},function(e,a,r){if(e||!r)return t();for(var s,l,u=r.querySelectorAll("track"),d=r.querySelectorAll("target"),c=[],f={},p={},m=void 0,h=0;g=u[h];h++)l={lang:s=g.getAttribute("lang_code"),v:o,fmt:"vtt",name:g.getAttribute("name")||void 0},f[s]={lang:g.getAttribute("lang_translated"),langCode:s,url:i+"?"+M.stringify(l),name:l.name},c.push(f[s]),!m&&g.getAttribute("cantran")&&(m=l);if(m)for(h=0;g=d[h];h++)s=g.getAttribute("lang_code"),l={lang:m.lang,v:o,tlang:s,fmt:"vtt",name:m.name},p[s]={lang:g.getAttribute("lang_translated"),langCode:s,url:i+"?"+M.stringify(l),isAuto:!0};0===(s=navigator.language.toLowerCase()).indexOf("zh-hant")?s="zh-Hant":0===s.indexOf("zh-hans")&&(s="zh-Hans");var g,v=[s];for("uk"===v[0]&&v.push("ru"),h=0;g=v[h];h++)!f[g]&&p[g]&&c.push(p[g]);var b=0,y=0,k=function(){if(b===++y)return t(c)};b++,c.forEach(function(e){b++,n.convertVtt2Srt(e,k)}),k()})},getYouTubeDashLinks:function(e,t){var n=this,o=n._rp,i={};return(s.a.isChromeMobile||s.a.isFirefoxMobile)&&(i["User-Agent"]="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"),o({url:t,headers:i,xml:!0}).then(function(t){n.parseDash(t,e)})},getDashQuality:function(e,t){var n,o={144:144,240:240,360:360,480:480,720:720,1080:1080,1440:1440,"4K":2160,"5K":2880,"8K":4320},i=Math.max(e,t);for(var a in e=Math.min(e,t),o){var r=o[a];if(!(i>=Math.floor(16*r/9)||e>=r))return n;n=a}return n},parseDash:function(e,t){for(var n,o=e.querySelectorAll("Representation"),i=t.meta=t.meta||{},a=0;n=o[a];a++){var r=n.querySelector("BaseURL"),s=r.textContent;if(s){var l=r.parentNode.querySelector("SegmentURL"),u=l&&l.getAttribute("media");if(!u||0!==u.indexOf("sq/")){var d=n.getAttribute("id"),c=i[d];c||(c=i[d]={}),s=this._addRateByPass(s);var f=n.getAttribute("frameRate");f&&(c.fps=f);var p=n.getAttribute("width"),m=n.getAttribute("height");p&&m&&(c.quality=L.getDashQuality(p,m));var h=n.getAttribute("codecs");if(h){c.codecs=h;var g=s.match(/mime=([^&]+)/);(g=g&&g[1])&&(c.type=g)}t[d]||(t[d]=s)}}}},getYoutubeIdListFromPlaylist:function(e,t){return L.getIdListFromList(e.baseUrl||"https://www.youtube.com",e.listId,t),!0},getIdListFromList:function(){var e=function e(n,o,i,a){i||(i=[]),Object(l.a)({url:n+o,json:!0},function(o,r,s){if(o||!s)return a(i);i.push(s.content_html);var l=t(s.load_more_widget_html);if(void 0===l)return a(i);e(n,l,i,a)})},t=function(e){if(e){var t=e.match(/data-uix-load-more-href="([^"]+)"/);return t&&(t=t[1]),t||void 0}},n=function(e,t,n){for(var o=function(e){var t=e.match(/<h1[^>]+>([^<]+)<\/h1>/);if(t)return t[1].replace(/\r?\n/g," ").trim()}(t[0]),i={},a=[],r=/href="\/watch\?([^"]+)"/g,s=0,l=0,u=t.length;l<u;l++)t[l].replace(r,function(t,n){var o=y(n,{params:!0,sep:"&amp;"});o.list===e&&(o.index=parseInt(o.index),i[o.index]=o.v,o.index>s&&(s=o.index))});for(l=0;l<=s;l++)void 0!==i[l]&&-1===a.indexOf(i[l])&&a.push(i[l]);n({idList:a,title:o})},o=function(e){var t=null,n=e.match(/"nextContinuationData":({[^}]+})/);if(n)try{var o=JSON.parse(n[1]);t="/browse_ajax?"+M.stringify({ctoken:o.continuation,itct:o.clickTrackingParams})}catch(e){A.debug("getNewNextPageUrl error",e)}return t},a=function(e,t){var n=function(e){Array.isArray(e)&&e.forEach(function(e){var n=e.playlistVideoRenderer,o=n&&n.videoId;o&&t.push(o)})},o=e.indexOf('{"playlistVideoListRenderer":{');-1!==o?(e=e.substr(o),m(e).forEach(function(e){var t=e.playlistVideoListRenderer,o=t&&t.contents;n(o)})):-1!==(o=e.indexOf('{"playlistVideoListContinuation":{'))&&(e=e.substr(o),m(e).forEach(function(e){var t=e.playlistVideoListContinuation,o=t&&t.contents;n(o)}))},r=function e(t,n,r,s,u){Object(l.a)({url:t+n,headers:r,json:!0},function(n,l,d){if(n)return A.error("YT next page request error!",n),u();var c=(0,i.default)(d),f=o(c);a(c,s),f?e(t,f,r,s,u):u()})};return function(i,s,u){Object(l.a)({url:i+"/playlist?list="+s},function(l,d,c){if(l)return u();var f=null;if(/"playlistVideoListRenderer"/.test(c)){var p=function(e){var t={},n=null,o=/ytcfg\.set\(({.+)/.exec(c);return o&&k(o[1]).some(function(e){if(e.INNERTUBE_CONTEXT_CLIENT_NAME)return n=e,!0}),n&&(t["x-youtube-client-name"]=n.INNERTUBE_CONTEXT_CLIENT_NAME,t["x-youtube-client-version"]=n.INNERTUBE_CONTEXT_CLIENT_VERSION,n.ID_TOKEN&&(t["x-youtube-identity-token"]=n.ID_TOKEN)),t}(),m=function(e){var t="unknown",n=null,o=c.match(/"playlistSidebarPrimaryInfoRenderer":({.+)/);if(o&&k(o[1]).some(function(e){if(e.title&&e.title.runs)return n=e,!0}),n)try{n.title.runs.some(function(e){if(e.text)return t=e.text})}catch(e){A.debug("getNewTitle error",e)}return t}(0),h=[];a(c,h),(f=o(c))?r(i,f,p,h,function(){u({idList:h,title:m})}):u({idList:h,title:m})}else(f=t(c))?e(i,f,[c],function(e){n(s,e,u)}):n(s,[c],u)})}}(),getYoutubeLinksFromConfig:function(e,t){var n=this;return this._prepareLastSts().then(function(){var o=e.config;if(!(o&&o.args&&o.args.video_id===e.extVideoId&&o.assets&&o.assets.js&&(o.args.url_encoded_fmt_stream_map||o.args.adaptive_fmts||o.args.fmt_url_map)))throw new Error("jsonList args is not found!");var i=n._decodeParams(o.args,1),r=parseInt(o.sts),s=o.assets&&o.assets.js;return a.default.resolve().then(function(){if(n._getChipedItem(i)){if(!s)throw new Error("Player url is not found!");return n._ytHtml5SigDecipher.dechip(s,r)}return null}).then(function(e){return n._testSignature(i,e).then(function(){return{config:i,signature:e}})}).then(function(o){var i=o.config,a=o.signature;return n.onGetConfig(e.extVideoId,e.checkSubtitles,e.noDash,i,a).then(function(n){var o=n.links,i=n.title;o&&L.addUmmyLinks(o,e.extVideoId),t({links:o,title:i,isQuick:1})})})}).catch(function(n){A.debug("Skip getYoutubeLinksFromConfig",n),L.getYoutubeLinks(e,t)}),!0},_addRateByPass:function(e){return/ratebypass/.test(e)||(/\?/.test(e)?e+="&ratebypass=yes":(/\/$/.test(e)||(e+="/"),e+="ratebypass/yes/")),e},_ytHtml5SigDecipher:{applyActions:function(e,t){for(var n,o={slice:function(e,t){e.slice(t)},splice:function(e,t){e.splice(0,t)},reverse:function(e){e.reverse()},swap:function(e,t){var n=e[0];e[0]=e[t%e.length],e[t]=n}},i=t.split(""),a=0;n=e[a];a++)o[n[0]](i,n[1]);return i.join("")},readObfFunc:function(e,t){var n=e.match(/\[(\w+)\]/g);if(n){for(var o,i=0;o=n[i];i++){var a=t.match(new RegExp("[, ]{1}"+o.slice(1,-1)+'="(\\w+)"'));a&&(e=e.replace(o,"."+a[1]))}var r,s=e.split(";"),l=[];for(i=0;r=s[i];i++)if(-1===r.indexOf(".split(")&&-1===r.indexOf(".join("))if(-1===r.indexOf("reverse"))if(u=r.match(/splice\((\d+)\)/)){if(u=parseInt(u[1]),isNaN(u))return;l.push(["splice",u])}else if(u=r.match(/slice\((\d+)\)/)){if(u=parseInt(u[1]),isNaN(u))return;l.push(["slice",u])}else{var u;if(u=r.match(/\[(\d+)%\w+\.length/)){if(u=parseInt(u[1]),isNaN(u))return;l.push(["swap",u])}}else l.push(["reverse",null]);return l}},getNewChip:function(e){var t=function(t){var n=/([\w$]+)(?:\.([\w$]+)|\[("[\w$]+")\])\([\w$]+,?([\w$]+)?\)/.exec(t);if(!n)throw new Error("readAction");var o=n[1],i=n[2]||n[3],a=n[4],r=function(t,n){t=t.replace(/\$/g,"\\$");var o=new RegExp("(?:var |,)?"+t+"={"),i=e.search(o);if(-1===i)throw new Error("Place is not found");var a=e.substr(i,300);n=n.replace(/\$/g,"\\$");var r=new RegExp(n+":function\\(([$\\w,]+)\\){([^}]+)}"),s=a.match(r);if(!s)throw new Error("Place function is not found!");return{args:s[1],statement:s[2]}}(o,i);if(/\.reverse/.test(r.statement))return["reverse",null];if(!/^[\d]+$/.test(a))throw new Error("Arg is not number");return/\.splice/.test(r.statement)?["splice",parseInt(a)]:/\.slice/.test(r.statement)?["slice",parseInt(a)]:["swap",parseInt(a)]},n=/,sts:(\d+)/.exec(e);if(!n)throw new Error("Sts is not found");var o=parseInt(n[1]),i=/[$_a-zA-Z0-9]+\.set\((?:[$_a-zA-Z0-9]+\.[$_a-zA-Z0-9]+\|\|)?"signature",([$_a-zA-Z0-9]+)\(/.exec(e);if(i?A.debug("new chip"):(i=/(?:function ([$_a-zA-Z0-9]+)|(?:var |,|;\n)([$_a-zA-Z0-9]+)=function)\(([\w$]+)\){\3=\3\.split\([^}]+;return \3\.join\([^}]+}[;,]/.exec(e))&&(A.debug("alt chip"),i=[i[0],i[1]||i[2]]),!i)throw new Error("Decode function name is not found!");var a=function(n){n=n.replace(/\$/g,"\\$");var o=new RegExp("(?:function "+n+"|(?:var |,|;\n)"+n+"=function)\\(([\\w$]+)\\){([^}]*)}[;,]").exec(e);if(!o)throw new Error("findConvertFn");return function(e,n){e=e.replace(/\$/g,"\\$");var o=new RegExp('[\\w$]+(?:\\.[\\w$]+|\\["[\\w$]+"\\])\\('+e+"[^)]*\\)","g"),i=n.match(o);if(!i)throw new Error("readScope");return i.map(function(e){return t(e)})}(o[1],o[2])}(i[1]);if(!a.length)throw new Error("actionList is empty");return{actionList:a,sts:o}},getChip:function(e){var t=e.match(/,sts:(\d+)/);t=t&&t[1];var n=[],o=e.match(/\.sig\|\|([$_a-zA-Z0-9]+)\(/);if(!o)return this.getNewChip(e);A.debug("old chip"),o=(o=o[1]).replace(/\$/g,"\\$");var i=e.match(new RegExp("((?:function "+o+"|(?:var |,|;\n)"+o+"=function)\\(([\\w$]+)\\){[^}]*})[;,]"));if(!i)throw new Error("Func is not found!");var a=i[2];i=i[1];var r=new RegExp("[\\w$]+\\.[\\w$]+\\("+a+"[^)]*\\)","g"),s=i.match(r);if(!s){if((n=this.readObfFunc(i,e))&&n.length>0)return{actionList:n,sts:t};throw new Error("readObfFunc actions is not found")}for(var l,u="",d=[],c=0;l=s[c];c++){var f=l.match(/([\w$]+)\.([\w$]+)\([\w$]+,?([\w$]+)?\)/);f&&(u=f[1],d.push({name:f[2],arg:parseInt(f[3])}))}var p=e.indexOf("var "+u+"={");-1===p&&(p=e.indexOf(","+u+"={")),-1===p&&(p=e.indexOf(u+"={"));var m=e.substr(p,300);for(c=0;l=d[c];c++){a=l.name,r=new RegExp(a+":(function\\([$\\w,]+\\){[^}]+})");var h=m.match(r);if(!h)throw new Error("Match fn error");if(-1!==(h=h[1]).indexOf("splice")){if(isNaN(l.arg))throw new Error("Match splice error");n.push(["splice",l.arg])}else if(-1!==h.indexOf("slice")){if(isNaN(l.arg))throw new Error("Match slice error");n.push(["slice",l.arg])}else if(-1!==h.indexOf("reverse"))l.arg=null,n.push(["reverse",l.arg]);else{if(isNaN(l.arg))throw new Error("Match reverse error");n.push(["swap",l.arg])}}return{actionList:n,sts:t}},getPlayer:function(e){"//"===e.substr(0,2)?e="https:"+e:"/"===e[0]&&(e="https://www.youtube.com"+e);var t={};return(s.a.isChromeMobile||s.a.isFirefoxMobile)&&(t["User-Agent"]="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"),(0,L._rp)({url:e,headers:t})},playerUrlSts:{},storage:{},saveSignature:function(e){var t=this;t.playerUrlSts[e.playerUrl]||(t.playerUrlSts[e.playerUrl]=e.sts);var n=t.storage[e.sts];if(!n||(0,i.default)(n)!==(0,i.default)(e.actionList))return(0,r.default)(t.storage).sort(function(e,t){return e<t?1:-1}).slice(3).forEach(function(e){delete t.storage[e]}),e.sts&&e.actionList&&(t.storage[e.sts]=e.actionList),new a.default(function(e){s.a.storage.set({ytDechipList:t.storage},e)})},isTrackError:{},dechip:function(e,t){var n=this;t||(t=n.playerUrlSts[e]);var o=n.storage[t];return o?a.default.resolve({sts:t,actionList:o,playerUrl:e}):n.getPlayer(e).then(function(e){return n.getChip(e)}).then(function(t){return{sts:t.sts,actionList:t.actionList,playerUrl:e}}).catch(function(o){var i,a=/\/(?:[^\/]+)?player-([^\/]+)\//.exec(e);throw i=a?a[1]:"unknownPlayerName",n.isTrackError[i]||(n.isTrackError[i]=1,i&&t&&_.track({t:"event",ec:"youtube",ea:"pError",el:t+" "+i})),o})}},_prepareLastSts:function(){var e=this;return e._stsIsLoaded?a.default.resolve():(e._stsIsLoaded=!0,new a.default(function(e){s.a.storage.get({ytDechipList:{}},e)}).then(function(t){var n=t.ytDechipList||{};e._ytHtml5SigDecipher.storage=n;var o=e.lastSts,i=o[0],a=o[1];n[i]=a;var s=(0,r.default)(n).sort(function(e,t){return e<t?1:-1}).shift(),l=n[s];i<s&&(e.lastSts[0]=s,e.lastSts[1]=l)}))},_rp:function(e){return new a.default(function(t,n){Object(l.a)(e,function(e,o,i){e&&"string"==typeof e&&(e=new Error(e)),e?n(e):t(i)})})}},C={getSoundcloudTrackInfo:function(e,t){return C._getSoundcloudTrackInfo(e.trackUrl,e.client_id,function(n,o){var i={action:e.action,trackUrl:e.trackUrl,client_id:e.client_id,data:n,checkLinks:o};t(i)}),!0},_getSoundcloudTrackInfo:function(e,t,n){if(e&&t){var o="http://api.soundcloud.com/resolve.json?url="+e+"&client_id="+encodeURIComponent(t);Object(l.a)({url:o,headers:{Referer:o},json:!0},function(e,o){var i=o.body;if(e||!i)return n();C.checkSoundcloudLinks(i,t,n)})}else n(null)},checkSoundcloudLinks:function(e,t,n){if(!e)return n();var o=e;if("track"!==o.kind&&o.tracks&&1===o.tracks.length&&(o=o.tracks[0]),"track"===o.kind&&o.stream_url)C.validateSoundcloudTrackUrl(o.stream_url,t,function(t){n(e,t)});else{if(!o.tracks||!o.tracks[0])return n(e);C.validateSoundcloudTrackUrl(o.tracks[0].stream_url,t,function(t){n(e,t)})}},validateSoundcloudTrackUrl:function(e,t,n){e+=-1===e.indexOf("?")?"?":"&",e+="client_id="+t,Object(l.a)({url:e,type:"HEAD"},function(e){n(!e)})}},O=function(e,t){t&&!Array.isArray(t)&&(t=[t]);var n=[],o=-1,i=-1;do{if(-1!==(i=e.indexOf('"',i+1))){if("\\"===e[i-1])continue;-1!==o?(n.push(e.substr(o,i+1-o)),o=-1):o=i}else o=i}while(-1!==i);for(var a,r=[],s=function(e,n){if('""'!==e)try{t?t.every(function(t){return t.test(e)})&&r.push(JSON.parse(e)):r.push(JSON.parse(e))}catch(e){}},l=0;a=n[l];l++)s(a);return r},I=null,P={getVKLinks:function(e,t){return P._getVKLinks(e.extVideoId,function(n,o,i,a,r,s,l){if(l)return l.origRequest=e,void I.onMessage(l,{},t);var u={action:e.action,extVideoId:n||e.extVideoId,links:o,title:i,duration:a,thumb:r,data:s,checkLinks:null};e.checkLinks&&o&&o.length>0?P.checkVkLinks(o,function(e,n){u.checkLinks=n,t(u)}):t(u)}),!0},preparePladformLinks:function(e){var t,n={links:t=[]};return e.forEach(function(e){n.title=e.title,n.duration=e.duration,n.thumb=e.cover;var o=e.url.match(/[\w]+\.(mp4|flv)(?:\?|$)/i);o=o?o[1]:"flv",t.push({url:e.url,name:o.toUpperCase(),subname:e.quality.toUpperCase(),type:o.toLowerCase()})}),n},_getVKLinks:function(e,t){var n=[],o=e,i=null,a="",r="",s=e,u=null,d=null,c=null,f=/^video(-?\d+)_(\d+)/i;return f.test(s)?(u=s.match(f),d=parseInt(u[1]),c=parseInt(u[2])):(u=s.match(/(?:^|&)oid=(-?\d+)/i),d=u&&parseInt(u[1]),u=s.match(/(?:^|&)id=(-?\d+)/i),c=u&&parseInt(u[1]),s="",d&&c&&(s="video"+d+"_"+c)),s?(o=s,Object(l.a)({url:"https://vk.com/"+s},function(e,l,u){if(e||!u)return t(s,n,o,r,a,null,i);var f=null;if(m(u,[/"vid":/,/"oid":/,/"md_title":/]).some(function(e){var t=e&&e[4]&&e[4].player&&e[4].player.params&&e[4].player.params[0];if(t&&t.vid===c&&t.oid===d)return f=t,!0}),f){var p=P.getVkLinksFromJson(f);return n=p.links,o=p.title,a=p.thumb,r=p.duration,t(s,n,o,r,a,f,i)}var h=null;m(u,[/"player"/]).some(function(e){var t=e&&e[4]&&e[4].player&&e[4].player.params&&e[4].player.params[0];if("string"==typeof t)return h=t,!0});var g,v=!1;if(h&&(g=/dailymotion.com\/(?:swf\/)?video\/([\w\d]+)/i.exec(h))&&(i={action:"getDailymotionLinks",extVideoId:g[1]},v=!0),v)return t(s,n,o,r,a,null,i);var b=!1;return O(u,/video_box_wrap/).some(function(e){var l=null,d=/<iframe([^>]+)>/i.exec(e);if(d){var c=d[1];if(l=/youtube.com\\?\/embed\\?\/([\w\-]+)/i.exec(c))return i={action:"getYoutubeLinks",extVideoId:l[1]},!0;if(l=/vimeo.com\\?\/video\\?\/(\d+)/i.exec(c))return i={action:"getVimeoLinks",extVideoId:l[1]},!0;if(l=/src="([^"]*pladform\.ru[^"]+)"/i.exec(c)){b=!0;var f=y(l[1]);return I.modules.odnoklassniki.getPladformVideo({extVideoId:{playerId:f.pl,videoId:f.videoid}},function(e){e&&"getRutubeLinks"===e.action&&(e.links=null);var l=e&&e.links;if(!Array.isArray(l))return t(s,n,o,r,a,null,i);var u=P.preparePladformLinks(l);return t(s,u.links,u.title,u.duration,u.thumb,null,i)}),!0}}return!!function(e,t,n){n=n||[],Array.isArray(n)||(n=[n]);for(var o=[],i=new RegExp("(<"+e+"[^>]*>)","i"),a=new RegExp("(</"+e+">)","i"),r=null,s="",l="",u="",d=-1;(r=i.exec(t))&&(s=r[1],-1!==(d=t.indexOf(s)));)t=t.substr(d+s.length),(r=a.exec(t))&&(l=r[1],u=t.substr(0,t.indexOf(l)),o.push(s+u+l));return o.filter(function(e){return n.every(function(t){return t.test(e)})})}("video",e).some(function(e){var t=function(e,t){var n=(new DOMParser).parseFromString("<html><body>"+e+"</body></html>","text/html");if(t){var o=n.head.querySelector("base");o||((o=n.createElement("base")).href=t,n.head.appendChild(o))}return n}(e,"https://vk.com/"),i=!1;return[].slice.call(t.querySelectorAll("source")).forEach(function(e){var t=!1,a=e.src;if(t||/^(.*cdninstagram\.com.+mp4)/i.exec(a)&&(t=!0,i=!0,n.push({url:a,subname:"SD",name:"MP4",type:"mp4"})),!t){var r=/\.(\d+)\.mp4(?:$|\?)/.exec(a);if(r){t=!0,i=!0;var s=a,l=r[1],d=s.indexOf("?");-1!==d&&(s=s.substr(0,d)),O(u,/mv_title/).some(function(e){var t=/id="mv_title"[^>]*>([^<]+)/.exec(e);if(t)return o=S.decodeSpecialChars(x(t[1])),!0}),n.push({url:s,subname:l,name:"MP4",type:"mp4"})}}}),i})||(/var\sopts\s*=\s*/.test(e)&&(l=/url:\s*'(?:[^']+)dailymotion.com\/(?:swf\/)?video\/([\w\d]+)/.exec(e))?(i={action:"getDailymotionLinks",extVideoId:l[1]},!0):void 0)}),!b&&t(s,n,o,r,a,null,i)})):t(s,n,o)},checkVkLinks:function(e,t){var n="";e&&e.length>0&&(n="mp4"==e[0].type?e[0].url:e.length>1?e[1].url:e[0].url),n?Object(l.a)({url:n,type:"HEAD"},function(e,o){t(n,!e)}):t()},getVkLinksFromJsonMsg:function(e,t){return t(this.getVkLinksFromJson(e.json))},getVkLinksFromJson:function(e){var t=[],n=e.vid,o=e.md_title||e.vid,i="";e.thumb?i=e.thumb:e.jpg&&(i=e.jpg);var a=/\.flv(\?|$)]/,s=/url([0-9]+)/;(0,r.default)(e).forEach(function(n){var o="",i="mp4",r=null;"extra_data"===n&&"99"===e.extra?(o="",e.live_mp4?o=e.live_mp4:e.postlive_mp4&&(o=e.postlive_mp4),o&&(r=e.hd?"HD":"SD",t.push({url:o,subname:r,name:i.toUpperCase(),type:i}))):"extra_data"===n&&"52"===e.extra?(r=e.hd?"HD":"SD",o=e.extra_data,a.test(o)&&(i="flv"),t.push({url:o,subname:r,name:i.toUpperCase(),type:i})):null!==(r=(r=n.match(s))&&r[1])&&(o=e[n],a.test(o)&&(i="flv"),t.push({url:o,subname:r,name:i.toUpperCase(),type:i}))});var l=e.duration;return{action:"getVKLinks",extVideoId:n,links:t,title:o,duration:l,thumb:i,data:e,checkLinks:null}},getVkLinksFromData:function(e,t){var n=e.data,o=null;return m(n,[/"vid":/,/"oid":/,/"md_title":/]).some(function(e){if(e=e.player&&e.player.params&&e.player.params[0])return o=e,!0}),o?t(P.getVkLinksFromJson(o)):t()}},T=n(6),E={getOdnoklassnikiLinks:function(e,t){return E._getOdnoklassnikiLinks(e.extVideoId,function(n){var o={action:e.action,extVideoId:e.extVideoId,links:n,title:e.title};t(o)}),!0},getOdnoklassnikiAudioLinks:function(e,t){return E._getOdnoklassnikiAudioLinks(e.url,e.trackId,e.jsessionId,function(n){var o={action:e.action,trackId:e.trackId,jsessionId:e.jsessionId,data:n};t(o)}),!0},_getOdnoklassnikiLinks:function(e,t){if(e){var n="http://in.video.mail.ru/cgi-bin/video/oklite?eid="+e;Object(l.a)({url:n},function(n,o,i){if(n||!i)return t(null);var a="http://www.okcontent.video.mail.ru/media/",r=i.match(/\$vcontentHost=([^\s"'<>]+)/i);r&&r.length>1&&(a="http://"+r[1]+"/media/"),a+=e;var s=[],l="",u=i.match(/\$height=([0-9]+)/);u&&u.length>1&&(l=u[1]),s.push({url:a+"-v.mp4",name:"SD",ext:"FLV",subname:l}),i.search(/\$HDexist=1/i)>-1&&(l="",(u=i.match(/\$HDheight=([0-9]+)/))&&u.length>1&&(l=u[1]),s.push({url:a+"-hv.mp4",name:"HD",ext:"MP4",subname:l})),s&&t(s)})}else t(null)},_getOdnoklassnikiAudioLinks:function(e,t,n,o){if(!t||!n)return o(null);Object(l.a)({url:"http://wmf1.ok.ru/play;jsessionid="+n+"?tid="+t,json:!0},function(e,t,n){if(e||!n)return o(null);o(n)})},getOkAudioListLinks:function(e,t){var n=[],o=e.trackIdArr,i=e.jsessionId;if(!Array.isArray(o)||"string"!=typeof i||!o.length)return t(n);for(var a,r=o.length,s=0,l=function(e){e&&n.push(e),++s===r&&t(n)},u=0;a=o[u];u++)this._getOdnoklassnikiAudioLinks(void 0,a,i,l);return!0},getClipyouLinks:function(e,t,n,o,i){Object(l.a)({url:"http://media.clipyou.ru/api/player/secure_link?record_id="+e+"&type=mp4&resource_hash="+t,json:!0},function(e,t,a){if(e||!a||!Array.isArray(a.data)||!a.data.length)return i();var r=[];a.data.forEach(function(e){r.push({quality:n,url:e,title:o})}),i(r)})},getClipyouHash:function(e,t){Object(l.a)({url:"http://media.clipyou.ru/api/player_data.json?id="+e},function(e,n,o){if(e||!o)return t();if(!(o=o.match('resource_hash".?:.?"([^"]*)"'))||o.length<2)return t();var i=o[1];t(i)})},getPladformVideo:function(e,t){var n={action:e.action,extVideoId:e.extVideoId,links:[],title:e.title},o=function(){t(n)},i=e.extVideoId.playerId,a=e.extVideoId.videoId;return Object(l.a)({url:"http://out.pladform.ru/getVideo?pl="+i+"&videoid="+a,xml:!0},function(e,t,i){if(e||!i)return o();var a=i.querySelectorAll("src");if(0===a.length)return o();var r=i.querySelector("cover")||void 0;r&&(r=r.textContent)&&"//"===r.substr(0,2)&&(r="http:"+r);var s=i.querySelector("time")||void 0;s=s&&s.textContent;var l=i.querySelector("title");(l=l&&l.textContent)&&(n.title=l);var u=a[0],d=u.getAttribute("type"),c=u.textContent||"",f=u.getAttribute("quality");if(u){if("clipyou"===d)return E.getClipyouHash(c,function(e){if(!e)return o();E.getClipyouLinks(c,e,f,l,function(e){n.links=e,o()})});if("rutube"===d){var p=i.querySelector("external_embed");return(p=p&&p.textContent)&&(n.action="getRutubeLinks",n.links=[p]),o()}}for(var m,h=["ld","sd"],g=["360","720"],v=0;m=a[v];v++){c=m.textContent||"",f=m.getAttribute("quality"),/^\d+p$/.test(f)&&(f=f.match(/^(\d+)p$/)[1]);var b=h.indexOf(f);-1!==b&&(f=g[b]),"video"===(d=m.getAttribute("type"))&&n.links.push({url:c,quality:f,title:l,cover:r,duration:s})}return o()}),!0},getOkMetadata:function(e,t){var n=e.url;return n?(Object(l.a)({method:"POST",url:n,json:!0},function(e,n,o){if(e||!o)return t();t(o)}),!0):t()},getOkViaMobile:function(e,t){var n=e.metadata,o={"st.cmd":"movieLayer","st.mvId":e.mvId},i="http://m.ok.ru/dk?"+T.stringify(o),a={action:e.action,links:null,title:n.movie.title};return Object(l.a)({url:i},function(o,i,r){if(o||!r)return t();var s=new RegExp('href="([^"]+st\\.cmd=moviePlaybackRedirect[^"]+st\\.mvid='+e.mvId+'[^"]+)"'),l=r.match(s);if(!(l=l&&l[1]))return t();if(l=S.decodeSpecialChars(l),a.links=[{url:l}],!/st.mq=\d+/.test(l))return t(a);var u=n.videos;if(!u||!u.length)return t(a);u.forEach(function(e){if(e.url){var t=y(e.url);t.type&&(e.url=l.replace(/(st.mq=)\d+/,"$1"+t.type))}}),a.links=u,t(a)}),!0},okDirectOrMobile:function(e,t){var n=e.metadata,o=null;n.videos&&n.videos.some(function(e){if(e.url)return o=e.url,!0});var i=function(){e.action="getOkViaMobile",E.getOkViaMobile(e,t)};return o?(Object(l.a)({url:o,type:"HEAD"},function(o){return o?i():(e.action="getOkViaMobileNoWrap",e.links=n.videos,t(e))}),!0):(i(),!0)}},F={getFacebookLinks:function(e,t){return F._getFacebookLinks(e.extVideoId,function(n,o,i,a){var r={action:e.action,extVideoId:e.extVideoId,links:n||null,title:o||"",thumb:i||"",duration:a||""};t(r)}),!0},getFacebookLinksFromData:function(e,t){var n=e.data,o=e.extVideoId;return F.getLinksFromData2(n,o,!0,function(n,o,i,a){var r={action:"getFacebookLinksFromData",extVideoId:e.extVideoId,links:n||null,title:o||"",thumb:i||"",duration:a||""};t(r)})},_getFacebookLinks:function(e,t){Object(l.a)({type:"GET",url:"https://www.facebook.com/video.php?v="+e,headers:{Cookie:""}},function(n,o,i){if(n||!i)return t();F.getLinksFromData(i,e,t)})},getLinksFromData:function(e,t,n){var o=e.match(/\["params","([^"]*)"\]/im);if(!o)return this.getLinksFromData2(e,t,!1,n);var i=null;try{if((i=JSON.parse(decodeURIComponent(JSON.parse('"'+o[1]+'"'))).video_data).progressive&&(i=i.progressive),!i)return n()}catch(e){return n()}var a=null,r=null,s=[],l={sd_src:"SD",hd_src:"HD"};Array.isArray(i)||(i=[i]);for(var u,d=0;u=i[d];d++)["sd_src","hd_src"].forEach(function(e){if(u.thumbnail_src&&(a=u.thumbnail_src),u.video_duration&&(r=u.video_duration),u[e]){var t=F.getFileExtension(u[e],"mp4");s.push({url:u[e],name:l[e],type:t,ext:t.toUpperCase()})}});n(s,"",a,r)},getLinksFromData2:function(e,t,n,o){var i=null,a=function(e){return e.split(/"?videoData"?:\[/).some(function(e){return k(e).some(function(e){if((e.sd_src||e.hd_src)&&String(e.video_id)===String(t))return i=e,!0})})};if(n?a(e):p(e,[/"?videoData"?:\[/]).some(a),!i)return o();var r,s=[];return i.sd_src&&(r=F.getFileExtension(i.sd_src,"mp4"),s.push({url:i.sd_src,name:"SD",type:r,ext:r.toUpperCase()})),i.hd_src&&(r=F.getFileExtension(i.hd_src,"mp4"),s.push({url:i.hd_src,name:"HD",type:r,ext:r.toUpperCase()})),o(s,"",i.thumbnail_src,i.video_duration)},getFileExtension:function(e,t){var n=e.match(/\.([a-z0-9]{3,4})(\?|$)/i);return n?(n=n[1]).toLowerCase():t||""},getFacebookPhotoUrl:function(e,t){return e.fbid?(Object(l.a)({url:"https://www.facebook.com/photo.php?fbid="+e.fbid},function(e,n,o){if(e||!o)return t();if(a=o.match(/<a[^>]+fbPhotosPhotoActionsItem[^>]+href="([^">]+dl=1)"[^>]+>/i)){var i=a[1].replace(/&amp;/g,"&");return t([i])}var a,r=[],s={};return(a=o.match(/(<a[^>]+rel="theater"[^>]+>)/gi))&&a.forEach(function(e){var t=e.match(/data-pl[os]i="[^"]+"/gi);t&&t.forEach(function(e){var t=e.indexOf("=");if(-1!==t){var n=e.substr(0,t),o=e.substr(t+1);o=o.substr(1,o.length-2).replace(/&amp;/g,"&"),s[n]=o,r.push(o)}})}),s["data-ploi"]?t([s["data-ploi"]]):t(r)}),!0):t()}},D=null,N={getMailruLinks:function(e,t){return N._getMailruLinks(e.extVideoId,function(n,o,i,a,r){var s={action:e.action,extVideoId:a||e.extVideoId,links:n,title:o,thumb:i,duration:r};t(s)}),!0},_getMailruLinks:function(e,t){var n,o=e,i=e.match(/\/([^\/]+)\/([^\/]+)\/video\/(.+).html/);if(i||(i=e.match(/embed\/([^\/]+)\/([^\/]+)\/(.+).html/)),i&&(n="http://api.video.mail.ru/videos/"+i[1]+"/"+i[2]+"/"+i[3]+".json",o=i[1]+"/"+i[2]+"/video/"+i[3]+".html"),n)return N.onGetMailruMetadataUrl(n,o,t);Object(l.a)({url:"http://my.mail.ru/"+e},function(e,i,a){if(e||!a)return t();var r=/"metaUrl":/,s=null;if(p(a,r).some(function(e){return m(e,r).some(function(e){if(e.metaUrl)return s=e,!0})}),s)return n=s.metaUrl,void N.onGetMailruMetadataUrl(n,o,t);if(!(a=a.match(/<meta\s+content="[^"]+(videoapi\.my\.mail[^&]+)&[^"]+"[^>]+\/>/)))return t();var l=(a=decodeURIComponent(a[1])).substr(a.lastIndexOf("/")+1);n="http://videoapi.my.mail.ru/videos/"+l+".json",N.onGetMailruMetadataUrl(n,o,t)})},onGetMailruMetadataUrl:function(e,t,n){N.getMailruMetadata(e,function(e){if(!e||"string"==typeof e)return n();N.readMailruMetadata(e,function(e,o,i,a){n(N.prepMailruLinks(e),o,i,t,a)})})},prepMailruLinks:function(e){if(e){for(var t,n=[],o=0;t=e[o];o++){var i=t.url,a="FLV";-1!==i.indexOf(".mp4")&&(a="MP4"),-1!==i.indexOf(".mov")&&(a="MOV"),-1!==i.indexOf(".mpg")&&(a="MPG"),t.quality||(t.quality="-?-");var r=t.quality.toUpperCase(),s=["1080P","720P","480P","360P","272P"].indexOf(r);-1!==s&&(r=["1080","720","480","360","272"][s]);var l=a.toLowerCase();n.push({url:i,subname:r,name:a,ext:l})}return n.sort(function(e,t){return"HD"===e.subname?1:e.subname>t.subname}),n}},getMailruMetadata:function(e,t){if(!e)return t();Object(l.a)({url:e,json:!0},function(e,n,o){if(e||!o)return t();t(o)})},readMailruMetadata:function(e,t){var n,o=[],i=void 0,a=void 0;if(e.meta&&(a=e.meta.poster,i=e.meta.duration),"UPLOADED"===e.provider){if(n=e.movie?e.movie.title:void 0,!e.videos)return t();e.videos.forEach(function(e){o.push({quality:e.name,url:e.url,title:n})})}else if("ugc"===e.provider){if(n=e.meta?e.meta.title:void 0,!e.videos)return t();e.videos.forEach(function(e){o.push({quality:e.key,url:e.url,title:n})})}else if("pladform"===e.provider)return n=e.meta?e.meta.title:void 0,void D.modules.odnoklassniki.getPladformVideo({extVideoId:{playerId:e.meta.playerId,videoId:e.meta.videoId}},function(e){if(!e)return t();"getRutubeLinks"===e.action&&(e.links=null);var o=e.links;if(!o)return t();o.forEach(function(e){void 0===e.title&&(e.title=n)}),t(o,n,a,i)});return 0===o.length?t():t(o,n,a,i)}},B=n(11),j=function(e){if("<all_urls>"===e)return"^https?:\\/\\/.+$";var t=e.match(/(\*|http|https|file|ftp):\/\/([^\/]+)(?:\/(.*))?/);if(!t)throw new Error("Invalid url-pattern");var n=t[1];"*"===n&&(n="https?");var o=t[2],i=["^",n,":\\/\\/",o="*"===o?".+":(o=(o=B(o)).replace(/^\\\*\\\./,"(?:[^/]+\\.)?")).replace(/\\\.\\\*$/g,"\\.[a-z\\.]{2,}")],a=t[3];return a?"*"===a?(a="(?:|/.*)",i.push(a),i.push("$")):a&&(a=(a=B(a="/"+a)).replace(/\\\*/g,".*"),i.push(a),i.push("$")):i.push("$"),i.join("")},R=n(4),q=n(5),V=n(3),U={on:function(e,t,n,o){e.addEventListener(t,n,o)},off:function(e,t,n,o){e.removeEventListener(t,n,o)},one:function(e,t,n,o){var i=["oneFn",t,!!o].join("_"),a=n[i];a||(n[i]=a=function(e){U.off(this,t,a,o),n.apply(this,arguments)}),U.on(e,t,a,o),e=null}},H="sf-removed-"+Math.floor(1e6*Math.random()),z="sf-notify-on-remove-"+Math.floor(1e6*Math.random());U.onRemoveEventName=H,U.onRemoveClassName=z,U.onRemoveListener=function(e){U.trigger(e,H)},U.onRemoveEvent=function(e,t){e.classList.add(z),e.addEventListener(H,t)},U.offRemoveEvent=function(e,t){e.removeEventListener(U.onRemoveEventName,t)},U.trigger=function(e,t,n){void 0===n&&(n={}),void 0===n.bubbles&&(n.bubbles=!1),void 0===n.cancelable&&(n.cancelable=!1);var o;o="function"==typeof MouseEvent&&-1!==["click"].indexOf(t)?new MouseEvent(t,n):new CustomEvent(t,n),e.dispatchEvent(o)};var W=U,G={create:function(e,t){var n=void 0,o=void 0;for(var i in n="object"!=typeof e?document.createElement(e):e,t){var a=t[i];(o=Y[i])?o(n,a):n[i]=a}return n}},Y={text:function(e,t){e.textContent=t},data:function(e,t){for(var n in t)e.dataset[n]=t[n]},class:function(e,t){if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++)e.classList.add(t[n]);else e.setAttribute("class",t)},style:function(e,t){if("object"==typeof t)for(var n in t){var o=n;"float"===o&&(o="cssFloat");var i=t[n];if(Array.isArray(i))for(var a=0,r=i.length;a<r;a++)e.style[o]=i[a];else e.style[o]=i}else e.setAttribute("style",t)},append:function(e,t){Array.isArray(t)||(t=[t]);for(var n=0,o=t.length;n<o;n++){var i=t[n];(i||0===i)&&("object"!=typeof i&&(i=document.createTextNode(i)),e.appendChild(i))}},on:function(e,t){"object"!=typeof t[0]&&(t=[t]);for(var n=0,o=t.length;n<o;n++){var i=t[n];Array.isArray(i)&&W.on.apply(W,[e].concat(i))}},one:function(e,t){"object"!=typeof t[0]&&(t=[t]);for(var n=0,o=t.length;n<o;n++){var i=t[n];Array.isArray(i)&&W.one.apply(W,[e].concat(i))}},onCreate:function(e,t){t.call(e,e)},attr:function(e,t){var n=void 0,o=void 0;for(n in t)o=t[n],e.setAttribute(n,o)}},$=G,K=n(7),J=n(8),Q=n(6),Z=Object(u.a)("background"),X={isReady:!1,readyHandler:null};X.readyPromise=new a.default(function(e){return X.readyHandler=e}).then(function(){return X.isReady=!0}),X.utils=function(e){return c=e,f}(X),X.modules={},X.modules.vimeo=function(e){return e,g}(X),X.modules.dailymotion=function(e){return v=e,b}(X),X.modules.youtube=function(e){return _=e,L}(X),X.modules.soundcloud=function(e){return e,C}(X),X.modules.vkontakte=function(e){return I=e,P}(X),X.modules.odnoklassniki=function(e){return e,E}(X),X.modules.facebook=function(e){return e,F}(X),X.modules.mail_ru=function(e){return D=e,N}(X),s.a.remote.getPreferences=function(){return X.readyPromise.then(function(){return setTimeout(function(){X.userTrack(),X.sendInGa.pull()},1),X.preferences})},X.varCache={helperName:"",currentVersion:"7.83.2",isFirstrun:!1,isUpgrade:!1,uuid:"",aiid:""},X.extra={},X.defaultPreferences={version:"0",button:1,lmMediaHosting:1,moduleYoutube:1,moduleDailymotion:1,moduleVimeo:1,moduleFacebook:1,moduleSoundcloud:1,moduleVkontakte:1,moduleOdnoklassniki:1,moduleMailru:1,moduleInstagram:1,moduleRutube:1,moduleShowDownloadInfo:1,ytHideFLV:0,ytHideMP4:0,ytHideWebM:1,ytHide3GP:1,ytHide3D:1,ytHideMP4NoAudio:1,ytHideAudio_MP4:1,vkShowBitrate:0,sovetnikEnabled:1,showUmmyInfo:1,showUmmyBtn:1,gmNativeDownload:0,advPreShow:0,aviaBarEnabled:1,statEnabled:1,showUmmyLanding:0,onceShowYtTutorial:0,onceShowYtTooltip:0,saveAsDialog:0},X.preferences={sfHelperName:"",country:"",hasSovetnik:void 0,hasAviaBar:void 0,downloads:void 0,ummyDetected:void 0,showUmmyItem:void 0},X.preferenceMap=K.a,X.loader=function(){var e=[],t=[],n=function(){e.slice(0).forEach(function(n){if(n.nameList.every(function(e){return-1!==t.indexOf(e)})){var o=e.indexOf(n);if(-1!==o){e.splice(o,1);try{n.fn()}catch(e){Z.error("Run error!",e)}}}})};return{waitList:e,readyList:t,ready:function(e){t.push(e),n()},when:function(t,o){Array.isArray(t)||(t=[t]),e.push({nameList:t,fn:o}),n()}}}(),X.events=function(){var e={},t=[].slice,n=function(t,n){var o=e[t];e[t]||(o=e[t]=[]),-1===o.indexOf(n)&&o.push(n)},o=function(t,n){var o=e[t]||[],i=o.indexOf(n);-1!==i&&o.splice(i,1)};return{listeners:e,emit:function(n,o){var i=t.call(arguments).slice(1);(e[n]||[]).slice(0).forEach(function(e){try{e.apply(null,i)}catch(e){Z.error("Emit error!",e)}})},on:n,off:o,once:function(e,t){n(e,function(){o(e,t),t.apply(null,arguments)})}}}(),X.getHelperName=function(){var e=function(){var e="",t=navigator.userAgent;return-1!==t.indexOf("YaBrowser/")?e="yabrowser":-1!==t.indexOf("Maxthon/")?e="maxthon":-1!==t.indexOf("OPR/")?e="opera-chromium":-1!==t.indexOf("Opera/")?e="opera":-1!==t.indexOf("Firefox/")?e="firefox":-1!==t.indexOf("Chrome/")?e="chrome":-1!==t.indexOf("Safari/")&&(e="safari"),e},t="unknown";return s.a.isChrome?(t=e()||"chrome",/sandbox.html#bg/.test(location.href)&&(t="chameleon"),X.chromeNoStore&&(t+="-sf")):s.a.isFirefox?(t="firefox",s.a.isFirefoxMobile&&(t+="-mobile"),X.firefoxNoStore&&(t+="-sf")):s.a.isSafari?t="safari":s.a.isGM?t="userjs-"+(t=e()||t):s.a.isEdge&&(t="edge"),t},X.getSfHelperName=function(){var e=X.varCache.helperName;return/^firefox/.test(e)&&(e=e.replace("firefox","ff")),e},X.dblTrackCheck=function(e){if(!s.a.isGM)return e();Object(R.a)()||s.a.storage.get({dblTrack:null},function(t){var n=Date.now();if(t.dblTrack&&t.dblTrack.time>n);else{var o=X.generateUuid();s.a.storage.set({dblTrack:{uuid:o,time:n+6e4}},function(){setTimeout(function(){s.a.storage.get({dblTrack:null},function(t){t.dblTrack&&t.dblTrack.uuid===o&&e()})},5e3)})}})},X.getUuid=function(){var e=X.varCache;if(e.uuid)return e.uuid;var t=X.generateUuid();return e.uuid=t,s.a.storage.set({uuid:t}),t},X.generateUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},X.sovetnikIsAvailable=function(){return!(!(s.a.isFirefox||s.a.isChrome||s.a.isGM)||s.a.isChrome&&s.a.isChromeMobile||s.a.isFirefox&&s.a.isFirefoxMobile)},X.getNavLanguage=function(){var e="",t=navigator.language;return/^\w{2}-|^\w{2}$/.test(t)&&(e=t),e},X.gmShowButton=function(e){e?s.a.bundle.showButton():s.a.bundle.hideButton()},X.tabListener=function(){var e=!1,t=X.preferences,n=Object(J.a)([{matches:/^(?:https?|file|ftp):\/\/[^\\/]*\.vimeo\.com\/.*$|^(?:https?|file|ftp):\/\/vimeo\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.youtube\.com\/.*$|^(?:https?|file|ftp):\/\/youtube\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.soundcloud\.com\/.*$|^(?:https?|file|ftp):\/\/soundcloud\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.vk\.com\/.*$|^(?:https?|file|ftp):\/\/vk\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.vkontakte\.ru\/.*$|^(?:https?|file|ftp):\/\/vkontakte\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.ok\.ru\/.*$|^(?:https?|file|ftp):\/\/ok\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.odnoklassniki\.ru\/.*$|^(?:https?|file|ftp):\/\/odnoklassniki\.ru\/.*$|^(?:https?|file|ftp):\/\/my\.mail\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.facebook\.com\/.*$|^(?:https?|file|ftp):\/\/facebook\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.savefrom\.net\/.*$|^(?:https?|file|ftp):\/\/savefrom\.net\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.instagram\.com\/.*$|^(?:https?|file|ftp):\/\/instagram\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.rutube\.ru\/.*$|^(?:https?|file|ftp):\/\/rutube\.ru\/.*$/i},{matches:/^(?:https?|file|ftp):\/\/[^\\/]*\/.*$/i,include_globs:/^[^:]*:\/\/google\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.google\.[^\\/]*\/.*$|^[^:]*:\/\/dailymotion\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.dailymotion\.[^\\/]*\/.*$/i}]),i={},a=function(){e=!1,Z.debug("tabListener",e)};return{extendJsList:i,enable:function(){s.a.isFirefoxMobile||e||(e=!0,Z.debug("tabListener",e))},disable:function(){s.a.isFirefoxMobile||a()},injectLmInActiveTab:function(){var e=["includes/commons.js","includes/link_modifier.js"];s.a.getActiveTab(function(t){t&&/^http/.test(t.url)&&!n(t.url)&&e.forEach(function(e){s.a.executeScript(t,{file:e})})})},openPage:function(r){e&&function(e,r){var l=n(r),u=[],d=t.lmMediaHosting,c=t.hasSovetnik&&t.sovetnikEnabled;(s.a.isChrome||s.a.isEdge||s.a.isFirefox)&&(c=c&&window.sovetnik),l||(d&&(u.push("includes/commons.js"),u.push("includes/link_modifier.js")),c&&(u.push("includes/commons.js"),u.push("includes/sovetnik-sf.js")));var f=!0;for(var p in i){f=!1;var m=i[p];if(!l||m.noBlackList){var h=m.getScriptList(r)||[];u.push.apply(u,(0,o.default)(h))}}if(d||c||!f){if(u.length){var g=u.filter(function(e,t,n){return n.indexOf(e)===t});Z.debug("Inject",r,g),g.forEach(function(t){s.a.executeScript(e,{file:t})})}}else a()}(r.tab,r.url)}}}(),X.getCountry=function(){var e=X.preferences,t=function(e){return new a.default(function(t){return s.a.storage.set(e,t)})};return function(e){return new a.default(function(t){return s.a.storage.get(e,t)})}({countryExpiresAt:0}).then(function(n){if(Object(V.a)()>n.countryExpiresAt)return t({countryExpiresAt:Object(V.a)()+300}).then(function(){var t=e.sfHelperName+" "+X.varCache.currentVersion;return Object(q.a)({type:"POST",url:"http://sf-helper.com/geoip/country.php",data:{sig:t.length},headers:{"X-Helper":t}})}).then(function(n){var o=n.body.toLowerCase().trim();return Z.debug("set country",o),e.country=o,t({country:o,countryExpiresAt:Object(V.a)()+259200})})}).catch(function(e){Z("getCountry error",e)})},X.loader.when("prepare",function(){var e=a.default.resolve();return X.liteStorage.get("fromId",0)?e:s.a.isGM&&Object(R.a)()?e:e.then(function(){return X.liteStorage.isTimeout("fromIdTimeout")?Z.debug("Request fromId timeout"):(X.liteStorage.setTimeout("fromIdTimeout",21600),Object(q.a)({url:"http://savefrom.net/tools/get_vid.php"}).then(function(e){var t=e.body,n=-1;/^\d+$/.test(t)&&(n=parseInt(t)),Z.debug("fromId",n),X.liteStorage.set("fromId",n)}).catch(function(e){return Z.error("Request fromId error!",e)}))}).catch(function(e){Z.error("Request fromId error",e)})}),X.onOptionChange={button:function(e){s.a.isGM&&X.gmShowButton(e)},sovetnikEnabled:function(e,t){e!==t&&X.preferences.hasSovetnik&&(e&&X.tabListener.enable(),(s.a.isChrome||s.a.isFirefox)&&window.sovetnik&&window.sovetnik.setRemovedState&&window.sovetnik.setRemovedState(!e))},statEnabled:function(e){X.events.emit("statEnabledChange",e)},lmMediaHosting:function(e){e&&X.tabListener.enable()},gmNativeDownload:function(e){s.a.isGM&&(X.preferences.downloads=!!e,s.a.sendMessageToActiveTab({action:"updatePreferences",preferences:X.preferences}))}},X.sendInGa=function(){var e=[],t=!1,n=function n(){if(!t&&e.length){t=!0;var o=Date.now(),a=e.slice(0,20),r=a.map(function(t){var n=t.time,a=JSON.parse((0,i.default)(t.params)),r=o-n;return r>=144e5&&(r=144e5-1e3*(e.length+1)),a.qt=r,Q.stringify(a)});return Object(l.a)({url:"https://www.google-analytics.com/batch?z="+o,type:"POST",contentType:"text/html",data:r.join("\n"),timeout:6e4},function(o){t=!1,o||(a.forEach(function(t){var n=t.details,o=e.indexOf(t);-1!==o&&e.splice(o,1);try{n.onSuccess&&n.onSuccess()}catch(e){Z.error("sendInGa","onSuccess",e)}}),n())})}};return{stack:e,push:function(t,o){var i=!1;(o=o||{}).id&&(i=e.some(function(e){if(e.details.id===o.id)return!0})),i||(e.unshift({time:Date.now(),params:t,details:o}),e.splice(100),setTimeout(function(){n()},50))},pull:function(){e.length&&(X.liteStorage.isTimeout("sendInGaTimeout")||(X.liteStorage.setTimeout("sendInGaTimeout",3600),n()))}}}(),X.actionList={getMenuDetails:function(e,t){return t({preferences:X.preferences,version:X.varCache.currentVersion,lastVersion:function(){var e="",t=X.varCache.currentVersion,n=X.liteStorage.get("lastVersion","");if(!t||!n)return e;try{(function(e,t){var n=/^[\d.]+$/;if(!n.test(e)||!n.test(t))throw new Error("Incorrect version");for(var o=function(e,t){for(;e.length<t;)e="0"+e;return e},i=e.split("."),a=t.split("."),r=0;r<a.length;r++){var s=i[r]||"",l=a[r]||"",u=Math.max(s.length,l.length);if(s=parseInt(o(s,u)),(l=parseInt(o(l,u)))!==s)return l>s}return!1})(t,n)&&(e=n)}catch(e){Z.debug("isNewVersion",e)}return e}(),helperName:X.varCache.helperName})},updateOption:function(e){var t=e.key,n=e.value,o=X.preferences[t];X.preferences[t]=n;var i={};i[t]=n,s.a.storage.set(i),X.onOptionChange[t]&&X.onOptionChange[t](n,o)},downloadFromCurrentPage:function(){s.a.getActiveTab(function(e){var t=e&&e.url||"",n=Q.stringify({url:t,utm_source:X.preferences.sfHelperName,utm_medium:"extensions",utm_campaign:"bookmarklet"});s.a.openTab("http://savefrom.net/?"+n,!0)})},openPoll:function(){if(-1!==["en","uk","ru"].indexOf(s.a.i18n.getMessage("lang"))){var e="http://"+s.a.i18n.getMessage("lang")+".savefrom.net/helper-form.php";s.a.getActiveTab(function(t){var n=function(e,t){var n=/:\/\/(?:[^\/?#]*@)?([^:\/?#]+)/.exec(e);return(n=n&&n[1])&&t&&(n=n.replace(/^www\./,"")),n}(t&&t.url||"")||"",o="?"+Q.stringify({version:X.varCache.currentVersion,helper:X.preferences.sfHelperName,url:n});s.a.openTab(e+o,!0)})}},reportBug:function(){var e="http://savefrom.userecho.com/forum/20869-/";"ru"===s.a.i18n.getMessage("lang")&&(e="http://savefrom.userecho.com/forum/19523-/"),s.a.openTab(e)},viaMenu_updateLinks:function(){s.a.sendMessageToActiveTab({action:"updateLinks"})},viaMenu_downloadMP3Files:function(){s.a.sendMessageToActiveTab({action:"downloadMP3Files"})},viaMenu_downloadPlaylist:function(){s.a.sendMessageToActiveTab({action:"downloadPlaylist"})},viaMenu_downloadPhotos:function(){s.a.sendMessageToActiveTab({action:"downloadPhotos"})},viaMenu_changeState:function(e){if(X.actionList.updateOption({key:e.prefKey,value:e.state}),e.state&&"lm"===e.moduleName&&e.needInclude)return X.tabListener.injectLmInActiveTab();s.a.sendMessageToActiveTab({action:"changeState",moduleName:e.moduleName,state:e.state})},showOptions:function(){if(s.a.isGM)s.a.bundle.showOptions();else{var e="options.html";s.a.isSafari&&(e=safari.extension.baseURI+e),s.a.openTab(e,!0)}},getActiveTabModuleInfo:function(e,t){return s.a.sendMessageToActiveTab({action:"getModuleInfo",url:e.url},function(e){t(e)}),!0},getActiveTabUrl:function(e,t){return s.a.getActiveTab(function(e){var n=e&&e.url||"";return t(n)}),!0},getActiveTabInfo:function(e,t){var n=X.preferences;return s.a.getActiveTab(function(e){var o=e&&e.url||"";if(0!==o.indexOf("http"))return t();var i={dailymotion:["*://*.dailymotion.*/*"],facebook:["*://*.facebook.com/*"],mailru:["*://my.mail.ru/*"],odnoklassniki:["*://*.ok.ru/*","*://*.odnoklassniki.ru/*"],savefrom:["*://*.savefrom.net/*"],soundcloud:["*://*.soundcloud.com/*"],vimeo:["*://*.vimeo.com/*"],vk:["*://*.vk.com/*","*://*.vkontakte.ru/*"],youtube:["*://*.youtube.com/*"],instagram:["*://*.instagram.com/*"],rutube:["*://*.rutube.ru/*"]},a="lm",r="lmMediaHosting",s=n.lmMediaHosting;for(var l in i){var u=i[l].map(function(e){return j(e)}).join("|");if((u=new RegExp(u)).test(o)){a=l,r=X.preferenceMap[a],s=n[r];break}}return t({moduleName:a,prefKey:r,url:o,state:s})}),!0},userjsDetected:function(){if(!X.liteStorage.get("userjsDetected",!1)){X.liteStorage.set("userjsDetected",!0);var e=X.getUuid();return Object(l.a)({url:"https://www.google-analytics.com/collect",type:"POST",data:"v=1&tid=UA-7055055-1&cid="+e+"&t=pageview&dh=savefrom.net&dp=%2Fextension%2Fuserjs_installed.ext"})}},hideDownloadWarning:function(e,t){return void 0!==e.set?s.a.storage.set({hideDownloadWarning:e.set}):(s.a.storage.get({hideDownloadWarning:!1},function(e){t(e.hideDownloadWarning)}),!0)},track:function(e){X.readyPromise.then(function(){delete e.action,X.track(e)})},addToClipboard:function(e){if(s.a.isChrome||s.a.isFirefox){var t,n=e.text;document.body.appendChild(t=$.create("textarea",{text:n})),t.select(),setTimeout(function(){document.execCommand("copy",!1,null),t.parentNode.removeChild(t)})}},setIconBadge:function(e){var t=String(e.text);(s.a.isChrome||s.a.isFirefox)&&chrome.browserAction&&chrome.browserAction.setBadgeText({text:t})},trackError:function(e){try{var t=X.actionList.trackError;t.dDbl||(t.dDbl={});var n=e.desc;if(e.error){var o=e.error;n=n?n+" ":"",o instanceof Error?(n+=String(o.message||o)||"ERROR",o.stack&&(n+=" "+e.error.stack)):n+=o}var i=n.substr(0,150);if(t.dDbl[i])return;t.dDbl[i]=!0;var a={t:"exception",exd:i,tid:"UA-7055055-9"};X.sendStatsInfo(a)}catch(e){}},openTab:function(e){s.a.openTab(e.url)}},X.onMessage=function(e,t,n){if(e&&"object"==typeof e){if("openPage"!==e.action){var o=e.action,i=X.actionList[o];if(i)return i.call(X.actionList,e,n);for(var a in X.modules){var r=X.modules[a];if(i=r[o])return i.call(r,e,n)}return(i=X.utils[o])?i.call(X.utils,e,n):void 0}X.isReady?X.tabListener.openPage(t):this.readyPromise.then(function(){X.tabListener.openPage(t)})}else Z.debug("Skip message",e)},X.loadSettings=function(e){var t=X.varCache,n=X.preferences,o=X.defaultPreferences;s.a.isGM&&(o.button=0,o.showUmmyBtn=0);var i={ummyDetected:function(e){e||0===e||(e=n.showUmmyInfo?0:1,s.a.storage.set({ummyDetected:e})),n.ummyDetected=e}},a=(0,r.default)(o),l=(0,r.default)(i);return s.a.storage.get(a.concat(l),function(r){if(a.forEach(function(e){var t=o[e],i=r[e];void 0===i&&(i=t),n[e]=i}),l.forEach(function(e){i[e](r[e])}),t.isFirstrun){var u={showUmmyLanding:n.showUmmyLanding=1,onceShowYtTooltip:n.onceShowYtTooltip=1,onceShowYtTutorial:n.onceShowYtTutorial=1};s.a.storage.set(u)}if(n.onceShowYtTutorial&&!X.hasMenuTutorial&&(n.onceShowYtTutorial=0),s.a.isChrome&&(chrome.downloads&&chrome.downloads.download||chrome.permissions&&chrome.permissions.request)&&(n.downloads=!0),s.a.isGM){n.downloads=!1;var d="undefined"!=typeof GM_download,c=!1;d&&(c="undefined"!=typeof GM_info&&"browser"===GM_info.downloadMode),d&&(n.gmNativeDownload||c)&&(n.gmNativeDownload=1,n.downloads=!0)}return s.a.isFirefox&&(n.downloads=!0),n.downloads&&(n.moduleShowDownloadInfo=0),e()})},X.checkSovetnik=function(){Z.debug("checkSovetnik");var e=X.preferences;if(e.hasSovetnik=-1!==["by","kz","ru","ua","am","md","az","ge","kg","uz","lv","lt","ee","tj","fi","tm"].indexOf(e.country),!e.hasSovetnik){var t=X.getNavLanguage().substr(0,2).toLowerCase();e.hasSovetnik=-1!==["be","kk","ru","uk","hy","ro","az","ka","ky","uz","lv","lt","et","tg","fi","tk"].indexOf(t)}e.hasSovetnik&&(s.a.isChrome||s.a.isFirefox)&&X.sovetnikInit&&setTimeout(function(){X.sovetnikInit&&X.sovetnikInit()}),X.tabListener.enable()},X.prepare=function(e){var t=X.varCache;X.loader.when("loadSettings",function(){X.sovetnikIsAvailable()&&(X.checkSovetnik(),s.a.storage.onChanged.addListener(function(e,t){"local"===t&&e.country&&X.checkSovetnik()}))}),X.loader.when("loadSettings",function(){t.isUpgrade=!t.isFirstrun&&X.preferences.version!==t.currentVersion,e()}),X.getCountry(),X.loadSettings(function(){X.loader.ready("loadSettings")})},X.initMessageListener=function(){X.initMessageListener.fired||(X.initMessageListener.fired=!0,s.a.onMessage.addListener(function(e,t,n){return X.onMessage(e,t,n)}))},X.init=function(){X.initMessageListener();var e=X.varCache,t=X.preferences,n=["uuid","version","country","aiid"];return n.push(X.liteStorage.getStorageKey()),ee().then(function(){return s.a.storage.get(n,function(n){return X.liteStorage.setStorage(n),"string"==typeof n.uuid&&36===n.uuid.length&&(e.uuid=n.uuid),"string"==typeof n.aiid&&(e.aiid=n.aiid.replace(/aiid/,"").replace(/#/g,"")),n.version||(e.isFirstrun=!0),n.country&&(t.country=n.country),e.helperName=X.getHelperName(),t.showUmmyItem=/^Win|^Mac/.test(navigator.platform)?1:0,t.sfHelperName=X.getSfHelperName(),X.loader.ready("init"),X.loader.when("prepare",function(){X.checkVersion()}),void X.prepare(function(){X.loader.ready("prepare"),X.readyHandler()})})})};var ee=function(){return a.default.resolve().then(function(){if(s.a.isChrome)return new a.default(function(e){return s.a.storage.get({migrated3:!1},function(t){return e(t.migrated3)})}).then(function(e){if(!e){var t={migrated3:!0};return(0,r.default)(localStorage).forEach(function(e){var n=localStorage.getItem(e);try{/^{(?:"w":.+|)}$/.test(n)&&(t[e]=JSON.parse(n).w)}catch(t){Z.error("Parse value error",e,t)}}),new a.default(function(e){return s.a.storage.set(t,e)})}}).catch(function(e){Z.error("migrate error",e),s.a.storage.set({migrated3:!0})})})};X.userTrack=function(){if(!X.liteStorage.isTimeout("trackTimeout"))return X.liteStorage.setTimeout("trackTimeout",300),X.dblTrackCheck(function(){X.track({t:"screenview",cd:"init",tid:"UA-7055055-5"},{id:"init",onSuccess:function(){X.liteStorage.setTimeout("trackTimeout",43200),X.events.emit("sendScreenView")}})})},X.trackValidate=function(e){var t=function(e){return!(!e&&0!==e&&!1!==e)&&-1===["object","function"].indexOf(typeof e)};if(!e.tid)return!1;if(!e.cid)return!1;if(1!==parseInt(e.v))return!1;if(!t(e.an))return!1;if(!e.t)return!1;if("event"===e.t){if(!t(e.ec)||!t(e.ea)||!t(e.el))return!1}else if("screenview"===e.t){if(!t(e.cd))return!1}else if(!("social"!==e.t||t(e.st)&&t(e.sa)&&t(e.sn)))return!1;return!0},X.track=function(e,t){return X.sendStatsInfo(e,t)},X.quickTrack=function(e,t){X.trackValidate(e)?(Z.debug("Track",e),X.sendInGa.push(e,t)):Z.error("Invalid track params!",e)},X.wrapBaseStatInfo=function(e){var t=X.varCache,n={v:1,ul:navigator.language,tid:"UA-67738130-2",cid:X.getUuid(),an:"helper",aid:t.helperName,av:t.currentVersion};for(var o in n)e.hasOwnProperty(o)||(e[o]=n[o]);return e},X.sendStatsInfo=function(e,t){var n=X.preferences;X.wrapBaseStatInfo(e),X.varCache.aiid&&(e.aiid=X.varCache.aiid),e.hasOwnProperty("cd3")||(e.cd3=s.a.i18n.getMessage("lang"));var o=X.liteStorage.get("fromId",0);o>0&&(e.cd2=o),n.hasSovetnik&&(e.cd4=n.sovetnikEnabled?"true":"false"),e.cd6=n.ummyDetected?"true":n.showUmmyItem?"false":"none",n.hasAviaBar&&(e.cd7=n.aviaBarEnabled?"true":"false"),X.quickTrack(e,t)},X.checkVersion=function(){var e=X.varCache,t=!1;e.isFirstrun?(X.loader.ready("firstrun"),t=!0):e.isUpgrade&&(X.loader.ready("upgrade"),t=!0),t&&X.actionList.updateOption({key:"version",value:e.currentVersion})},X.loader.when("firstrun",function(){if(!s.a.isGM){var e="http://savefrom.net/user.php?helper="+X.preferences.sfHelperName+";firstrun";X.utils.checkUrlsOfOpenTabs([/https?:\/\/([\w\-]+\.)?savefrom\.net\/(update-helper|userjs-setup)\.php/i],function(t){t.length>0||X.utils.checkUrlsOfOpenTabs([/https?:\/\/legal\.yandex\.(ru|com\.tr)\//i],function(t){var n=0===t.length;return s.a.openTab(e,n)})})}}),X.loader.when("prepare",function(){var e=X.preferences;e.onceShowYtTutorial&&X.actionList.setIconBadge({text:"?"}),e.showUmmyLanding&&s.a.storage.get({onceUmmyLandingHide:0},function(t){t.onceUmmyLandingHide>2&&s.a.storage.set({showUmmyLanding:e.showUmmyLanding=0})})}),X.loader.when("prepare",function(){X.tabListener.enable()}),X.loader.when("init",function(){if((s.a.isChrome||s.a.isFirefox)&&chrome.runtime.setUninstallURL){var e=X.varCache,t=X.preferences,n=function(){var n={version:e.currentVersion,language:s.a.i18n.getMessage("lang"),appid:e.helperName,country:t.country},o=("http://savefrom.net/goodbye.php?"+Q.stringify(n)).substr(0,255);chrome.runtime.setUninstallURL(o)};n(),X.loader.when("prepare",function(){n()}),s.a.storage.onChanged.addListener(function(e,t){"local"===t&&e.country&&n()})}}),X.liteStorage=function(){var e={},t=function(t){var n={};return n.liteStorage=e,s.a.storage.set(n,t)},n=function(){Z.error("liteStorage is not set!")},o=function(t,o){e[t]!==o&&(e[t]=o,n())},a=function(t,n){var o=e[t];return void 0===o&&(o=n),function(e){return JSON.parse((0,i.default)({w:e})).w}(o)},r=function(e,t){return o(e,Object(V.a)()+t)};return{getStorageKey:function(){return"liteStorage"},setStorage:function(o){e=o.liteStorage||{},n=function(e,t){var n=null;return function(){var o=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(o,i)},t)}}(t,100)},set:o,get:a,isTimeout:function(e){return a(e,0)>Object(V.a)()},setTimeout:r,isExpire:function(e){return a(e,0)<Object(V.a)()},setExpire:r}}(),X.loader.when("prepare",function(){var e=n(12).default;X.userscriptMenu=new e(X)}),(0,n(13).default)(X),(0,n(19).default)(X),(0,n(14).default)(X),(0,n(15).default)(X),(0,n(16).default)(X),(0,n(17).default)(X),X.init()},function(e,t,n){n.r(t);var o=n(0),a=n(1),s=n(8),l=Object(s.a)([{matches:/^(?:https?|file|ftp):\/\/[^\\/]*\.ozon\.travel\/.*$|^(?:https?|file|ftp):\/\/ozon\.travel\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.onetwotrip\.com\/.*$|^(?:https?|file|ftp):\/\/onetwotrip\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.onetravel\.com\/.*$|^(?:https?|file|ftp):\/\/onetravel\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.aeroflot\.ru\/.*$|^(?:https?|file|ftp):\/\/aeroflot\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.anywayanyday\.com\/.*$|^(?:https?|file|ftp):\/\/anywayanyday\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.svyaznoy\.travel\/.*$|^(?:https?|file|ftp):\/\/svyaznoy\.travel\/.*$|^(?:https?|file|ftp):\/\/avia\.tickets\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.s7\.ru\/.*$|^(?:https?|file|ftp):\/\/s7\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.kupibilet\.ru\/.*$|^(?:https?|file|ftp):\/\/kupibilet\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.trip\.ru\/.*$|^(?:https?|file|ftp):\/\/trip\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.trip\.com\/.*$|^(?:https?|file|ftp):\/\/trip\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.ctrip\.com\/.*$|^(?:https?|file|ftp):\/\/ctrip\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.tutu\.ru\/.*$|^(?:https?|file|ftp):\/\/tutu\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.uralairlines\.ru\/.*$|^(?:https?|file|ftp):\/\/uralairlines\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.flyredwings\.com\/.*$|^(?:https?|file|ftp):\/\/flyredwings\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.airastana\.com\/.*$|^(?:https?|file|ftp):\/\/airastana\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.airmoldova\.md\/.*$|^(?:https?|file|ftp):\/\/airmoldova\.md\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.sindbad\.ru\/.*$|^(?:https?|file|ftp):\/\/sindbad\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.aviakassa\.ru\/.*$|^(?:https?|file|ftp):\/\/aviakassa\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.aviakassa\.com\/.*$|^(?:https?|file|ftp):\/\/aviakassa\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.biletix\.ru\/.*$|^(?:https?|file|ftp):\/\/biletix\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.utair\.ru\/.*$|^(?:https?|file|ftp):\/\/utair\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.orbitz\.com\/.*$|^(?:https?|file|ftp):\/\/orbitz\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.travelocity\.com\/.*$|^(?:https?|file|ftp):\/\/travelocity\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.travelocity\.ca\/.*$|^(?:https?|file|ftp):\/\/travelocity\.ca\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.expedia-cn\.com\/.*$|^(?:https?|file|ftp):\/\/expedia-cn\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.priceline\.com\/.*$|^(?:https?|file|ftp):\/\/priceline\.com\/.*$|^(?:https?|file|ftp):\/\/booking\.airasia\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.ryanair\.com\/.*$|^(?:https?|file|ftp):\/\/ryanair\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hotels\.com\/.*$|^(?:https?|file|ftp):\/\/hotels\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.ostrovok\.ru\/.*$|^(?:https?|file|ftp):\/\/ostrovok\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.travel\.ru\/.*$|^(?:https?|file|ftp):\/\/travel\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.oktogo\.ru\/.*$|^(?:https?|file|ftp):\/\/oktogo\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.roomguru\.ru\/.*$|^(?:https?|file|ftp):\/\/roomguru\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.tripadvisor\.ru\/.*$|^(?:https?|file|ftp):\/\/tripadvisor\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hilton\.ru\/.*$|^(?:https?|file|ftp):\/\/hilton\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hilton\.com\/.*$|^(?:https?|file|ftp):\/\/hilton\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.marriott\.com\/.*$|^(?:https?|file|ftp):\/\/marriott\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hostelworld\.com\/.*$|^(?:https?|file|ftp):\/\/hostelworld\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.tiket\.com\/.*$|^(?:https?|file|ftp):\/\/tiket\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hotelsclick\.com\/.*$|^(?:https?|file|ftp):\/\/hotelsclick\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hotelscombined\.com\/.*$|^(?:https?|file|ftp):\/\/hotelscombined\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.wizzair\.com\/.*$|^(?:https?|file|ftp):\/\/wizzair\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.emirates\.com\/.*$|^(?:https?|file|ftp):\/\/emirates\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.delta\.com\/.*$|^(?:https?|file|ftp):\/\/delta\.com\/.*$|^(?:https?|file|ftp):\/\/booking\.etihad\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.budget\.com\/.*$|^(?:https?|file|ftp):\/\/budget\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hertz\.com\/.*$|^(?:https?|file|ftp):\/\/hertz\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.europcar\.com\/.*$|^(?:https?|file|ftp):\/\/europcar\.com\/.*$/i},{matches:/^(?:https?|file|ftp):\/\/[^\\/]*\/.*$/i,include_globs:/^[^:]*:\/\/skyscanner\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.skyscanner\.[^\\/]*\/.*$|^[^:]*:\/\/momondo\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.momondo\.[^\\/]*\/.*$|^[^:]*:\/\/kayak\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.kayak\.[^\\/]*\/.*$|^[^:]*:\/\/booking\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.booking\.[^\\/]*\/.*$|^[^:]*:\/\/agoda\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.agoda\.[^\\/]*\/.*$|^[^:]*:\/\/expedia\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.expedia\.[^\\/]*\/.*$|^[^:]*:\/\/avis\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.avis\.[^\\/]*\/.*$/i}]),u=function(e){return l(e)};t.default=function(e){e.loader.when("init",function(){if(!(o.a.isFirefox&&o.a.isFirefoxMobile||o.a.isChrome&&o.a.isChromeMobile)){var t=e.preferences,n=function(){return!t.hasAviaBar||!t.aviaBarEnabled},s=function(){delete e.tabListener.extendJsList.aviaBar,n()||(e.tabListener.extendJsList.aviaBar=l,e.tabListener.enable(),d&&d())},l={getScriptList:function(e){var t=[];return n()?(s(),t):(u(e)&&(t.push("includes/commons.js"),t.push("includes/aviaBar.js")),t)}};e.onOptionChange.aviaBarEnabled=function(){s()},e.loader.when("loadSettings",function(){var n;t.hasAviaBar=1,o.a.storage.get("onceTrackAviaBar",function(e){var t=e.onceTrackAviaBar;t||0===t||(t=function(e,t){return Math.floor(Math.random()*(t-e))+e}(0,100)<10?1:0,o.a.storage.set({onceTrackAviaBar:t})),n=t}),s(),e.events.on("sendScreenView",function(){if(n){var t={t:"screenview",cd:"init",tid:"UA-70432435-1"};e.wrapBaseStatInfo(t),e.quickTrack(t)}})});var d=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){d=null;var t=function(e,t){return o.a.storage.get(e,t)},n=function(e,t){return o.a.storage.set(e,t)},s={appInfo:{id:"sf.sfHelper",track:!0,directTrack:!0,useTemplates:!0}};s.API={setRemovedState:function(e){t("aviaBar",function(t){return t.aviaBar=t.aviaBar||{},t.aviaBar.removed=!!e,n(t)})}};var l=function(e){var t=e.aviaBar;t&&"object"==typeof t||(t=e.aviaBar={}),Array.isArray(t.blackList)||(t.blackList=[]),t.templates&&"object"==typeof t.templates||(t.templates={})};!function(e){o.a.onMessage.addListener(e)}(function(u,d,c){if(u&&u.action)switch(u.action){case"tbrGetInfo":c(s.appInfo);break;case"tbrIsAllow":return t("aviaBar",function(e){if(l(e),e.aviaBar.removed)return c(!1);var t=!0,o=e.aviaBar.blackList,i=null;if(o.some(function(e){if(e.hostname===u.hostname)return i=e,!0}),i){var a=parseInt(Date.now()/1e3);if(i.expire>a)t=!1;else{var r=o.indexOf(i);o.splice(r,1),n(e)}}return c(t)}),!0;case"tbrCloseBar":t("aviaBar",function(e){l(e);var t=e.aviaBar.blackList,o=null;if(t.some(function(e){if(e.hostname===u.hostname)return o=e,!0}),!o){var i=parseInt(Date.now()/1e3);t.push({hostname:u.hostname,expire:i+18e3}),n(e)}});break;case"tbrGetTemplate":return t("aviaBar",function(e){l(e);var t=e.aviaBar.templates,o=t[u.id];o||(t[u.id]=o={});var i=parseInt(Date.now()/1e3);o.expire>i?c(o.data):(o.expire=i+21600,Object(a.a)({url:"https://travelbar.tools/static/scheme/"+u.id+".json",timeout:6e4,json:!0},function(a,s){if(!a){var l=s.body;o.expire=i+43200,o.data=l,(0,r.default)(t).sort(function(e,n){return t[e].expire>t[n].expire?-1:1}).slice(5).forEach(function(e){delete t[e]})}c(l),n(e)}))}),!0;case"tbrEvent":"track"===u.type?function(t){var n="UA-70432435-1",a=-1!==["cheapflightError","hotelError"].indexOf(t.ec);if(a&&(n="UA-7055055-10"),t.tid=n,e.wrapBaseStatInfo(t),a)o.a.isGM&&e.quickTrack(t);else{var r=JSON.parse((0,i.default)(t));r.tid="UA-70432435-6",e.quickTrack(t),e.quickTrack(r)}}(u.data[0]):"directTrack"===u.type&&function(t){t.tid&&(e.wrapBaseStatInfo(t),e.quickTrack(t))}(u.data[0])}})})}})}}])}],e.backgroundPageMono=null,e.buttonUi=null,e.optionsPageUi=null,e.init(),e}return(0,g.default)(t,e),(0,p.default)(t,[{key:"createMonoInstance",value:function(e){var n=null;switch(e){case"backgroundPage":n=new y.default(this);break;case"page":n=new k.default(this);break;case"contentScript":n=new w.default(this);break;default:(0,h.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"createMonoInstance",this).call(this,e)}return this.addMonoInstance(n),n}},{key:"init",value:function(){var e=this;return this.runWhenDocumentIdle(function(){S.default.isSingle()&&e.inject()})}},{key:"wakeUpBackgroundPage",value:function(){this.backgroundPageLoaded||(this.backgroundPageLoaded=!0,this.executeBackgroundScripts())}},{key:"showButton",value:function(){this.hideButton(),this.buttonUi=new x.default(this),this.buttonUi.create()}},{key:"hideButton",value:function(){this.buttonUi&&this.buttonUi.destroy(),this.buttonUi=null}},{key:"showOptions",value:function(){this.closeOptions(),this.optionsPageUi=new b.default(this),this.optionsPageUi.create()}},{key:"closeOptions",value:function(){this.optionsPageUi&&this.optionsPageUi.destroy(),this.optionsPageUi=null}},{key:"getBackgroundPageMono",value:function(){return this.backgroundPageMono||(this.backgroundPageMono=this.createMonoInstance("backgroundPage")),this.backgroundPageMono}},{key:"executeBackgroundScripts",value:function(){this.executeScripts(this.backgroundScripts,this.getBackgroundPageMono())}}]),t}(v.default);t.default=new _},function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(59));t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},function(e,t,n){n(39),n(96),e.exports=n(5).Array.from},function(e,t,n){var o=n(40),i=n(41);e.exports=function(e){return function(t,n){var a,r,s=String(i(t)),l=o(n),u=s.length;return l<0||l>=u?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===u||(r=s.charCodeAt(l+1))<56320||r>57343?e?s.charAt(l):a:e?s.slice(l,l+2):r-56320+(a-55296<<10)+65536}}},function(e,t,n){"use strict";var o=n(44),i=n(24),a=n(35),r={};n(16)(r,n(7)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(r,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var o=n(9),i=n(10),a=n(21);e.exports=n(13)?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),s=r.length,l=0;s>l;)o.f(e,n=r[l++],t[n]);return e}},function(e,t,n){var o=n(14),i=n(45),a=n(95);e.exports=function(e){return function(t,n,r){var s,l=o(t),u=i(l.length),d=a(r,u);if(e&&n!=n){for(;u>d;)if((s=l[d++])!=s)return!0}else for(;u>d;d++)if((e||d in l)&&l[d]===n)return e||d||0;return!e&&-1}}},function(e,t,n){var o=n(40),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=o(e))<0?i(e+t,0):a(e,t)}},function(e,t,n){"use strict";var o=n(19),i=n(8),a=n(27),r=n(67),s=n(68),l=n(45),u=n(97),d=n(69);i(i.S+i.F*!n(71)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,c,f=a(e),p="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,g=void 0!==h,v=0,b=d(f);if(g&&(h=o(h,m>2?arguments[2]:void 0,2)),void 0==b||p==Array&&s(b))for(n=new p(t=l(f.length));t>v;v++)u(n,v,g?h(f[v],v):f[v]);else for(c=b.call(f),n=new p;!(i=c.next()).done;v++)u(n,v,g?r(c,h,[i.value,v],!0):i.value);return n.length=v,n}})},function(e,t,n){"use strict";var o=n(9),i=n(24);e.exports=function(e,t,n){t in e?o.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var o=n(5),i=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(49),n(39),n(72),n(103),n(111),n(112),e.exports=n(5).Promise},function(e,t,n){"use strict";var o=n(101),i=n(102),a=n(25),r=n(14);e.exports=n(60)(Array,"Array",function(e,t){this._t=r(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var o,i,a,r,s=n(23),l=n(6),u=n(19),d=n(70),c=n(8),f=n(12),p=n(33),m=n(104),h=n(105),g=n(73),v=n(74).set,b=n(107)(),y=n(50),k=n(75),w=n(108),x=n(76),S=l.TypeError,A=l.process,M=A&&A.versions,_=M&&M.v8||"",L=l.Promise,C="process"==d(A),O=function(){},I=i=y.f,P=!!function(){try{var e=L.resolve(1),t=(e.constructor={})[n(7)("species")]=function(e){e(O,O)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(O)instanceof t&&0!==_.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),T=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},E=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var o=e._v,i=1==e._s,a=0,r=function(t){var n,a,r,s=i?t.ok:t.fail,l=t.resolve,u=t.reject,d=t.domain;try{s?(i||(2==e._h&&N(e),e._h=1),!0===s?n=o:(d&&d.enter(),n=s(o),d&&(d.exit(),r=!0)),n===t.promise?u(S("Promise-chain cycle")):(a=T(n))?a.call(n,l,u):l(n)):u(o)}catch(e){d&&!r&&d.exit(),u(e)}};n.length>a;)r(n[a++]);e._c=[],e._n=!1,t&&!e._h&&F(e)})}},F=function(e){v.call(l,function(){var t,n,o,i=e._v,a=D(e);if(a&&(t=k(function(){C?A.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(o=l.console)&&o.error&&o.error("Unhandled promise rejection",i)}),e._h=C||D(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){v.call(l,function(){var t;C?A.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),E(t,!0))},j=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=T(e))?b(function(){var o={_w:n,_d:!1};try{t.call(e,u(j,o,1),u(B,o,1))}catch(e){B.call(o,e)}}):(n._v=e,n._s=1,E(n,!1))}catch(e){B.call({_w:n,_d:!1},e)}}};P||(L=function(e){m(this,L,"Promise","_h"),p(e),o.call(this);try{e(u(j,this,1),u(B,this,1))}catch(e){B.call(this,e)}},(o=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(109)(L.prototype,{then:function(e,t){var n=I(g(this,L));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?A.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&E(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new o;this.promise=e,this.resolve=u(j,e,1),this.reject=u(B,e,1)},y.f=I=function(e){return e===L||e===r?new a(e):i(e)}),c(c.G+c.W+c.F*!P,{Promise:L}),n(35)(L,"Promise"),n(110)("Promise"),r=n(5).Promise,c(c.S+c.F*!P,"Promise",{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),c(c.S+c.F*(s||!P),"Promise",{resolve:function(e){return x(s&&this===r?L:this,e)}}),c(c.S+c.F*!(P&&n(71)(function(e){L.all(e).catch(O)})),"Promise",{all:function(e){var t=this,n=I(t),o=n.resolve,i=n.reject,a=k(function(){var n=[],a=0,r=1;h(e,!1,function(e){var s=a++,l=!1;n.push(void 0),r++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--r||o(n))},i)}),--r||o(n)});return a.e&&i(a.v),n.promise},race:function(e){var t=this,n=I(t),o=n.reject,i=k(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,o)})});return i.e&&o(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var o=n(19),i=n(67),a=n(68),r=n(10),s=n(45),l=n(69),u={},d={};(t=e.exports=function(e,t,n,c,f){var p,m,h,g,v=f?function(){return e}:l(e),b=o(n,c,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(a(v)){for(p=s(e.length);p>y;y++)if((g=t?b(r(m=e[y])[0],m[1]):b(e[y]))===u||g===d)return g}else for(h=v.call(e);!(m=h.next()).done;)if((g=i(h,b,m.value,t))===u||g===d)return g}).BREAK=u,t.RETURN=d},function(e,t){e.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var o=n(6),i=n(74).set,a=o.MutationObserver||o.WebKitMutationObserver,r=o.process,s=o.Promise,l="process"==n(26)(r);e.exports=function(){var e,t,n,u=function(){var o,i;for(l&&(o=r.domain)&&o.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,o&&o.enter()};if(l)n=function(){r.nextTick(u)};else if(!a||o.navigator&&o.navigator.standalone)if(s&&s.resolve){var d=s.resolve(void 0);n=function(){d.then(u)}}else n=function(){i.call(o,u)};else{var c=!0,f=document.createTextNode("");new a(u).observe(f,{characterData:!0}),n=function(){f.data=c=!c}}return function(o){var i={fn:o,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var o=n(6).navigator;e.exports=o&&o.userAgent||""},function(e,t,n){var o=n(16);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:o(e,i,t[i]);return e}},function(e,t,n){"use strict";var o=n(6),i=n(5),a=n(9),r=n(13),s=n(7)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:o[e];r&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var o=n(8),i=n(5),a=n(6),r=n(73),s=n(76);o(o.P+o.R,"Promise",{finally:function(e){var t=r(this,i.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var o=n(8),i=n(50),a=n(75);o(o.S,"Promise",{try:function(e){var t=i.f(this),n=a(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){n(114),e.exports=n(5).Object.keys},function(e,t,n){var o=n(27),i=n(21);n(51)("keys",function(){return function(e){return i(o(e))}})},function(e,t,n){n(116);var o=n(5).Object;e.exports=function(e,t){return o.create(e,t)}},function(e,t,n){var o=n(8);o(o.S,"Object",{create:n(44)})},function(e,t,n){n(49),e.exports=n(37).f("toStringTag")},function(e,t,n){n(119),n(49),n(124),n(125),e.exports=n(5).Symbol},function(e,t,n){"use strict";var o=n(6),i=n(17),a=n(13),r=n(8),s=n(62),l=n(120).KEY,u=n(20),d=n(47),c=n(35),f=n(34),p=n(7),m=n(37),h=n(52),g=n(121),v=n(122),b=n(10),y=n(12),k=n(14),w=n(43),x=n(24),S=n(44),A=n(123),M=n(54),_=n(9),L=n(21),C=M.f,O=_.f,I=A.f,P=o.Symbol,T=o.JSON,E=T&&T.stringify,F=p("_hidden"),D=p("toPrimitive"),N={}.propertyIsEnumerable,B=d("symbol-registry"),j=d("symbols"),R=d("op-symbols"),q=Object.prototype,V="function"==typeof P,U=o.QObject,H=!U||!U.prototype||!U.prototype.findChild,z=a&&u(function(){return 7!=S(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,n){var o=C(q,t);o&&delete q[t],O(e,t,n),o&&e!==q&&O(q,t,o)}:O,W=function(e){var t=j[e]=S(P.prototype);return t._k=e,t},G=V&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},Y=function(e,t,n){return e===q&&Y(R,t,n),b(e),t=w(t,!0),b(n),i(j,t)?(n.enumerable?(i(e,F)&&e[F][t]&&(e[F][t]=!1),n=S(n,{enumerable:x(0,!1)})):(i(e,F)||O(e,F,x(1,{})),e[F][t]=!0),z(e,t,n)):O(e,t,n)},$=function(e,t){b(e);for(var n,o=g(t=k(t)),i=0,a=o.length;a>i;)Y(e,n=o[i++],t[n]);return e},K=function(e){var t=N.call(this,e=w(e,!0));return!(this===q&&i(j,e)&&!i(R,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,F)&&this[F][e])||t)},J=function(e,t){if(e=k(e),t=w(t,!0),e!==q||!i(j,t)||i(R,t)){var n=C(e,t);return!n||!i(j,t)||i(e,F)&&e[F][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=I(k(e)),o=[],a=0;n.length>a;)i(j,t=n[a++])||t==F||t==l||o.push(t);return o},Z=function(e){for(var t,n=e===q,o=I(n?R:k(e)),a=[],r=0;o.length>r;)!i(j,t=o[r++])||n&&!i(q,t)||a.push(j[t]);return a};V||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===q&&t.call(R,n),i(this,F)&&i(this[F],e)&&(this[F][e]=!1),z(this,e,x(1,n))};return a&&H&&z(q,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",function(){return this._k}),M.f=J,_.f=Y,n(77).f=A.f=Q,n(31).f=K,n(53).f=Z,a&&!n(23)&&s(q,"propertyIsEnumerable",K,!0),m.f=function(e){return W(p(e))}),r(r.G+r.W+r.F*!V,{Symbol:P});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;X.length>ee;)p(X[ee++]);for(var te=L(p.store),ne=0;te.length>ne;)h(te[ne++]);r(r.S+r.F*!V,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=P(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),r(r.S+r.F*!V,"Object",{create:function(e,t){return void 0===t?S(e):$(S(e),t)},defineProperty:Y,defineProperties:$,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),T&&r(r.S+r.F*(!V||u(function(){var e=P();return"[null]"!=E([e])||"{}"!=E({a:e})||"{}"!=E(Object(e))})),"JSON",{stringify:function(e){for(var t,n,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=t=o[1],(y(t)||void 0!==e)&&!G(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),o[1]=t,E.apply(T,o)}}),P.prototype[D]||n(16)(P.prototype,D,P.prototype.valueOf),c(P,"Symbol"),c(Math,"Math",!0),c(o.JSON,"JSON",!0)},function(e,t,n){var o=n(34)("meta"),i=n(12),a=n(17),r=n(9).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(20)(function(){return l(Object.preventExtensions({}))}),d=function(e){r(e,o,{value:{i:"O"+ ++s,w:{}}})},c=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,o)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[o].i},getWeak:function(e,t){if(!a(e,o)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[o].w},onFreeze:function(e){return u&&c.NEED&&l(e)&&!a(e,o)&&d(e),e}}},function(e,t,n){var o=n(21),i=n(53),a=n(31);e.exports=function(e){var t=o(e),n=i.f;if(n)for(var r,s=n(e),l=a.f,u=0;s.length>u;)l.call(e,r=s[u++])&&t.push(r);return t}},function(e,t,n){var o=n(26);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){var o=n(14),i=n(77).f,a={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return r&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return r.slice()}}(e):i(o(e))}},function(e,t,n){n(52)("asyncIterator")},function(e,t,n){n(52)("observable")},function(e,t,n){n(127);var o=n(5).Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},function(e,t,n){var o=n(8);o(o.S+o.F*!n(13),"Object",{defineProperty:n(9).f})},function(e,t,n){n(129),e.exports=n(5).Object.getPrototypeOf},function(e,t,n){var o=n(27),i=n(66);n(51)("getPrototypeOf",function(){return function(e){return i(o(e))}})},function(e,t,n){e.exports={default:n(131),__esModule:!0}},function(e,t,n){n(39),n(72),e.exports=n(37).f("iterator")},function(e,t,n){e.exports={default:n(133),__esModule:!0}},function(e,t,n){n(134);var o=n(5).Object;e.exports=function(e,t){return o.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var o=n(14),i=n(54).f;n(51)("getOwnPropertyDescriptor",function(){return function(e,t){return i(o(e),t)}})},function(e,t,n){e.exports={default:n(136),__esModule:!0}},function(e,t,n){n(137),e.exports=n(5).Object.setPrototypeOf},function(e,t,n){var o=n(8);o(o.S,"Object",{setPrototypeOf:n(138).set})},function(e,t,n){var o=n(12),i=n(10),a=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{(o=n(19)(Function.call,n(54).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=y(n(140)),i=y(n(59)),a=y(n(29)),r=y(n(36)),s=y(n(30)),l=y(n(32)),u=y(n(15)),d=y(n(18)),c=y(n(55)),f=y(n(28)),p=y(n(1)),m=y(n(0)),h=y(n(4)),g=y(n(2)),v=y(n(3)),b=y(n(147));function y(e){return e&&e.__esModule?e:{default:e}}var k=(0,y(n(11)).default)("mono:router"),w=function(e){function t(){(0,m.default)(this,t);var e=(0,g.default)(this,(t.__proto__||(0,p.default)(t)).call(this));return e.monoInstances=[],e.contentScripts=[{matches:"^(?:https?|file|ftp)://[^\\/]*\\.vimeo\\.com/.*$|^(?:https?|file|ftp)://vimeo\\.com/.*$",run_at:"document_end",all_frames:!0,js:[0,1]},{matches:"^(?:https?|file|ftp)://[^\\/]*/.*$",include_globs:"^http://dailymotion\\.[^\\/]*/.*$|^http://[^\\/]*\\.dailymotion\\.[^\\/]*/.*$|^https://dailymotion\\.[^\\/]*/.*$|^https://[^\\/]*\\.dailymotion\\.[^\\/]*/.*$",run_at:"document_end",all_frames:!0,js:[0,2]},{matches:"^(?:https?|file|ftp)://[^\\/]*\\.youtube\\.com/.*$|^(?:https?|file|ftp)://youtube\\.com/.*$",run_at:"document_end",all_frames:!0,js:[0,3]},{matches:"^(?:https?|file|ftp)://[^\\/]*\\.soundcloud\\.com/.*$|^(?:https?|file|ftp)://soundcloud\\.com/.*$",run_at:"document_end",js:[0,4]},{matches:"^(?:https?|file|ftp)://[^\\/]*\\.vk\\.com/.*$|^(?:https?|file|ftp)://vk\\.com/.*$|^(?:https?|file|ftp)://[^\\/]*\\.vkontakte\\.ru/.*$|^(?:https?|file|ftp)://vkontakte\\.ru/.*$",run_at:"document_end",all_frames:!0,js:[0,5]},{matches:"^(?:https?|file|ftp)://[^\\/]*\\.ok\\.ru/.*$|^(?:https?|file|ftp)://ok\\.ru/.*$|^(?:https?|file|ftp)://[^\\/]*\\.odnoklassniki\\.ru/.*$|^(?:https?|file|ftp)://odnoklassniki\\.ru/.*$",run_at:"document_end",js:[0,6]},{matches:"^(?:https?|file|ftp)://my\\.mail\\.ru/.*$",run_at:"document_end",js:[0,7]},{matches:"^(?:https?|file|ftp)://[^\\/]*\\.facebook\\.com/.*$|^(?:https?|file|ftp)://facebook\\.com/.*$",run_at:"document_end",js:[0,8]},{matches:"^(?:https?|file|ftp)://[^\\/]*\\.savefrom\\.net/.*$|^(?:https?|file|ftp)://savefrom\\.net/.*$",run_at:"document_end",js:[0,9]},{matches:"^(?:https?|file|ftp)://[^\\/]*\\.instagram\\.com/.*$|^(?:https?|file|ftp)://instagram\\.com/.*$",run_at:"document_end",all_frames:!0,js:[0,10]},{matches:"^(?:https?|file|ftp)://[^\\/]*\\.rutube\\.ru/.*$|^(?:https?|file|ftp)://rutube\\.ru/.*$",run_at:"document_end",all_frames:!0,js:[0,11]},{matches:"^(?:https?|file|ftp)://[^\\/]*/.*$",run_at:"document_end",js:[12]}],e.contentScriptMap={"includes/commons.js":0,"includes/vimeo_com.js":1,"includes/dailymotion_com.js":2,"includes/youtube_com.js":3,"includes/soundcloud_com.js":4,"includes/vkontakte_ru.js":5,"includes/odnoklassniki_ru.js":6,"includes/mail_ru.js":7,"includes/facebook_com.js":8,"includes/savefrom_net.js":9,"includes/instagram_com.js":10,"includes/rutube_ru.js":11,"includes/tab.js":12,"includes/aviaBar.js":13,"includes/fsStat.js":14,"includes/link_modifier.js":15,"includes/promoBar.js":16,"includes/sovetnik-sf.js":17,"includes/swStat.js":18},e.contentScriptIndex=[function(e){!window.savefromContentScriptWebpackJsonp&&(window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[]).push([[0],[function(t,n,o){var i=e;n.a=i},function(e,t,n){var o=n(2),i={create:function(e,t){var n=void 0,o=void 0;for(var i in n="object"!=typeof e?document.createElement(e):e,t){var r=t[i];(o=a[i])?o(n,r):n[i]=r}return n}},a={text:function(e,t){e.textContent=t},data:function(e,t){for(var n in t)e.dataset[n]=t[n]},class:function(e,t){if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++)e.classList.add(t[n]);else e.setAttribute("class",t)},style:function(e,t){if("object"==typeof t)for(var n in t){var o=n;"float"===o&&(o="cssFloat");var i=t[n];if(Array.isArray(i))for(var a=0,r=i.length;a<r;a++)e.style[o]=i[a];else e.style[o]=i}else e.setAttribute("style",t)},append:function(e,t){Array.isArray(t)||(t=[t]);for(var n=0,o=t.length;n<o;n++){var i=t[n];(i||0===i)&&("object"!=typeof i&&(i=document.createTextNode(i)),e.appendChild(i))}},on:function(e,t){"object"!=typeof t[0]&&(t=[t]);for(var n=0,i=t.length;n<i;n++){var a=t[n];Array.isArray(a)&&o.a.on.apply(o.a,[e].concat(a))}},one:function(e,t){"object"!=typeof t[0]&&(t=[t]);for(var n=0,i=t.length;n<i;n++){var a=t[n];Array.isArray(a)&&o.a.one.apply(o.a,[e].concat(a))}},onCreate:function(e,t){t.call(e,e)},attr:function(e,t){var n=void 0,o=void 0;for(n in t)o=t[n],e.setAttribute(n,o)}};t.a=i},function(e,t,n){var o={on:function(e,t,n,o){e.addEventListener(t,n,o)},off:function(e,t,n,o){e.removeEventListener(t,n,o)},one:function(e,t,n,i){var a=["oneFn",t,!!i].join("_"),r=n[a];r||(n[a]=r=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){o.off(this,t,r,i),n.apply(this,arguments)})),o.on(e,t,r,i),e=null}},i="sf-removed-"+Math.floor(1e6*Math.random()),a="sf-notify-on-remove-"+Math.floor(1e6*Math.random());o.onRemoveEventName=i,o.onRemoveClassName=a,o.onRemoveListener=function(e){o.trigger(e,i)},o.onRemoveEvent=function(e,t){e.classList.add(a),e.addEventListener(i,t)},o.offRemoveEvent=function(e,t){e.removeEventListener(o.onRemoveEventName,t)},o.trigger=function(e,t,n){void 0===n&&(n={}),void 0===n.bubbles&&(n.bubbles=!1),void 0===n.cancelable&&(n.cancelable=!1);var o;o="function"==typeof MouseEvent&&-1!==["click"].indexOf(t)?new MouseEvent(t,n):new CustomEvent(t,n),e.dispatchEvent(o)},t.a=o},function(e,t,n){t.a=function e(t,n){var o=[];Array.isArray(t)||(t=[t]),n&&!Array.isArray(n)&&(n=[n]);var i=function(e,t){var n=[];for(var o in t){var i=t[o];"cssFloat"===o&&(o="float");var a=o.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()});n.push(a+":"+i)}return n.length?[e.join(","),"{",n.join(";"),"}"].join(""):""},a=function(e,t){if(Array.isArray(t)||(t=[t]),n){var o=[],i=e.join||""===e.join?e.join:" ";n.forEach(function(e){t.forEach(function(t){o.push(e+i+t)})}),t=o}return t};return t.forEach(function(t){var r=null,s=t.media,l=t.selector,u=t.style,d=t.append;if(s&&d)o.push([s,"{",e(d,n),"}"].join(""));else if(l||u)r=a(t,l),o.push(i(r,u)),d&&o.push(e(d,r));else for(var c in t)-1===["append","join"].indexOf(c)&&(l=c,(d=(u=t[c]).append)&&delete u.append,r=a(t,l),o.push(i(r,u)),d&&o.push(e(d,r)))}),o.join("")}},function(e,t,n){var o=n(22),i={maxLength:80,rtrim:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,illegalRe:/[\/?<>\\:*|"~\u202B]/g,controlRe:/[\x00-\x1f\x80-\x9f]/g,zeroWidthJoinerRe:/\u200D/g,reservedRe:/^\.+/,trim:function(e){return e.replace(this.rtrim,"")},partsRe:/^(.+)\.([a-z0-9]{1,4})$/i,getParts:function(e){return e.match(this.partsRe)},specialChars:"nbsp,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,times,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,divide,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml".split(","),specialCharsList:[["amp","quot","lt","gt"],[38,34,60,62]],specialCharsRe:/&([^;]{2,6});/g,decodeSpecialChars:function(e){var t=this;return e.replace(this.specialCharsRe,function(e,n){var o=null;if("#"===n[0])return o=parseInt(n.substr(1)),isNaN(o)?"":String.fromCharCode(o);var i=t.specialCharsList[0].indexOf(n);return-1!==i?(o=t.specialCharsList[1][i],String.fromCharCode(o)):-1!==(i=t.specialChars.indexOf(n))?(o=i+160,String.fromCharCode(o)):""})},decodeHexChars:function(e){return e.replace(/(\\x[a-zA-Z0-9]{2})/g,function(e,t){var n=t;try{n=String.fromCharCode(parseInt("0x"+n.substr(2),16))}catch(e){}return n})},rnRe:/\r?\n/g,re1:/[*?"]/g,re2:/</g,re3:/>/g,spaceRe:/[\s\t\uFEFF\xA0]+/g,dblRe:/(\.|!|\?|_|,|-|:|\+){2,}/g,re4:/[.,:;\/\-_+=']$/g,modify:function(e){if(!e)return"";e=Object(o.a)(e);try{e=decodeURIComponent(e)}catch(t){e=unescape(e)}if(e=(e=this.decodeSpecialChars(e)).replace(this.rnRe," "),(e=(e=this.trim(e)).replace(this.zeroWidthJoinerRe,"").replace(this.re1,"").replace(this.re2,"(").replace(this.re2,"(").replace(this.re3,")").replace(this.spaceRe," ").replace(this.dblRe,"$1").replace(this.illegalRe,"_").replace(this.controlRe,"").replace(this.reservedRe,"").replace(this.re4,"")).length>this.maxLength){var t=this.getParts(e);t&&3==t.length&&(t[1]=t[1].substr(0,this.maxLength),e=t[1]+"."+t[2])}return this.trim(e)}};t.a=i},function(e,t,n){n.d(t,"b",function(){return r});var o=n(0),i=[];o.a.onMessage.addListener(function(e,t,n){e&&"getLoadedModules"===e.action&&(e.url&&e.url!==location.href||n(i))});var a=function(e,t,n){return f.default.resolve().then(function(){return!n||n()}).then(function(n){n&&(-1===i.indexOf(e)&&i.push(e),t())})},r=function(e,t,n){return a(e,function(){return o.a.callFn("getPreferences").then(function(n){t(e,{preferences:n})})},n)};t.a=a},function(e,t,n){t.a=function(e){return"data-"+e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}},function(e,t,n){t.a=function(){return window.top!==window.self}},function(e,t,n){var o=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=document.createElement("div");return o="function"==typeof n.matches?function(e,t){return e.matches(t)}:"function"==typeof n.matchesSelector?function(e,t){return e.matchesSelector(t)}:"function"==typeof n.webkitMatchesSelector?function(e,t){return e.webkitMatchesSelector(t)}:"function"==typeof n.mozMatchesSelector?function(e,t){return e.mozMatchesSelector(t)}:"function"==typeof n.oMatchesSelector?function(e,t){return e.oMatchesSelector(t)}:"function"==typeof n.msMatchesSelector?function(e,t){return e.msMatchesSelector(t)}:function(e,t){return!1},n=null,o(e,t)});t.a=function(e,t){return o(e,t)}},function(e,t,n){var o=n(8);t.a=function(e,t){if(!e||1!==e.nodeType)return null;if(Object(o.a)(e,t))return e;if(!Object(o.a)(e,t+" "+e.tagName))return null;for(var n=e=e.parentNode;n;n=n.parentNode){if(1!==n.nodeType)return null;if(Object(o.a)(n,t))return n}return null}},function(e,t,n){t.a=function(e){var t;return(t=function(){}).log=t.info=t.warn=t.error=t.debug=t,t}},function(e,t,n){var o=n(10),i=Object(o.a)("extensionMarker"),a="savefrom-helper-extension",r={getItem:function(e){var t=null;try{t=window.sessionStorage.getItem(e)}catch(t){i.error("getItem error",e,t)}return t},setItem:function(e,t){try{window.sessionStorage.setItem(e,t)}catch(n){i.error("setMarker error",e,t,n)}},hash:function(e){var t=e.length,n=0,o=0;if(t>0)for(;o<t;)n=(n<<5)-n+e.charCodeAt(o++)|0;return""+n},getMarker:function(){var e=null;return"undefined"!=typeof GM_info&&(e=GM_info.script&&GM_info.script.uuid),e||"undefined"!=typeof GM&&(e=GM.info&&GM.info.script&&GM.info.script.uuid),e||(e="userscript"),this.hash(""+e)},getCurrentMarker:function(){return this.getItem(a)},setMarker:function(e){return this.setItem(a,e)},getFallbackMarker:function(){return this.getItem(a+"-fallback")},setFallbackMarker:function(){return this.setItem(a+"-fallback","1")},isSingle:function(){var e=this.getMarker(),t=this.getCurrentMarker();return"1"===t&&null===this.getFallbackMarker()&&(this.setFallbackMarker(),t=null),null===t&&this.setMarker(t=e),t===e}};t.a=r},function(e,t,n){var o=n(0),i=n(3),a=n(8),r=n(9),s=n(21),l=n(2),p={animation:"none 0s ease 0s 1 normal none running",backfaceVisibility:"visible",background:"transparent none repeat 0 0 / auto auto padding-box border-box scroll",border:"medium none currentColor",borderCollapse:"separate",borderImage:"none",borderRadius:"0",borderSpacing:"0",bottom:"auto",boxShadow:"none",boxSizing:"content-box",captionSide:"top",clear:"none",clip:"auto",color:"inherit",columns:"auto",columnCount:"auto",columnFill:"balance",columnGap:"normal",columnRule:"medium none currentColor",columnSpan:"1",columnWidth:"auto",content:"normal",counterIncrement:"none",counterReset:"none",cursor:"auto",direction:"ltr",display:"inline",emptyCells:"show",float:"none",font:"normal normal normal normal medium/normal inherit",height:"auto",hyphens:"none",left:"auto",letterSpacing:"normal",listStyle:"disc outside none",margin:"0",maxHeight:"none",maxWidth:"none",minHeight:"0",minWidth:"0",opacity:"1",orphans:"0",outline:"medium none invert",overflow:"visible",overflowX:"visible",overflowY:"visible",padding:"0",pageBreakAfter:"auto",pageBreakBefore:"auto",pageBreakInside:"auto",perspective:"none",perspectiveOrigin:"50% 50%",position:"static",right:"auto",tabSize:"8",tableLayout:"auto",textAlign:"inherit",textAlignLast:"auto",textDecoration:"none solid currentColor",textIndent:"0",textShadow:"none",textTransform:"none",top:"auto",transform:"none",transformOrigin:"50% 50% 0",transformStyle:"flat",transition:"none 0s ease 0s",unicodeBidi:"normal",verticalAlign:"baseline",visibility:"visible",whiteSpace:"normal",widows:"0",width:"auto",wordSpacing:"normal",zIndex:"auto",all:"initial"},g=n(1),v=n(19),b=n(4),y=n(15),k=n(10),w=n(20),x=Object(k.a)("components"),S=null,A={downloadParam:"sfh--download",setStyle:function(e,t){if(e&&t)for(var n in t)e.style[n]=t[n]},getStyle:function(e,t){return e&&window.getComputedStyle&&window.getComputedStyle(e,null).getPropertyValue(t)},addStyleRules:function(e,t,n){var o=n?document.querySelector("#savefrom-styles."+n):document.getElementById("savefrom-styles");if(!o){(o=document.createElement("style")).id="savefrom-styles",n&&o.classList.add(n);var i=document.querySelector("head style");i?i.parentNode.insertBefore(o,i):document.querySelector("head").appendChild(o)}if("object"==typeof t){var a=[];for(var r in t)a.push(r+":"+t[r]);t=a.join(";")}o.textContent+=e+"{"+t+"}"},getPosition:function(e,t){var n=e.getBoundingClientRect();if(t){var o=t.getBoundingClientRect();return{top:Math.round(n.top-o.top),left:Math.round(n.left-o.left),width:n.width,height:n.height}}return{top:Math.round(n.top+window.pageYOffset),left:Math.round(n.left+window.pageXOffset),width:n.width,height:n.height}},getSize:function(e){return{width:e.offsetWidth,height:e.offsetHeight}},getMatchFirst:function(e,t){var n=e.match(t);return n&&n.length>1?n[1]:""},getElementByIds:function(e){for(var t=0;t<e.length;t++){var n=document.getElementById(e[t]);if(n)return n}return null},getParentByClass:function(e,t){if(!e||""==t)return!1;var n;if("object"==typeof t&&t.length>0)for(n=e;n;n=n.parentNode){if(1!==n.nodeType)return null;for(var o=0;o<t.length;o++)if(n.classList.contains(t[o]))return n}else for(n=e;n;n=n.parentNode){if(1!==n.nodeType)return null;if(n.classList.contains(t))return n}return null},getParentByTagName:function(e,t){if(!e||!t)return!1;for(var n=e;n;n=n.parentNode){if(1!==n.nodeType)return null;if(n.tagName===t)return n}return null},getParentById:function(e,t){for(var n=e;n;n=n.parentNode){if(1!==n.nodeType)return null;if(n.id===t)return n}return null},hasChildrenTagName:function(e,t){for(var n,o=0;n=e.childNodes[o];o++)if(1===n.nodeType&&n.tagName===t)return!0;return!1},isParent:function(e,t){return!(!t||-1===[1,9,11].indexOf(t.nodeType))&&t.contains(e)},emptyNode:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},download:function(e,t,n,i){if(!t)return!1;if(!(e=e||this.getFileName(t)))return!1;if(!S.preferences.downloads)return!1;var a=n||{};return a.url=t,a.filename=e,i=i||void 0,o.a.sendMessage({action:"downloadFile",options:a},i),!0},downloadList:{showDownloadWarningPopup:function(e,t){var n=A.playlist.getInfoPopupTemplate();o.a.sendMessage({action:"getWarningIcon",type:t},function(e){n.icon.style.backgroundImage="url("+e+")"}),g.a.create(n.textContainer,{append:[g.a.create("p",{text:o.a.i18n.getMessage("warningPopupTitle"),style:{color:"#0D0D0D",fontSize:"20px",marginBottom:"11px",marginTop:"13px"}}),g.a.create("p",{text:o.a.i18n.getMessage("warningPopupDesc")+" ",style:{color:"#868686",fontSize:"14px",marginBottom:"13px",lineHeight:"24px",marginTop:"0px"},append:g.a.create("a",{href:"ru"===o.a.i18n.getMessage("lang")||"uk"===o.a.i18n.getMessage("lang")?"http://vk.com/page-55689929_49003549":"http://vk.com/page-55689929_49004259",text:o.a.i18n.getMessage("readMore"),target:"_blank",style:{color:"#4A90E2"}})}),g.a.create("p",{style:{marginBottom:"13px"},append:[g.a.create("label",{style:{color:"#868686",cursor:"pointer",fontSize:"14px",lineHeight:"19px"},append:[g.a.create("input",{type:"checkbox",style:{cssFloat:"left",marginLeft:"0px"},on:["click",function(){o.a.sendMessage({action:"hideDownloadWarning",set:this.checked?1:0})}]}),o.a.i18n.getMessage("noWarning")]})]})]});var i=void 0,a=void 0;g.a.create(n.buttonContainer,{append:[i=g.a.create("button",{text:o.a.i18n.getMessage("cancel"),style:{height:"27px",width:"118px",backgroundColor:"#ffffff",border:"1px solid #9e9e9e",margin:"12px",marginBottom:"11px",marginRight:"4px",borderRadius:"5px",fontSize:"14px",cursor:"pointer"}}),a=g.a.create("button",{text:o.a.i18n.getMessage("continue"),style:{height:"27px",width:"118px",backgroundColor:"#ffffff",border:"1px solid #9e9e9e",margin:"12px",marginBottom:"11px",marginRight:"8px",borderRadius:"5px",fontSize:"14px",cursor:"pointer"}})]}),i.addEventListener("click",function(e){var t=n.body.parentNode;l.a.trigger(t.lastChild,"click")}),a.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e(),l.a.trigger(i,"click")}),A.popupDiv(n.body,"dl_warning_box_popup")},startChromeDownloadList:function(e){var t=e.folderName,n=e.list;return t&&(t+="/"),o.a.sendMessage({action:"downloadList",fileList:n,folder:t})},startOldChromeDownloadList:function(e,t){var n=e.folderName,i=e.list,a=e.type;n&&(n+="/");var r=0,s=!1,u=500,d=document.body;d.focus(),t||(d.onblur=function(){s=!0});!function e(){var t=i[r];if(r++,void 0!==t)if(S.preferences.downloads?A.download(n+t.filename,t.url):l.a.trigger(g.a.create("a",{download:t.filename,href:t.url,on:["click",function(e){A.downloadOnClick(e)}]}),"click",{cancelable:!0,altKey:!0}),s)A.downloadList.showDownloadWarningPopup(function(){s=!1,d.focus(),e()},a);else{if(r>5&&u&&(u=void 0,d.onblur=void 0,s=!1,S.preferences.downloads))return void o.a.sendMessage({action:"downloadList",fileList:i.slice(r),folder:n});setTimeout(function(){e()},u)}}()},startDownload:function(e){return e.list.forEach(function(e){e.filename=b.a.modify(e.filename)}),e.folderName=b.a.modify(e.folderName),o.a.isChrome&&S.preferences.downloads||o.a.isFirefox?A.downloadList.startChromeDownloadList(e):o.a.isGM||o.a.isSafari?o.a.sendMessage({action:"hideDownloadWarning"},function(t){A.downloadList.startOldChromeDownloadList(e,t)}):void 0},showBeforeDownloadPopup:function(e,t){t.list=e;var n=t.type,i=t.folderName,a=t.onContinue||A.downloadList.startDownload,r=t.onShowList||A.playlist.popupFilelist,s=t.count||e.length,u=A.playlist.getInfoPopupTemplate();o.a.sendMessage({action:"getWarningIcon",color:"#00CCFF",type:n},function(e){u.icon.style.backgroundImage="url("+e+")"});var d=[];r&&(d=[" (",g.a.create("a",{href:"#",text:o.a.i18n.getMessage("vkListOfLinks").toLowerCase()}),")"])[1].addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),r(t.list),l.a.trigger(c,"click")}),g.a.create(u.textContainer,{append:[g.a.create("p",{text:i||o.a.i18n.getMessage("playlistTitle"),style:{color:"#0D0D0D",fontSize:"20px",marginBottom:"11px",marginTop:"13px"}}),g.a.create("p",{text:o.a.i18n.getMessage("vkFoundFiles").replace("%d",s),style:{color:"#868686",fontSize:"14px",marginBottom:"13px",lineHeight:"24px",marginTop:"0px"},append:d}),g.a.create("p",{text:o.a.i18n.getMessage("beforeDownloadPopupWarn"),style:{color:"#868686",fontSize:"14px",marginBottom:"13px",lineHeight:"24px",marginTop:"0px"}})]});var c=void 0,f=void 0;g.a.create(u.buttonContainer,{append:[c=g.a.create("button",{text:o.a.i18n.getMessage("cancel"),style:{height:"27px",width:"118px",backgroundColor:"#ffffff",border:"1px solid #9e9e9e",margin:"12px",marginBottom:"11px",marginRight:"4px",borderRadius:"5px",fontSize:"14px",cursor:"pointer"}}),f=g.a.create("button",{text:o.a.i18n.getMessage("continue"),style:{height:"27px",width:"118px",backgroundColor:"#ffffff",border:"1px solid #9e9e9e",margin:"12px",marginBottom:"11px",marginRight:"8px",borderRadius:"5px",fontSize:"14px",cursor:"pointer"}})]}),c.addEventListener("click",function(e){var t=u.body.parentNode;l.a.trigger(t.lastChild,"click")}),f.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),a(t),l.a.trigger(c,"click")}),A.popupDiv(u.body,"dl_confirm_box_popup")}},downloadLink:function(e,t){if(!e.href)return!1;var n=e.getAttribute("download");return this.download(n,e.href,null,t)},safariDlLink:function(e){if(!(e.button||e.ctrlKey||e.altKey||e.shitfKey)){var t=null;try{if("function"!=typeof MouseEvent)throw"legacy";t=new MouseEvent("click",{bubbles:!0,cancelable:e.cancelable,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,ctrlKey:!1,altKey:!0,shiftKey:!1,metaKey:e.metaKey,button:e.button,relatedTarget:e.relatedTarget})}catch(n){t=function(e){var t=document.createEvent("MouseEvents");return t.initMouseEvent("click",!0,e.cancelable,window,0,e.screenX,e.screenY,e.clientX,e.clientY,!1,!0,!1,e.metaKey,e.button,e.relatedTarget),t}(e)}e.preventDefault(),e.stopPropagation(),this.dispatchEvent(t)}},downloadOnClick:function(e,t,n){var a=A,s=(n=n||{}).el||e.target;if("A"!==s.tagName&&(s=Object(r.a)(s,"A")),s){if(o.a.isSafari){if(!e.altKey&&!e.ctrlKey)return e.preventDefault(),void function(e,t){if(!(e.dataset.sfTitleTooltip>0)){e.dataset.sfTitleTooltip=1;var n=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,m.default)(this,e),this.target=t,this.options=(0,c.default)({content:"",defaultWidth:0,defaultHeight:0},n),this.handleMouseleave=this.handleMouseleave.bind(this),this.isVisible=!1,this.timeout=null}return(0,h.default)(e,[{key:"handleMouseleave",value:function(){this.hide()}},{key:"show",value:function(){if(this.isVisible)this.startHideTimeout();else{this.node||(this.node=this.createTooltip()),this.isVisible=!0;var e=document.body;e&&(this.node.classList.add("hidden"),e.appendChild(this.node),this.setPos(),this.node.classList.remove("hidden")),this.target.addEventListener("mouseleave",this.handleMouseleave),this.startHideTimeout()}}},{key:"hide",value:function(){var e=this;this.isVisible&&(this.isVisible=!1,this.stopHideTimeout(),this.node.classList.add("hidden"),this.target.removeEventListener("mouseleave",this.handleMouseleave),setTimeout(function(){if(!e.isVisible&&e.node){var t=e.node.parentNode;t&&t.removeChild(e.node),e.node=null}},250))}},{key:"startHideTimeout",value:function(){var e=this;this.stopHideTimeout(),this.timeout=setTimeout(function(){e.hide()},3e3)}},{key:"stopHideTimeout",value:function(){clearTimeout(this.timeout)}},{key:"createTooltip",value:function(){return g.a.create("div",{class:["sf-paper-tooltip-ctr"],append:[g.a.create("div",{class:"sf-paper-tooltip",text:this.options.content}),g.a.create("style",{text:Object(i.a)({".sf-paper-tooltip-ctr":{display:"block",outline:"none",userSelect:"none",cursor:"default",position:"absolute",zIndex:1e4,transition:"opacity 0.25s",maxWidth:"400px"},".sf-paper-tooltip-ctr.hidden":{opacity:0},".sf-paper-tooltip":{display:"block",outline:"none",fontFamily:"Arial",fontSize:"12px",backgroundColor:"#616161",opacity:.9,color:"white",padding:"8px",borderRadius:"2px",margin:"8px"}})})]})}},{key:"setPos",value:function(){var e=window,t=e.pageXOffset,n=e.pageYOffset,o=e.innerWidth,i=e.innerHeight,a=i+n,r=o+t,s=this.node.getBoundingClientRect();s.width||s.height||(s.width=this.options.defaultWidth,s.height=this.options.defaultHeight);var l=this.target.getBoundingClientRect(),u={},d=["top","bottom","left","right"].map(function(e){var d=null,c=null,f=0;if(-1!==["left","right"].indexOf(e)){var p=(l.height-s.height)/2;if(d=Math.round(l.top+n+p),s.height<i){var m=d+s.height;m>a&&(d-=m-a,f=1),d<0&&(d=0,f=1)}}else"top"===e?d=Math.round(l.top+n)-s.height:"bottom"===e&&(d=Math.round(l.top+n)+l.height);if(-1!==["top","bottom"].indexOf(e)){var h=(l.width-s.width)/2;if(c=Math.round(l.left+t+h),s.width<o){var g=c+s.width;g>r&&(c-=g-r,f=1),c<0&&(c=0,f=1)}}else"left"===e?c=Math.round(l.left+t-s.width):"right"===e&&(c=Math.round(l.left+t+l.width));var v=c+s.width,b=d+s.height,y=s.width,k=s.height,w=y;d<0&&(k-=-1*d),b>a&&(k-=b-a),c<0&&(w-=-1*c),v>r&&(w-=v-r);var x=100/(s.width*s.height)*(w*k)-f;return u[e]={top:d,left:c,quality:x}});d.sort(function(e,t){var n=e.quality,o=t.quality;return n===o?0:n>o?-1:1});var c=d[0];this.node.style.top=c.top+"px",this.node.style.left=c.left+"px"}}]),e}())(e,t);e.addEventListener("show_tooltip",function(){n.show()}),e.addEventListener("hide_tooltip",function(){n.hide()})}l.a.trigger(e,"show_tooltip")}(s,{content:o.a.i18n.getMessage("downloadTitle"),defaultWidth:400,defaultHeight:60});!function(e){e.dataset.sfTitleTooltip>0&&l.a.trigger(e,"hide_tooltip")}(s)}if(o.a.isSafari)return a.safariDlLink.call(s,e);S.preferences.downloads&&((o.a.isFirefox||o.a.isGM)&&/^blob:|^data:/.test(s.href)||2!==e.button&&(e.preventDefault(),e.stopPropagation(),a.downloadLink(s,t)))}},getQueryString:function(e,t,n){if(!e||"object"!=typeof e)return"";void 0===t&&(t=""),void 0===n&&(n="");var o="";for(var i in e)o.length&&(o+="&"),e[i]instanceof Object?(t||(t=""),n||(n=""),o+=A.getQueryString(e[i],t+i+"[","]"+n)):o+=t+escape(i)+n+"="+escape(e[i]);return o},decodeUnicodeEscapeSequence:function(e){return e.replace(/\\u([0-9a-f]{4})/g,function(e,t){if(t=parseInt(t,16),!isNaN(t))return String.fromCharCode(t)})},getFileExtension:function(e,t){var n=this.getMatchFirst(e,/\.([a-z0-9]{3,4})(\?|$)/i);return n?n.toLowerCase():t||""},getFileName:function(e){var t=this.getMatchFirst(e,/\/([^\?#\/]+\.[a-z\d]{2,6})(?:\?|#|$)/i);return t?b.a.modify(t):t},getTopLevelDomain:function(e){if(!e)return"";if(!e.match(/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}/))return e;var t=e.split("."),n=t.length;return 2==n?e:t[n-2]+"."+t[n-1]},dateToObj:function(e,t){var n=null===e||void 0===e?new Date:new Date(e);void 0===t&&(t=!0);var o={year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate(),hour:n.getHours(),min:n.getMinutes(),sec:n.getSeconds()};if(t)for(var i in o)1==o[i].toString().length&&(o[i]="0"+o[i]);return o},utf8Encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},sizeHuman:function(e,t){void 0!=t&&null!=t||(t=2);var n=e,i=0,a="",r=[o.a.i18n.getMessage("vkFileSizeByte"),o.a.i18n.getMessage("vkFileSizeKByte"),o.a.i18n.getMessage("vkFileSizeMByte"),o.a.i18n.getMessage("vkFileSizeGByte"),o.a.i18n.getMessage("vkFileSizeTByte")];for(n<0&&(a="-",n=Math.abs(n));n>=1e3;)i++,n/=1024;if(t>=0){var s=10*t;n=Math.round(n*s)/s}return i<r.length?a+n+" "+r[i]:e},secondsToDuration:function(e){if(!e||isNaN(e))return"";function t(e){return e<10?"0"+e:e.toString()}var n=Math.floor(e/3600);e%=3600;var o=Math.floor(e/60);return e%=60,n>0?n+":"+t(o)+":"+t(e):o+":"+t(e)},svg:{icon:{download:"M 4,0 4,8 0,8 8,16 16,8 12,8 12,0 4,0 z",info:"M 8,1.55 C 11.6,1.55 14.4,4.44 14.4,8 14.4,11.6 11.6,14.4 8,14.4 4.44,14.4 1.55,11.6 1.55,8 1.55,4.44 4.44,1.55 8,1.55 M 8,0 C 3.58,0 0,3.58 0,8 0,12.4 3.58,16 8,16 12.4,16 16,12.4 16,8 16,3.58 12.4,0 8,0 L 8,0 z M 9.16,12.3 H 6.92 V 7.01 H 9.16 V 12.3 z M 8.04,5.91 C 7.36,5.91 6.81,5.36 6.81,4.68 6.81,4 7.36,3.45 8.04,3.45 8.72,3.45 9.27,4 9.27,4.68 9.27,5.36 8.72,5.91 8.04,5.91 z",noSound:"M 11.4,5.05 13,6.65 14.6,5.05 16,6.35 14.4,7.95 16,9.55 14.6,11 13,9.35 11.4,11 10,9.55 11.6,7.95 10,6.35 z M 8,1.75 8,14.3 4,10.5 l -4,0 0,-4.75 4,0 z"},cache:{},getSrc:function(e,t){return this.icon[e]?(this.cache[e]||(this.cache[e]={}),this.cache[e][t]||(this.cache[e][t]=btoa('<?xml version="1.0" encoding="UTF-8"?><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" width="16" height="16" viewBox="0 0 16 16" id="svg2" xml:space="preserve"><path d="'+this.icon[e]+'" fill="'+t+'" /></svg>')),this.cache[e][t]?"data:image/svg+xml;base64,"+this.cache[e][t]:""):""},getSvg:function(e,t,n,o){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),a=i.namespaceURI;i.setAttribute("width",n||"16"),i.setAttribute("height",o||n||"16"),i.setAttribute("viewBox","0 0 16 16");var r=document.createElementNS(a,"path");return i.appendChild(r),r.setAttribute("d",this.icon[e]),t&&r.setAttribute("fill",t),i}},appendDownloadInfo:function(e,t,n,i){t||(t="#a0a0a0");var a=document.createElement("span");a.appendChild(document.createTextNode(o.a.i18n.getMessage("downloadTitle"))),this.setStyle(a,{display:"inline-block",position:"relative",border:"1px solid "+t,borderRadius:"5px",fontSize:"13px",lineHeight:"17px",padding:"2px 19px 2px 5px",marginTop:"5px",opacity:.9}),n&&this.setStyle(a,n);var r=document.createElement("span");r.textContent=String.fromCharCode(215),this.setStyle(r,{color:t,width:"14px",height:"14px",fontSize:"14px",fontWeight:"bold",lineHeight:"14px",position:"absolute",top:0,right:0,overflow:"hidden",cursor:"pointer"}),i&&this.setStyle(r,i),r.addEventListener("click",function(){a.parentNode.removeChild(a),o.a.sendMessage({action:"updateOption",key:"moduleShowDownloadInfo",value:0})},!1),a.appendChild(r),e.appendChild(a)},getFileSizeIcon:function(e,t,n,i){var a=this;i=i||{},e=e||{},t=t||{},n=n||{};var r=function(e){return g.a.create("div",{style:t,append:[g.a.create(A.svg.getSvg("info",e),{style:n})]})},s=g.a.create("div",{style:e,append:[g.a.create(r("#333333"),{title:o.a.i18n.getMessage("getFileSizeTitle"),on:["click",function e(t){t.stopPropagation(),t.preventDefault(),s.textContent="...";var n=i.url;n||(n=i.link&&i.link.href),Object(y.a)({action:"getFileSize",url:n}).then(function(e){if(e.error||!e.fileSize)throw new Error((0,d.default)(e));var t=e.fileType||"",n=a.sizeHuman(e.fileSize,2),r="";if(i.link&&/^audio\//i.test(t)){var l=parseInt(i.link.dataset.savefromHelperDuration);l>0&&(r+=Math.floor(e.fileSize/l/125),r+=" "+o.a.i18n.getMessage("kbps"))}var u="";u+=r?n+" ~ "+r:n,i.brackets&&(u="("+u+")"),s.textContent=u,s.title=t}).catch(function(t){var n;x.error(t),"ZERO"===t.message?(n=r("#ffac00")).title=o.a.i18n.getMessage("getFileSizeTitle"):(n=r("#ff0000")).title=o.a.i18n.getMessage("getFileSizeFailTitle"),n.addEventListener("click",e),s.textContent="",s.appendChild(n)})}]})]});return{node:s}},appendFileSizeIcon:function(e,t,n,i,a,r){t=t||{},n=n||{};var s="#333333";"0"===i?s="#ffac00":i?s="#ff0000":t.color&&(s=t.color);var l={width:"14px",height:"14px",marginLeft:"3px",verticalAlign:"middle",position:"relative",top:"-1px",cursor:"pointer"};(0,c.default)(l,t);var u={fontSize:"75%",fontWeight:"normal",marginLeft:"3px",whiteSpace:"nowrap"};(0,c.default)(u,n);var d=g.a.create("img",{src:A.svg.getSrc("info",s),title:i?o.a.i18n.getMessage("getFileSizeFailTitle"):o.a.i18n.getMessage("getFileSizeTitle"),style:l}),f=this;return r?r.appendChild(d):e.nextSibling?e.parentNode.insertBefore(d,e.nextSibling):e.parentNode.appendChild(d),d.addEventListener("click",function(i){i.preventDefault(),i.stopPropagation();var r=g.a.create("span",{text:"...",style:u});return d.parentNode.replaceChild(r,d),o.a.sendMessage({action:"getFileSize",url:e.href},function(i){if(i.fileSize>0){var s=i.fileType||"",l=f.sizeHuman(i.fileSize,2),u="";if(/^audio\//i.test(s)){var d=e.getAttribute("data-savefrom-helper-duration");(d=d&&parseInt(d))>0&&(u=Math.floor(i.fileSize/d/125),u+=" "+o.a.i18n.getMessage("kbps"))}var c="";c=u?l+" ~ "+u:l,a||(c="("+c+")"),r.textContent=c,r.title=s}else if(i.error){var p=f.appendFileSizeIcon(e,t,n,!0,a,document.createDocumentFragment());r.parentNode.replaceChild(p,r)}else{var m=f.appendFileSizeIcon(e,t,n,"0",a,document.createDocumentFragment());r.parentNode.replaceChild(m,r)}})},!1),d},appendNoSoundIcon:function(e,t){var n="#ff0000";(t=t||{}).color&&(n=t.color);var i={width:"14px",height:"14px",marginLeft:"3px",verticalAlign:"middle",position:"relative",top:"-1px",cursor:"pointer"};(0,c.default)(i,t);var a=g.a.create("img",{src:A.svg.getSrc("noSound",n),title:o.a.i18n.getMessage("withoutAudio"),style:i});e.nextSibling?e.parentNode.insertBefore(a,e.nextSibling):e.parentNode?e.parentNode.appendChild(a):e.appendChild(a)},video:{dataAttr:"data-savefrom-video-visible",yt:{inited:!1,show3D:!1,showMP4NoAudio:!1,showFormat:{FLV:!0,MP4:!0,WebM:!1,"3GP":!1,"Audio AAC":!1,"Audio Vorbis":!1,"Audio Opus":!1},format:{FLV:{5:{quality:"240"},6:{quality:"270"},34:{quality:"360"},35:{quality:"480"}},MP4:{18:{quality:"360"},22:{quality:"720"},37:{quality:"1080"},38:{quality:"8K"},59:{quality:"480"},78:{quality:"480"},82:{quality:"360","3d":!0},83:{quality:"240","3d":!0},84:{quality:"720","3d":!0},85:{quality:"1080","3d":!0},160:{quality:"144",noAudio:!0},133:{quality:"240",noAudio:!0},134:{quality:"360",noAudio:!0},135:{quality:"480",noAudio:!0},136:{quality:"720",noAudio:!0},137:{quality:"1080",noAudio:!0},212:{quality:"480",noAudio:!0},213:{quality:"480",noAudio:!0},214:{quality:"720",noAudio:!0},215:{quality:"720",noAudio:!0},264:{quality:"1440",noAudio:!0},138:{quality:"8K",noAudio:!0},298:{quality:"720",noAudio:!0,sFps:!0},299:{quality:"1080",noAudio:!0,sFps:!0},266:{quality:"4K",noAudio:!0}},WebM:{43:{quality:"360"},44:{quality:"480"},45:{quality:"720"},46:{quality:"1080"},167:{quality:"360",noAudio:!0},168:{quality:"480",noAudio:!0},169:{quality:"720",noAudio:!0},170:{quality:"1080",noAudio:!0},218:{quality:"480",noAudio:!0},219:{quality:"480",noAudio:!0},242:{quality:"240",noAudio:!0},243:{quality:"360",noAudio:!0},244:{quality:"480",noAudio:!0},245:{quality:"480",noAudio:!0},246:{quality:"480",noAudio:!0},247:{quality:"720",noAudio:!0},248:{quality:"1080",noAudio:!0},271:{quality:"1440",noAudio:!0},272:{quality:"8K",noAudio:!0},278:{quality:"144",noAudio:!0},100:{quality:"360","3d":!0},101:{quality:"480","3d":!0},102:{quality:"720","3d":!0},302:{quality:"720",noAudio:!0,sFps:!0},303:{quality:"1080",noAudio:!0,sFps:!0},308:{quality:"1440",noAudio:!0,sFps:!0},313:{quality:"4K",noAudio:!0},315:{quality:"4K",noAudio:!0,sFps:!0},330:{quality:"144",noAudio:!0,sFps:!0},331:{quality:"240",noAudio:!0,sFps:!0},332:{quality:"360",noAudio:!0,sFps:!0},333:{quality:"480",noAudio:!0,sFps:!0},334:{quality:"720",noAudio:!0,sFps:!0},335:{quality:"1080",noAudio:!0,sFps:!0},336:{quality:"1440",noAudio:!0,sFps:!0},337:{quality:"2160",noAudio:!0,sFps:!0}},"3GP":{17:{quality:"144"},36:{quality:"240"}},"Audio AAC":{139:{quality:"48",ext:"m4a",noVideo:!0},140:{quality:"128",ext:"m4a",noVideo:!0},141:{quality:"256",ext:"m4a",noVideo:!0},256:{quality:"192",ext:"m4a",noVideo:!0},258:{quality:"384",ext:"m4a",noVideo:!0}},"Audio Vorbis":{171:{quality:"128",ext:"webm",noVideo:!0},172:{quality:"192",ext:"webm",noVideo:!0}},"Audio Opus":{249:{quality:"48",ext:"opus",noVideo:!0},250:{quality:"128",ext:"opus",noVideo:!0},251:{quality:"256",ext:"opus",noVideo:!0}}},init:function(){if(!A.video.yt.inited){["Audio AAC","Audio Vorbis","Audio Opus"].forEach(function(e){var t=A.video.yt.format[e];for(var n in t)t[n].quality+=" "+o.a.i18n.getMessage("kbps")}),A.video.yt.show3D="0"==S.preferences.ytHide3D,A.video.yt.showMP4NoAudio="0"==S.preferences.ytHideMP4NoAudio;var e=!1,t=!1;for(var n in A.video.yt.showFormat){var i="ytHide"+n.replace(" ","_");"ytHideAudio_AAC"===i&&(i="ytHideAudio_MP4");var a="0"==S.preferences[i];"Audio AAC"===n&&(t=a),A.video.yt.showFormat[n]=a,a&&(e=!0)}A.video.yt.showFormat["Audio Vorbis"]=t,A.video.yt.showFormat["Audio Opus"]=t,e||(A.video.yt.showFormat.FLV=!0),A.video.yt.inited=!0}},show:function(e,t,n,i,a){i=i||{};var r=document.createElement("div");A.setStyle(r,{display:"inline-block",margin:"0 auto"}),t.appendChild(r);var s=document.createElement("div");A.setStyle(s,{display:"inline-block",padding:"0 90px 0 0",position:"relative"}),r.appendChild(s);var l=document.createElement("table");A.setStyle(l,{emptyCells:"show",borderCollapse:"collapse",margin:"0 auto",padding:"0",width:"auto"}),s.appendChild(l);var u=!1;for(var d in A.video.yt.format)A.video.yt.append(e,d,A.video.yt.format[d],l,i,a)&&(u=!0);for(var d in e)if("ummy"!==d&&"ummyAudio"!==d&&"meta"!==d){A.video.yt.append(e,"",null,l,i,a)&&(u=!0);break}if(l.firstChild){if(u){var c=document.createElement("span");c.textContent=o.a.i18n.getMessage("more")+" "+String.fromCharCode(187),A.setStyle(c,{color:"#555",border:"1px solid #a0a0a0",borderRadius:"3px",display:"block",fontFamily:"Arial",fontSize:"15px",lineHeight:"17px",padding:"1px 5px",position:"absolute",bottom:"3px",right:"0",cursor:"pointer"}),i.btn&&"object"==typeof i.btn&&A.setStyle(c,i.btn),s.appendChild(c),c.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();for(var n=t.querySelectorAll("*["+A.video.dataAttr+"]"),i=0;i<n.length;i++){var a=n[i].getAttribute(A.video.dataAttr),r="none",s=String.fromCharCode(187);"0"==a?(a="1",r="",s=String.fromCharCode(171)):a="0",n[i].style.display=r,n[i].setAttribute(A.video.dataAttr,a),this.textContent=o.a.i18n.getMessage("more")+" "+s}return!1},!1),1===n&&(l.querySelector("td a"),r.appendChild(document.createElement("br")),A.appendDownloadInfo(r,"#a0a0a0",null,{width:"16px",height:"16px",fontSize:"16px",lineHeight:"16px"}))}}else t.textContent=o.a.i18n.getMessage("noLinksFound")},append:function(e,t,n,i,a,r){var s=!1,l={whiteSpace:"nowrap"},u={fontSize:"75%",fontWeight:"normal",marginLeft:"3px",whiteSpace:"nowrap"},d=document.createElement("tr"),c=document.createElement("td");c.appendChild(document.createTextNode(t||"???")),t&&A.video.yt.showFormat[t]||(d.setAttribute(A.video.dataAttr,"0"),d.style.display="none",s=!0),A.setStyle(c,{border:"none",padding:"3px 15px 3px 0",textAlign:"left",verticalAlign:"middle"}),d.appendChild(c),c=document.createElement("td"),A.setStyle(c,{border:"none",padding:"3px 0",textAlign:"left",verticalAlign:"middle",lineHeight:"17px"}),d.appendChild(c);var f=e.meta||{},p=!1;if(n){for(var m in n)if(e[m]){var h=n[m].quality;p&&(c.lastChild.style.marginRight="15px",c.appendChild(document.createTextNode(" ")));var g=document.createElement("span");g.style.whiteSpace="nowrap";var v=document.createElement("a");if(v.href=e[m],v.title=o.a.i18n.getMessage("downloadTitle"),f[m]&&(f[m].quality&&(h=f[m].quality),n[m].sFps&&(h+=" "+(f[m].fps||60))),n[m]["3d"]?v.textContent="3D":v.textContent=h,r){var y=n[m].ext;y||(y=t.toLowerCase()),v.setAttribute("download",b.a.modify(r+"."+y)),v.addEventListener("click",function(e){A.downloadOnClick(e)},!1)}if(A.setStyle(v,l),a.link&&"object"==typeof a.link&&A.setStyle(v,a.link),g.appendChild(v),A.appendFileSizeIcon(v,a.fsIcon,a.fsText),n[m]["3d"]){A.video.yt.show3D||(s=!0,g.setAttribute(A.video.dataAttr,"0"),g.style.display="none");var k=document.createElement("span");k.textContent=h,A.setStyle(k,u),a.text&&"object"==typeof a.text&&A.setStyle(k,a.text),v.appendChild(k)}n[m].noAudio&&(A.video.yt.showMP4NoAudio||(s=!0,g.setAttribute(A.video.dataAttr,"0"),g.style.display="none"),A.appendNoSoundIcon(v,!!a&&a.noSoundIcon)),c.appendChild(g),p=!0,delete e[m]}}else for(var m in e){p&&(c.lastChild.style.marginRight="15px",c.appendChild(document.createTextNode(" ")));var w=document.createElement("span");w.style.whiteSpace="nowrap";var x=document.createElement("a");x.href=e[m],x.title=o.a.i18n.getMessage("downloadTitle"),x.textContent=m,A.setStyle(x,l),a.link&&"object"==typeof a.link&&A.setStyle(x,a.link),w.appendChild(x),A.appendFileSizeIcon(x,a.fsIcon,a.fsText),c.appendChild(w),p=!0,delete e[m]}if(!1!==p)return i.appendChild(d),s}}},playlist:{btnStyle:{display:"block",fontWeight:"bold",border:"none",textDecoration:"underline"},getFilelistHtml:function(e){if(e&&0!=e.length){for(var t,n=0,a="",r=0;r<e.length;r++)e[r].url&&(a+=e[r].url+"\r\n",n++);if(a)return n<5?n=5:n>14&&(n=14),g.a.create(document.createDocumentFragment(),{append:[g.a.create("p",{text:o.a.i18n.getMessage("filelistTitle"),style:{color:"#0D0D0D",fontSize:"20px",marginBottom:"11px",marginTop:"5px"}}),g.a.create("p",{style:{marginBottom:"11px"},append:Object(v.a)(o.a.i18n.getMessage("filelistInstruction"))}),g.a.create("p",{text:o.a.i18n.getMessage("vkFoundFiles").replace("%d",e.length),style:{color:"#000",marginBottom:"11px"},append:g.a.create("a",{text:o.a.i18n.getMessage("playlist"),href:"#",class:"sf__playlist",style:{display:"none",cssFloat:"right"}})}),t=g.a.create("textarea",{text:a,rows:n,cols:60,style:{width:"100%",whiteSpace:o.a.isFirefox||o.a.isGM&&!o.a.isTM?"normal":"nowrap"}}),o.a.isChrome||o.a.isFirefox?g.a.create("button",{text:o.a.i18n.getMessage("copy"),style:{height:"27px",backgroundColor:"#ffffff",border:"1px solid #9e9e9e",marginTop:"6px",paddingLeft:"10px",paddingRight:"10px",borderRadius:"5px",fontSize:"14px",cursor:"pointer",cssFloat:"right"},on:["click",function(e){var n=this;n.disabled=!0,o.a.isFirefox?(t.select(),document.execCommand("copy")):o.a.sendMessage({action:"addToClipboard",text:a}),setTimeout(function(){n.disabled=!1},1e3)}],append:g.a.create("style",{text:Object(i.a)({"#savefrom_popup_box":{append:{"button:hover:not(:disabled)":{backgroundColor:"#597A9E !important",borderColor:"#597A9E !important",color:"#fff"},"button:active":{opacity:.9}}}})})}):void 0]})}},popupFilelist:function(e,t,n,o){var i=A.playlist.getFilelistHtml(e);if(i){var a=A.popupDiv(i,o);if(n){var r=a.querySelector("a.sf__playlist");r&&(r.addEventListener("click",function(n){return setTimeout(function(){A.playlist.popupPlaylist(e,t,!0,o)},100),n.preventDefault(),!1},!1),A.setStyle(r,A.playlist.btnStyle))}}},getInfoPopupTemplate:function(){var e=g.a.create("div",{class:"sf-infoPopupTemplate",style:{width:"400px",minHeight:"40px"}}),t=g.a.create("div",{style:{backgroundSize:"48px",backgroundRepeat:"no-repeat",backgroundPosition:"center top",display:"inline-block",width:"60px",height:"60px",cssFloat:"left",marginTop:"16px",marginRight:"10px"}}),n=g.a.create("div",{style:{display:"inline-block",width:"330px"}}),o=g.a.create("div",{style:{textAlign:"right"},append:g.a.create("style",{text:Object(i.a)({".sf-infoPopupTemplate":{append:[{"a.sf-button":{padding:"1px 6px",display:"inline-block",textAlign:"center",height:"23px",lineHeight:"23px",textDecoration:"none"}},{selector:["button:hover","a.sf-button:hover"],style:{backgroundColor:"#597A9E !important",borderColor:"#597A9E !important",color:"#fff"}}]}})})});return e.appendChild(t),e.appendChild(n),e.appendChild(o),{icon:t,buttonContainer:o,textContainer:n,body:e}},getM3U:function(e){for(var t="#EXTM3U\r\n",n=0;n<e.length;n++)e[n].duration||(e[n].duration="-1"),(e[n].title||e[n].duration)&&(t+="#EXTINF:"+e[n].duration+","+e[n].title+"\r\n"),t+=e[n].url+"\r\n";return t},getPlaylistHtml:function(e,t){if(e&&0!=e.length){var n=e.length,i=A.dateToObj(),a=i.year+"-"+i.month+"-"+i.day+" "+i.hour+"-"+i.min,r=A.playlist.getM3U(e);r=r.replace(/\r\n/g,"\n");var l=Object(s.a)(r,"audio/x-mpegurl"),u=A.playlist.getInfoPopupTemplate();return o.a.sendMessage({action:"getWarningIcon",color:"#00CCFF",type:"playlist"},function(e){u.icon.style.backgroundImage="url("+e+")"}),g.a.create(u.textContainer,{append:[g.a.create("p",{text:t||o.a.i18n.getMessage("playlistTitle"),style:{color:"#0D0D0D",fontSize:"20px",marginBottom:"11px",marginTop:"13px"}}),g.a.create("p",{text:o.a.i18n.getMessage("playlistInstruction"),style:{color:"#868686",fontSize:"14px",marginBottom:"13px",lineHeight:"24px",marginTop:"0px"}}),g.a.create("a",{text:o.a.i18n.getMessage("filelist")+" ("+n+")",href:"#",class:"sf__playlist",style:{display:"none",fontSize:"14px",marginBottom:"13px",lineHeight:"24px",marginTop:"0px"}})]}),t||(t="playlist"),t+=" "+a,g.a.create(u.buttonContainer,{append:[g.a.create("a",{text:o.a.i18n.getMessage("download"),href:l,download:b.a.modify(t+".m3u"),class:"sf-button",style:{width:"118px",backgroundColor:"#ffffff",border:"1px solid #9e9e9e",margin:"12px",marginBottom:"11px",marginRight:"8px",borderRadius:"5px",fontSize:"14px",cursor:"pointer"}})]}),u.body}},popupPlaylist:function(e,t,n,o){var i=A.playlist.getPlaylistHtml(e,t);if(i){var a=A.popupDiv(i,o);if(n){var r=a.querySelector("a.sf__playlist");r&&(r.addEventListener("click",function(n){return setTimeout(function(){A.playlist.popupFilelist(e,t,!0,o)},100),n.preventDefault(),!1},!1),r.style.display="inline",r=null)}for(var s,l=a.querySelectorAll("a[download]"),u=0;s=l[u];u++)s.addEventListener("click",A.downloadOnClick,!1)}}},popupCloseBtn:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAWUlEQVQ4y2NgGHHAH4j1sYjrQ+WIAvFA/B+I36MZpg8V+w9VQ9Al/5EwzDBkQ2AYr8uwaXiPQ0yfkKuwGUayIYQMI8kQqhlEFa9RLbCpFv1US5BUzSLDBAAARN9OlWGGF8kAAAAASUVORK5CYII=",popupDiv:function(e,t,n,o,i){t||(t="savefrom_popup_box"),n||(n=580),o||(o=520);var a=document.getElementById(t);a&&a.parentNode.removeChild(a),a=g.a.create("div",{id:t,style:{zIndex:"9999",display:"block",cssFloat:"none",position:"fixed",margin:"0",padding:"0",visibility:"hidden",color:"#000",background:"#fff",border:"3px solid #c0cad5",borderRadius:"7px",overflow:"auto"}});var r=g.a.create("div",{style:{display:"block",cssFloat:"none",position:"relative",overflow:"auto",margin:"0",padding:"10px 15px"}});"function"==typeof e?e(r):r.appendChild(e);var s=g.a.create("img",{src:A.popupCloseBtn,alt:"x",width:18,height:18,style:{position:"absolute",top:"10px",right:"15px",opacity:"0.5",cursor:"pointer"},on:[["mouseenter",function(){this.style.opacity="0.9"}],["mouseleave",function(){this.style.opacity="0.5"}],["click",function(){return a.parentNode&&a.parentNode.removeChild(a),i&&i(),!1}]]});r.appendChild(s),a.appendChild(r),document.body.appendChild(a),a.offsetWidth>n&&(a.style.width=n+"px"),a.offsetHeight>o&&(a.style.height=o+"px",a.style.width=n+20+"px"),setTimeout(function(){var e=Math.floor((window.innerWidth-a.offsetWidth)/2),t=Math.floor((window.innerHeight-a.offsetHeight)/2);t<0&&(t=0),-1!==location.host.indexOf("youtu")&&t<92&&(t=92,a.style.height=a.offsetHeight-t-10+"px"),e<0&&(e=0),A.setStyle(a,{top:t+"px",left:e+"px",visibility:"visible"})});var l=function e(t){var n=t.target;n===a||A.isParent(n,a)||(a.parentNode&&a.parentNode.removeChild(a),document.removeEventListener("click",e,!1),i&&i())};return setTimeout(function(){document.addEventListener("click",l,!1)},100),a.addEventListener("close",function(){a.parentNode&&a.parentNode.removeChild(a),document.removeEventListener("click",l,!1),i&&i()}),a.addEventListener("kill",function(){a.parentNode&&a.parentNode.removeChild(a),document.removeEventListener("click",l,!1)}),a},popupDiv2:function(e){var t={id:"savefrom_popup_box",containerStyle:null,bodyStyle:null,content:null,container:null,body:null,_onClose:function(){document.removeEventListener("click",t._onClose),n.parentNode&&n.parentNode.removeChild(n),t.onClose&&t.onClose()}};(0,c.default)(t,e);var n=t.container=g.a.create("div",{id:t.id,style:{zIndex:9999,display:"block",position:"fixed",background:"#fff",border:"3px solid #c0cad5",borderRadius:"7px"},append:[g.a.create("style",{text:Object(i.a)({selector:"#"+t.id,style:p})})],on:[["click",function(e){e.stopPropagation()}]]}),o=g.a.create("img",{src:A.popupCloseBtn,alt:"x",width:18,height:18,style:{position:"absolute",top:"10px",right:"15px",opacity:"0.5",cursor:"pointer"},on:[["mouseenter",function(){this.style.opacity="0.9"}],["mouseleave",function(){this.style.opacity="0.5"}],["click",t._onClose]]});n.appendChild(o);var a=t.body=g.a.create("div",{style:function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++){var o=arguments[t];for(var i in o)void 0!==o[i]&&(delete e[i],e[i]=o[i])}return e}({display:"block",position:"relative",padding:"10px 15px",overflow:"auto"},t.bodyStyle)});return"function"==typeof t.content?t.content(a):a.appendChild(t.content),n.appendChild(a),document.body.appendChild(n),document.addEventListener("click",t._onClose),t},showTooltip:function(e,t,n,o){if(e){var i=document.querySelector(".savefrom-tooltip");i||((i=document.createElement("div")).className="savefrom-tooltip",A.setStyle(i,{position:"absolute",opacity:0,zIndex:-1}),o&&A.setStyle(i,o)),i.textContent=t,i.lastNode&&i.lastNode===e?a():(i.lastNode&&(l.a.off(i.lastNode,"mouseleave",r),l.a.off(i.lastNode,"mousemove",a),i.lastRow&&l.a.off(i.lastRow,"mouseleave",r)),i.lastNode=e,n&&(i.lastRow=n),l.a.on(e,"mouseleave",r),l.a.on(e,"mousemove",a,!1),n&&l.a.on(n,"mouseleave",r),document.body.appendChild(i),a())}function a(t){void 0!==t&&t.stopPropagation();var n=A.getPosition(e),o=A.getSize(i);0==n.top&&0==n.left||(n.top=n.top-o.height-10,n.left=n.left-o.width/2+A.getSize(e).width/2,n.left=Math.min(n.left,document.body.clientWidth+document.body.scrollLeft-o.width),n.top<document.body.scrollTop&&(n.top=n.top+o.height+A.getSize(e).height+20),n.top+="px",n.left+="px",n.zIndex=9999,n.opacity=1,A.setStyle(i,n))}function r(){i.parentNode&&document.body.removeChild(i),i.lastNode=null,i.lastRow=null,A.setStyle(i,{zIndex:-1,opacity:0}),l.a.off(e,"mouseleave",r),l.a.off(e,"mousemove",a),n&&l.a.off(n,"mouseleave",r)}},embedDownloader:{dataAttr:"data-savefrom-get-links",dataIdAttr:"data-savefrom-container-id",containerClass:"savefrom-links-container",linkClass:"savefrom-link",panel:null,lastLink:null,style:null,hostings:{youtube:{re:[/^https?:\/\/(?:[a-z]+\.)?youtube\.com\/(?:#!?\/)?watch\?.*v=([\w\-]+)/i,/^https?:\/\/(?:[a-z0-9]+\.)?youtube\.com\/(?:embed|v)\/([\w\-]+)/i,/^https?:\/\/(?:[a-z]+\.)?youtu\.be\/([\w\-]+)/i],action:"getYoutubeLinks",prepareLinks:function(e){var t=[],n=A.video.yt.format,o=e.meta||{};for(var i in n)for(var a in n[i]){var r=o[a]||{};if(e[a]){var s=i;n[i][a].ext&&(s=n[i][a].ext);var l=n[i][a].quality;r.quality&&(l=r.quality),n[i][a].sFps&&(l+=" "+(r.fps||60)),n[i][a]["3d"]&&(l+=" (3d)"),t.push({name:i+" "+l,type:s,url:e[a],noSound:n[i][a].noAudio})}}return t}},vimeo:{re:[/^https?:\/\/(?:[\w\-]+\.)?vimeo\.com\/(?:\w+\#)?(\d+)/i,/^https?:\/\/player\.vimeo\.com\/video\/(\d+)/i,/^https?:\/\/(?:[\w\-]+\.)?vimeo\.com\/channels\/(?:[^\/]+)\/(\d+)$/i,/^https?:\/\/vimeo\.com\/(?:.+)clip_id=(\d+)/i],action:"getVimeoLinks",prepareLinks:function(e){return e.map(function(e){var t=e.ext;return t||(t="MP4",-1!=e.url.search(/\.flv($|\?)/i)&&(t="FLV")),e.name=e.name?e.name:t,e.type=e.type?e.type:t,e.ext=t,e})}},vk:{re:[/^https?:\/\/(?:[\w\-]+\.)?(?:vk\.com|vkontakte\.ru)\/(?:[^\/]+\/)*(?:[\w\-\.]+\?.*z=)?(video-?\d+_-?\d+\?list=[0-9a-z]+|video-?\d+_-?\d+)/i,/^https?:\/\/(?:[\w\-]+\.)?(?:vk\.com|vkontakte\.ru)\/video_ext\.php\?(.+)/i],action:"getVKLinks"},dailymotion:{re:[/^http:\/\/(?:www\.)?dai\.ly\/([a-z0-9]+)_?/i,/^https?:\/\/(?:[\w]+\.)?dailymotion\.com(?:\/embed|\/swf)?\/video\/([a-z0-9]+)_?/i],action:"getDailymotionLinks"},facebook:{re:[/^https?:\/\/(?:[\w]+\.)?facebook\.com(?:\/video)?\/video.php.*[?&]{1}v=([0-9]+).*/i,/^https?:\/\/(?:[\w]+\.)?facebook\.com\/.+\/videos(?:\/\w[^\/]+)?\/(\d+)/i],action:"getFacebookLinks"}},init:function(e){this.style=e,this.panel&&A.popupMenu.removePanel(),this.panel=null,this.lastLink=null;var t,n=document.querySelectorAll("a["+this.dataAttr+"]"),o=n.length;for(t=0;t<o;t++)["savefrom.net","sf-addon.com"].indexOf(A.getTopLevelDomain(n[t].hostname))>-1&&(n[t].removeEventListener("click",this.onClick,!1),n[t].addEventListener("click",this.onClick,!1));document.body&&(document.body.removeEventListener("click",this.onBodyClick,!0),document.body.addEventListener("click",this.onBodyClick,!0))},checkUrl:function(e){for(var t in this.hostings)for(var n=this.hostings[t],o=0,i=n.re.length;o<i;o++){var a=e.match(n.re[o]);if(a)return{hosting:t,action:n.action,extVideoId:a[1]}}return null},reMapHosting:function(e){return{getYoutubeLinks:"youtube",getVimeoLinks:"vimeo",getDailymotionLinks:"dailymotion",getFacebookLinks:"facebook",getVKLinks:"vk"}[e]},onClick:function(e,t){var n=A.embedDownloader;if(!t){for(t=e.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;if(!t)return}var i=t.getAttribute("data-savefrom-get-links");if(i&&0===e.button&&!e.ctrlKey&&!e.shiftKey){if(n.lastLink===t&&n.panel&&"none"!=n.panel.style.display)return n.lastLink=null,n.panel.style.display="none",e.preventDefault(),void e.stopPropagation();n.lastLink=t;var a=n.checkUrl(i);if(a){e.preventDefault(),e.stopPropagation();var r={action:a.action,extVideoId:a.extVideoId};return n.showLinks(o.a.i18n.getMessage("download")+" ...",null,t),o.a.sendMessage(r,function(e){var i=a.hosting;e.action!=r.action&&(i=n.reMapHosting(e.action)),e.links?n.showLinks(e.links,e.title,t,i,!0):n.showLinks(o.a.i18n.getMessage("noLinksFound"),null,t,void 0,!0)}),!1}}},onBodyClick:function(e){var t=A.embedDownloader,n=e.target;if(!t.panel||"none"==t.panel.style.display){if("A"!==n.tagName&&Object(a.a)(n,"A "+n.tagName))for(;n.parentNode&&"A"!==n.tagName;)n=n.parentNode;if("A"!==n.nodeName)return;return n.hasAttribute(t.dataAttr)&&["savefrom.net","sf-addon.com"].indexOf(A.getTopLevelDomain(n.hostname))>-1?t.onClick(e,n):void 0}t.panel===n||t.panel.contains(n)||(t.lastLink=null,t.panel.style.display="none",e.preventDefault(),e.stopPropagation())},hidePanel:function(){this.panel&&(this.panel.style.display="none")},createMenu:function(e,t,n,i,a){var r=o.a.i18n.getMessage("noLinksFound");"string"==typeof e?r=e:void 0!==A.popupMenu.prepareLinks[i]&&e&&(r=A.popupMenu.prepareLinks[i](e,t));var s={links:r,button:n,popupId:void 0,showFileSize:!0,containerClass:this.containerClass,linkClass:this.linkClass,style:{popup:this.style?this.style.container:void 0,item:this.style?this.style.link:void 0},isUpdate:a};a&&this.panel?A.popupMenu.update(this.panel,s):this.panel=A.popupMenu.create(s)},showLinks:function(e,t,n,i,a){var r,s=n.getAttribute(this.dataIdAttr);if(s&&(r=document.getElementById(s)),r)if(this.panel&&(this.panel.style.display="none"),"string"==typeof e)r.textContent=e;else if(e&&0!=e.length){i&&this.hostings[i]&&this.hostings[i].prepareLinks&&(e=this.hostings[i].prepareLinks(e)),r.textContent="";for(var l=0;l<e.length;l++)if(e[l].url&&e[l].name){(n=document.createElement("a")).href=e[l].url,n.title=o.a.i18n.getMessage("downloadTitle"),n.appendChild(document.createTextNode(e[l].name));var u=document.createElement("span");u.className=this.linkClass,u.appendChild(n),r.appendChild(u),A.appendFileSizeIcon(n),e[l].noSound&&A.appendNoSoundIcon(n),t&&!e[l].noTitle&&e[l].type&&(n.setAttribute("download",b.a.modify(t+"."+e[l].type.toLowerCase())),n.addEventListener("click",A.downloadOnClick,!1))}}else r.textContent=o.a.i18n.getMessage("noLinksFound");else this.createMenu(e,t,n,i,a)}},createUmmyInfo:function(e,t){e=e||{};var n,a,r,s,u,d,f,p,m=(0,c.default)({vid:111,utm_source:"savefrom-helper",utm_medium:"youtube-helper"},e.params);m.utm_campaign||("hd"===e.itemType?m.utm_campaign="youtube-helper-hd":"mp3"===e.itemType&&(m.utm_campaign="youtube-helper-mp3")),n=/^Mac/.test(navigator.platform)&&/^yt-/.test(m.video)?"http://videodownloader.ummy.net/save-from-youtube.html?"+w.stringify({vid:m.vid,video:m.video,utm_source:"savefrom-helper",utm_medium:"youtube-helper",utm_campaign:"ummy",utm_content:"ummy_integration_h"}):"http://videodownloader.ummy.net/?"+w.stringify(m),e.posLeft?(d={border:"8px solid transparent",borderLeft:"10px solid rgb(192, 187, 187)",borderRight:0,top:"8px",right:"11px"},f=(0,c.default)({},d,{right:"12px",borderLeft:"10px solid #fff"}),p={right:"21px"},e.darkTheme&&(a={borderLeftColor:"rgba(255, 255, 255, 0.4)"},r={borderLeftColor:"rgba(28,28,28, 0.6)"})):(d={border:"8px solid transparent",borderRight:"10px solid rgb(192, 187, 187)",borderLeft:0,top:"8px",left:"11px"},f=(0,c.default)({},d,{left:"12px",borderRight:"10px solid #fff"}),p={left:"21px"},e.darkTheme&&(a={borderRightColor:"#fff"},r={borderRightColor:"#000"})),u=e.darkTheme?{a:{color:"#eee"}}:{},s=e.darkTheme?{backgroundColor:"rgba(28,28,28,0.8)",border:"1px solid rgba(255, 255, 255, 0.4)",color:"#fff"}:{backgroundColor:"#fff",border:"1px solid #ccc"};var h=g.a.create(document.createDocumentFragment(),{append:[g.a.create("span",{style:(0,c.default)({display:"inline-block",width:0,position:"absolute"},d,a)}),g.a.create("span",{style:(0,c.default)({display:"inline-block",width:0,position:"absolute",zIndex:1},f,r)})]}),b=null,y=null,k=g.a.create("div",{class:"sf-ummy-info-popup-container",style:{position:"absolute",zIndex:9999},append:[h,y=g.a.create("div",{class:"sf-ummy-info-popup",style:(0,c.default)({position:"relative",backgroundColor:"#fff",border:"1px solid #ccc",padding:"6px 5px",textAlign:"center",maxWidth:"240px",lineHeight:"16px",fontSize:"12px",fontFamily:"arial, sans-serif",cursor:"default"},p,s),append:[Object(v.a)(o.a.i18n.getMessage("ummyMenuInfo").replace("{url}",n)),g.a.create("label",{style:{verticalAlign:"middle",display:"block"},append:[b=g.a.create("input",{type:"checkbox",name:"showUmmyInfo",style:{verticalAlign:"middle"}}),o.a.i18n.getMessage("tooltipHide")]}),g.a.create("style",{text:Object(i.a)({".sf-ummy-info-popup":{append:(0,c.default)({"> p":{margin:"0 0 .8em 0"},"> p.center":{textAlign:"center"},"> p > .green-btn-2.arrow":{color:"#fff",background:"#84bd07",borderRadius:"5px",display:"inline-block",position:"relative",lineHeight:1,padding:"8px 34px 8px 10px",textDecoration:"none",fontSize:"12px"},"> p > .green-btn-2.arrow:hover":{color:"#fff",opacity:.8},"> p > .green-btn-2.arrow:after":{background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAAjklEQVQoke3RsRGCQBCF4YuJsQDoQMpjKMImtAjth9xMEj4DF4c5QDH3n7lk773b3XsJNzTpR9DglrwYcUG9w1iHdoTpgYkBJ5QrxkPcDXNDQm/JHR2KOF3UcvoUgnZL8KFBi2I+Yrk2YsZjsaIsBVQ4i08KxqhVu1OYBLji+E/hzTKFlV13pfAVGynkPAFtrlNTMRczMgAAAABJRU5ErkJggg==) 0 0 no-repeat",content:'""',display:"block",position:"absolute",width:"16px",height:"14px",top:"50%",right:"10px",marginTop:"-7px"},input:{display:"inline-block"}},u)}})})]})],on:[["mouseclick",function(e){e.stopPropagation()}],["mousedown",function(e){e.stopPropagation()}]]});return o.a.sendMessage({action:"getUmmyIcon"},function(e){var t=y.querySelector("img");t&&(t.src=e,t.style.verticalAlign="text-bottom")}),b.checked=!S.preferences.showUmmyInfo,b.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),this.checked?(l.a.trigger(t,"sfRmInfoPopup"),S.preferences.showUmmyInfo=0):(l.a.trigger(t,"sfAddInfoPopup"),S.preferences.showUmmyInfo=1),o.a.sendMessage({action:"updateOption",key:"showUmmyInfo",value:S.preferences.showUmmyInfo})}),e.onCreateUmmyInfo&&e.onCreateUmmyInfo(k),k},bindUmmyInfo:function(e,t){if(((t=t||{}).noUmmy||S.preferences.showUmmyInfo)&&!(t.widthLimit&&document.documentElement.offsetWidth<t.widthLimit)){t.leftOffset=t.leftOffset||21;var n=null,o=null,i=null,a=8,r=null,s=null,u=null,d=function e(){clearTimeout(u),u=setTimeout(function(){if(n&&n.parentNode){if("none"!==n.style.display)return e();n.parentNode.removeChild(n)}},3e4)},c=function(){clearTimeout(o),o=setTimeout(function(){n&&(n.style.display="none")},50)},f=function(){if(t.noUmmy||S.preferences.showUmmyInfo){clearTimeout(o);var u=A.getPosition(e);n?i=u.top-4:(n=t.expUmmyInfo?t.expUmmyInfo(t.createUmmyInfoDetails,e):A.createUmmyInfo(t.createUmmyInfoDetails,e),r=n.firstChild,s=r.nextElementSibling,i=u.top-4,l.a.on(n,"mouseenter",function(){clearTimeout(o)}),l.a.on(n,"mouseleave",c)),n.style.top=i+"px","1"!==n.dataset.hide&&(function(e){var o=A.getPosition(e);if(t.posLeft)n.style.right=document.documentElement.clientWidth-o.left-t.leftOffset+"px";else{var i=A.getSize(e);n.style.left=i.width+o.left-t.leftOffset+"px"}}(e),n.parentNode||(n.style.display="none",(t.container||document.body).appendChild(n)),"block"!==n.style.display&&(n.style.display="block",l.a.trigger(n,"sfShowInfoPopup")),setTimeout(function(){var e=window.innerHeight,t=n.clientHeight,o=window.scrollY;if(t+i>e+o){var l=e-t+o;if(l<0)return;if(i===l)return;n.style.top=l+"px";var u=8-(e-(t+i)+o);a!==u&&(a=u,r.style.top=a+"px",s.style.top=a+"px")}else 8!==a&&(a=8,r.style.top=a+"px",s.style.top=a+"px")}),d())}};l.a.on(e,"mouseenter",f),l.a.on(e,"mouseleave",c),l.a.on(e,"sfRmInfoPopup",function(){l.a.off(e,"mouseenter",f)}),l.a.on(e,"sfAddInfoPopup",function(){l.a.on(e,"mouseenter",f)})}},popupMenu:{popupId:"sf_popupMenu",popup:void 0,popupStyle:void 0,dataArrtVisible:"data-isVisible",extStyleCache:void 0,ummyIcon:null,badgeQualityList:["8K","4K","2160","1440","1080","720","ummy"],createBadge:function(e,t){var n=this;t=t||{};var i={display:"inline-block",lineHeight:"18px",width:"19px",height:"17px",color:"#fff",fontSize:"12px",borderRadius:"2px",verticalAlign:"middle",textAlign:"center",paddingRight:"2px",fontWeight:"bold",marginLeft:"3px"};for(var a in t.containerStyle)i[a]=t.containerStyle[a];var r=g.a.create("div",{style:i});return"1080"===e||"2160"===e||"1440"===e||"720"===e?(r.textContent="HD",r.style.backgroundColor="#505050",r.style.paddingRight="1px"):"8K"===e||"4K"===e?(r.textContent="HD",r.style.paddingRight="1px",r.style.backgroundColor="rgb(247, 180, 6)"):"mp3"===e||"MP3"===e?(r.textContent="MP3",r.style.width="26px",r.style.paddingRight="1px",r.style.backgroundColor="#505050"):"ummy"===e&&(this.ummyIcon?r.style.background="url("+this.ummyIcon+") center center no-repeat":o.a.sendMessage({action:"getUmmyIcon"},function(e){r.style.background="url("+(n.ummyIcon=e)+") center center no-repeat"})),r},getTitleNode:function(e){var t=A.popupMenu,n=g.a.create("span",{style:{cssFloat:"left"}});if("converter"===e.extra){var o=document.createDocumentFragment();-1!==["MP3","8K","4K","1440","1080","720"].indexOf(e.format)?o.appendChild(t.createBadge(e.format,{containerStyle:{marginLeft:0}})):o.appendChild(document.createTextNode(e.format)),g.a.create(n,{append:[o," ",e.quality]}),o=null}else if("ummy"===e.quality)o=document.createDocumentFragment(),null!==e.uQuality&&(-1!==["8K","4K","1440","1080","720"].indexOf(e.uQuality)?o.appendChild(document.createTextNode(e.uQuality)):o.appendChild(t.createBadge(e.uQuality,{containerStyle:{marginLeft:0}}))),g.a.create(n,{append:[o," ","Ummy"]}),o=null;else if(e.itemText)n.textContent=e.itemText;else{var i=e.quality?" "+e.quality:"",a=e.format?e.format:"???",r=e["3d"]?"3D ":"",s="";e.sFps&&(s+=" "+(e.fps||60)),n.textContent=r+a+i+s}return-1!==t.badgeQualityList.indexOf(String(e.quality))&&n.appendChild(t.createBadge(String(e.quality))),n},createPopupItem:function(e,t){var n,i=A.popupMenu;if("-"===(n="string"==typeof e?e:e.href))return{el:g.a.create("div",{style:{display:"block",margin:"1px 0",borderTop:"1px solid rgb(214, 214, 214)"}})};var a=document.createElement("-text-"===n?"div":"a");t.linkClass&&a.classList.add(t.linkClass);var r={display:"block",padding:"0 5px",textDecoration:"none",whiteSpace:"nowrap",overflow:"hidden"};if(e.isHidden&&(a.setAttribute(i.dataArrtVisible,"0"),r.display="none"),A.setStyle(a,r),"-text-"===n)return a.style.lineHeight="22px",{el:a};if(a.href=n,"#"===n)return{el:a};if((o.a.isGM||o.a.isSafari)&&("ummy"===e.quality||e.extra||(a.title=o.a.i18n.getMessage("downloadTitle"))),e.forceDownload){var s="";if(e.title){var u=(e.ext||e.format||"").toLowerCase();u&&(u="."+u),s=e.title+u}a.setAttribute("download",b.a.modify(s)),a.addEventListener("click",function(e){A.downloadOnClick(e,null,{el:this})},!1)}var d=[];e.func&&(Array.isArray(e.func)?d.push.apply(d,e.func):d.push(e.func)),t.onItemClick&&-1===d.indexOf(t.onItemClick)&&d.push(t.onItemClick),d.length&&a.addEventListener("click",function(t){var n=this;d.forEach(function(o){return o.call(n,t,e)})},!1),e.isBlank&&a.setAttribute("target","_blank"),a.appendChild(i.getTitleNode(e));var f=g.a.create("span",{style:{cssFloat:"right",lineHeight:"22px",height:"22px"}}),p={top:"5px",verticalAlign:"top"};for(var m in t.sizeIconStyle)p[m]=t.sizeIconStyle[m];e.noAudio&&A.appendNoSoundIcon(f,p);var h=null;if(e.noSize||(f.addEventListener("click",function e(t){"IMG"===f.firstChild.tagName&&(t.preventDefault(),t.stopPropagation(),l.a.trigger(f.firstChild,"click",{cancelable:!0})),this.removeEventListener("click",e)}),h=A.appendFileSizeIcon(a,p,{marginLeft:0},void 0,!0,f,e)),a.appendChild(f),"ummy"===e.quality){var v=(0,c.default)({},t.bindUmmyInfoDetails),y=v.createUmmyInfoDetails=(0,c.default)({itemType:e.uIsAudio?"mp3":"hd"},v.createUmmyInfoDetails);y.params=(0,c.default)({video:e.videoId,vid:e.vid},y.params),A.bindUmmyInfo(a,v)}return{el:a,sizeIcon:h,prop:e}},sortMenuItems:function(e,t){void 0===t&&(t={});var n=["ummy","Audio Opus","Audio Vorbis","Audio AAC","3GP","WebM","FLV","MP4"],o={Mobile:280,LD:280,SD:360,HD:720,ummy:1};t.strQualityExtend&&(0,c.default)(o,t.strQualityExtend);var i={},a=[],r=[],s=[],l=[],u=[],d=[],f=[],p=[];e.forEach(function(e){var n=e.prop;t.noProp&&(n=e);var c=n.sort||{};if(!n.format)return p.push(e),1;if(n.isOther)p.push(e);else if(n.isSubtitle)l.push(e);else if(n.noVideo)a[n.quality]=parseInt(n.quality),s.push(e);else{var m=c.size||o[n.quality]||-1;if(-1===m&&(m="K"===String(n.quality).substr(-1)?1e3*parseInt(n.quality):parseInt(n.quality)),t.maxSize&&m>t.maxSize)return 1;if(t.minSize&&m<t.minSize)return 1;i[n.quality]=m,n.noAudio?n.sFps?u.push(e):d.push(e):n["3d"]?f.push(e):r.push(e)}});var m=function(e,t){return e.noVideo&&t.noVideo?function(e,t){return a[e.quality]>a[t.quality]?-1:a[e.quality]===a[t.quality]?0:1}(e,t):e.noVideo?1:t.noVideo?-1:n.indexOf(e.format)>n.indexOf(t.format)?-1:n.indexOf(e.format)===n.indexOf(t.format)?0:1},h=function(e,n){var o=e.prop,a=n.prop;t.noProp&&(o=e,a=n);var r=function(e,t){return i[e.quality]>i[t.quality]?-1:i[e.quality]===i[t.quality]?0:1}(o,a);return 0!==r?r:m(o,a)};r.sort(h),f.sort(h),s.sort(h),u.sort(h),d.sort(h);var g=null;return t.typeList?(g=[],-1!==t.typeList.indexOf("video")&&(g=g.concat(r)),-1!==t.typeList.indexOf("3d")&&(g=g.concat(f)),-1!==t.typeList.indexOf("audio")&&(g=g.concat(s)),-1!==t.typeList.indexOf("mute")&&(g=g.concat(d)),-1!==t.typeList.indexOf("mute60")&&(g=g.concat(u)),-1!==t.typeList.indexOf("subtitles")&&(g=g.concat(l)),-1!==t.typeList.indexOf("other")&&(g=g.concat(p))):g=r.concat(f,s,l,u,d,p),t.groupCompare&&g.sort(h),g},removePanel:function(){null!==this.popup.parentNode&&this.popup.parentNode.removeChild(this.popup),void 0!==this.popupStyle&&null!==this.popupStyle.parentNode&&this.popupStyle.parentNode.removeChild(this.popupStyle),this.popup=void 0,this.popupStyle=void 0},getHiddenList:function(e,t){var n=this,i=document.createDocumentFragment();if(e.length<8)g.a.create(i,{append:e});else{var a=g.a.create("div",{style:{maxHeight:"192px",overflowY:"scroll",display:"none"},on:[["wheel",function(e){e.wheelDeltaY>0&&0===this.scrollTop?e.preventDefault():e.wheelDeltaY<0&&this.scrollHeight-(this.offsetHeight+this.scrollTop)<=0&&e.preventDefault()}],function(){var e=!1;return["scroll",function(){if(0!==this.scrollTop){if(e)return;e=!0,this.style.boxShadow="rgba(0, 0, 0, 0.40) -2px 1px 2px 0px inset"}else{if(!e)return;e=!1,this.style.boxShadow=""}}]}()],append:e});a.setAttribute(n.dataArrtVisible,"0"),i.appendChild(a)}var r=n.createPopupItem("-",t).el;i.appendChild(r);var s=n.createPopupItem("#",t).el;return g.a.create(s,{text:o.a.i18n.getMessage("more")+" "+String.fromCharCode(187),data:{visible:"0"},on:["click",function(e){e.preventDefault();var t,i=this.dataset.visible;i>0?(i--,t=187):(i++,t=171),this.textContent=o.a.i18n.getMessage("more")+" "+String.fromCharCode(t),this.dataset.visible=i;for(var a,r=this.parentNode.querySelectorAll("*["+n.dataArrtVisible+"]"),s=0;a=r[s];s++)a.style.display=1===i?"block":"none",a.setAttribute(n.dataArrtVisible,i)}]}),i.appendChild(s),0===t.visibleCount&&l.a.trigger(s,"click",{cancelable:!0}),i},getContent:function(e){var t=this,n=e.links,i=document.createDocumentFragment(),a=[];if("string"==typeof n){var r=t.createPopupItem("-text-",e).el;r.textContent=n,i.appendChild(r)}else if(0===n.length){var s=t.createPopupItem("-text-",e).el;s.textContent=o.a.i18n.getMessage("noLinksFound"),i.appendChild(s)}else{var l=[];n.forEach(function(n){l.push(t.createPopupItem(n,e))});var u=[];(l=t.sortMenuItems(l,e.sortDetails)).forEach(function(t){if(t.prop.isHidden)return u.push(t.el),1;i.appendChild(t.el),e.showFileSize&&t.sizeIcon&&a.push(t.sizeIcon)}),e.visibleCount=l.length-u.length,u.length>0&&(e.getHiddenListFunc?i.appendChild(e.getHiddenListFunc(u,e)):i.appendChild(t.getHiddenList(u,e)))}return{sizeIconList:a,content:i}},create:function(e){var t=e.button,n=A.popupMenu;if(e.linkClass=e.linkClass||"sf-menu-item",e.offsetRight=e.offsetRight||0,e.offsetTop=e.offsetTop||0,e.parent=e.parent||document.body,!e.isUpdate||void 0!==n.popup&&"none"!==n.popup.style.display){n.popup&&n.removePanel();var o=n.popup=document.createElement("div"),a="#"+n.popupId;e.popupId?(a="#"+e.popupId,o.id=e.popupId):e.containerClass?(a="."+e.containerClass,o.classList.add(e.containerClass)):o.id=n.popupId;var r={display:"block",position:"absolute",minHeight:"24px",cursor:"default",textAlign:"left",whiteSpace:"nowrap",fontFamily:"arial, sans-serif"};e.extStyle&&delete r.display;var s=A.getPosition(t,e.parent),u=A.getSize(t);r.top=s.top+e.offsetTop+u.height+"px",r.left=s.left+e.offsetRight+"px",A.setStyle(o,r);var d={"background-color":"#fff","z-index":"9999","box-shadow":"0 2px 10px 0 rgba(0,0,0,0.2)",border:"1px solid #ccc","border-radius":"3px","font-size":"12px","font-weight":"bold","min-width":"190px"};if(e.style&&e.style.popup)for(var c in e.style.popup){var f=e.style.popup[c];d[c]=f}A.addStyleRules(a,d);var p={"line-height":"24px",color:"#3D3D3D"};if(e.style&&e.style.item)for(var c in e.style.item)f=e.style.item[c],p[c]=f;A.addStyleRules(a+" ."+e.linkClass,p);var m=function(e){e.stopPropagation()};for(g.a.create(o,{on:[["click",m],["mouseover",m],["mouseup",m],["mousedown",m],["mouseout",m]]});null!==o.firstChild;)o.removeChild(o.firstChild);var h=n.getContent.call(n,e),v=h.sizeIconList;h=h.content,o.appendChild(h);var b="#2F8AFF",y="#fff";e.style&&e.style.hover&&(b=e.style.hover.backgroundColor||b,y=e.style.hover.color||y);var k=n.popupStyle=document.createElement("style");if(k.textContent=Object(i.a)({selector:a,append:{"a:hover":{backgroundColor:b,color:y},"> a:first-child":{borderTopLeftRadius:"3px",borderTopRightRadius:"3px"},"> a:last-child":{borderBottomLeftRadius:"3px",borderBottomRightRadius:"3px"}}}),e.parent.appendChild(k),e.parent.appendChild(o),e.extStyle){void 0!==A.popupMenu.extStyleCache&&null!==A.popupMenu.extStyleCache.parentNode&&A.popupMenu.extStyleCache.parentNode.removeChild(A.popupMenu.extStyleCache);var w="sf-extElStyle_"+a.substr(1),x="sf-extBodyStyle_"+a.substr(1);null===document.querySelector("style."+x)&&document.body.appendChild(g.a.create("style",{class:x,text:Object(i.a)({selector:a,style:{display:"none"}})})),A.popupMenu.extStyleCache=e.extStyle.appendChild(g.a.create("style",{class:w,text:Object(i.a)({selector:"body "+a,style:{display:"block"}})}))}return setTimeout(function(){v.forEach(function(e){l.a.trigger(e,"click",{bubbles:!1,cancelable:!0})})}),o}},update:function(e,t){for(var n=A.popupMenu;null!==e.firstChild;)e.removeChild(e.firstChild);var o=n.getContent.call(n,t),i=o.sizeIconList;o=o.content,e.appendChild(o),setTimeout(function(){i.forEach(function(e){l.a.trigger(e,"click",{bubbles:!1,cancelable:!0})})})},preprocessItem:{srt2url:function(e,t){var n=e.srt,o=Object(s.a)(n,"text/plain");t.ext="srt",t.format="SRT",t.href=o,t.noSize=!0}},prepareLinks:{youtube:function(e,t,n,i){i=i||{},n=n||[],e=(0,c.default)({},e);var a=A.video.yt;a.init();var r=[],s=null,l=e.meta||{};return(0,u.default)(a.format).forEach(function(n){var o=a.format[n];return(0,u.default)(o).forEach(function(i){var u=e[i];if(u){var d=!1;a.showFormat[n]||(d=!0);var f=o[i];f["3d"]&&!a.show3D&&(d=!0),f.noAudio&&!a.showMP4NoAudio&&(d=!0),s={href:u,isHidden:d,title:t,format:n,itag:i,forceDownload:!0},(0,c.default)(s,f);var p=l[i];p&&(p.quality&&(s.quality=p.quality),p.fps&&(s.fps=p.fps)),r.push(s),delete e[i]}})}),(e.ummy||e.ummyAudio)&&function(){var t=null,n=-1,o=A.popupMenu.badgeQualityList;r.forEach(function(e){var t=o.indexOf(e.quality);-1!==t&&(-1===n||t<n)&&(n=t)}),-1!==n&&(t=o[n]);var a=l.videoId;a&&["ummy","ummyAudio"].forEach(function(n){var o=e[n];o&&(s={href:o,quality:"ummy",noSize:!0,format:"ummy",videoId:"yt-"+a},"ummy"===n?(s.itag="ummy",s.uQuality=t):"ummyAudio"===n&&(s.itag="ummyAudio",s.uQuality="mp3",s.uIsAudio=!0),i.ummyVid&&(s.vid=i.ummyVid),r.push(s),delete e[n])})}(),(0,u.default)(e).forEach(function(n){"meta"!==n&&(s={href:e[n],isHidden:!0,title:t,quality:n,itag:n,forceDownload:!0},r.push(s),delete e[n])}),n.forEach(function(e){s={href:e.url,isHidden:!0,quality:"SRT"+(e.isAuto?"A":""),itemText:o.a.i18n.getMessage("subtitles")+" ("+e.lang+")",title:t+"-"+e.langCode,ext:"vtt",format:"VTT",isSubtitle:!0,langCode:e.langCode,forceDownload:!0},"srt2url"===e.preprocess&&A.popupMenu.preprocessItem.srt2url(e,s),r.push(s)}),l.extra&&l.extra.forEach(function(e){s={href:"#"+e.extra,noSize:!0,isHidden:!1},(0,c.default)(s,e),e.itag&&(0,u.default)(a.format).some(function(t){var n=a.format[t][e.itag];if(n)return(0,c.default)(s,n),!0}),e.request&&(s.func=function(t){return t.preventDefault(),o.a.sendMessage(e.request)}),s.noAudio=!1,r.push(s)}),r},vimeo:function(e,t){var n,o=[];return e.forEach(function(e){var i=e.ext;i||(i="mp4",-1!=e.url.search(/\.flv($|\?)/i)&&(i="flv"));var a=e.height||"",r=e.type;n={href:e.url,title:t,ext:i,format:r,quality:a,forceDownload:!0},o.push(n)}),o},vk:function(e,t){var n,o=[];return e.forEach(function(e){var i=e.name||e.ext;i&&(i=i.toLowerCase());var a=i&&i.toUpperCase()||"",r=e.subname||"";n={href:e.url,title:t,ext:i,format:a,quality:r,forceDownload:!0},o.push(n)}),o},dailymotion:function(e,t){var n=[];return e.forEach(function(e){var o=null;"ummy"===e.extra?(o={href:e.url,quality:"ummy",noSize:!0,format:"ummy",videoId:e.videoId,sort:{size:480}},"ummyAudio"===e.type&&(o.uQuality="mp3",o.uIsAudio=!0)):o={href:e.url,title:t,ext:e.ext,format:e.ext,quality:e.height||"",forceDownload:!0},n.push(o)}),n},facebook:function(e,t){var n,o=[];return e.forEach(function(e){var i=e.ext,a=i?i.toUpperCase():"",r=e.name;n={href:e.url,title:t,ext:i,format:a,quality:r,forceDownload:!0},o.push(n)}),o},rutube:function(e){if(Array.isArray(e)&&(e=e[0]),"string"==typeof e){var t=[],n=e.match(/\/embed\/(\d+)/);(n=n&&n[1]||void 0)||(n=(n=e.match(/\/video\/([0-9a-z]+)/))&&n[1]||void 0),/\/\/video\./.test(e)&&(e=e.replace(/\/\/video\./,"//"),n||(n=(n=e.match(/\/(\d+)$/))&&n[1]||void 0)),n&&(n="rt-"+n);var o=e.replace(/^.*(\/\/.*)$/,"ummy:$1"),i={href:o,quality:"ummy",noSize:!0,format:"ummy",itag:"ummy",uQuality:"720",vid:114,videoId:n},a="?";-1!==o.indexOf(a)&&(a="&");var r={href:o+=a+"sf_type=audio",quality:"ummy",noSize:!0,format:"ummy",itag:"ummyAudio",uQuality:"mp3",uIsAudio:!0,vid:114,videoId:n};return t.push(i),t.push(r),t}},mailru:function(e,t){var n,o=[];return e.forEach(function(e){var i=e.ext,a=e.name,r=e.subname;n={href:e.url,title:t,ext:i,format:a,quality:r,forceDownload:!0},o.push(n)}),o}},quickInsert:function(e,t,n,o){o=o||{};var i={},a=function t(n){n&&(n.target===e||e.contains(n.target))||i.isShow&&(s.style.display="none",l.a.off(document,"mousedown",t),i.isShow=!1,o.onHide&&o.onHide(s))},r={links:t,button:e,popupId:n,showFileSize:!0};(0,c.default)(r,o);var s=A.popupMenu.create(r);return o.onShow&&o.onShow(s),l.a.off(document,"mousedown",a),l.a.on(document,"mousedown",a),(0,c.default)(i,{button:e,isShow:!0,el:s,hide:a,update:function(e){r.links=e,A.popupMenu.update(s,r)}})}},frameMenu:{getBtn:function(e){var t={verticalAlign:"middle",position:"absolute",zIndex:999,fontFamily:"arial, sans-serif"};for(var n in e.containerStyle)t[n]=e.containerStyle[n];var o=e.quickBtnStyleObj||{display:"inline-block",fontSize:"inherit",height:"22px",border:"1px solid rgba(255, 255, 255, 0.4)",borderRadius:"3px",borderTopRightRadius:0,borderBottomRightRadius:0,paddingRight:0,paddingLeft:"28px",cursor:"pointer",verticalAlign:"middle",position:"relative",lineHeight:"22px",textDecoration:"none",zIndex:1,color:"#fff"};e.singleBtn&&!e.quickBtnStyleObj&&(delete o.borderTopRightRadius,delete o.borderBottomRightRadius);var a={position:"relative",display:"inline-block",fontSize:"inherit",height:"24px",padding:0,paddingRight:"21px",border:"1px solid rgba(255, 255, 255, 0.4)",borderLeft:0,borderRadius:"3px",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",cursor:"pointer",color:"#fff",zIndex:0,verticalAlign:"middle",marginLeft:0,boxSizing:"border-box",lineHeight:"22px"};for(var n in e.selectBtnStyle)a[n]=e.selectBtnStyle[n];var r,s=e.quickBtnIcon||g.a.create("i",{style:{position:"absolute",display:"inline-block",left:"6px",top:"3px",backgroundImage:"url("+A.svg.getSrc("download","#ffffff")+")",backgroundSize:"12px",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"16px",height:"16px"}}),l=e.selectBtnIcon||g.a.create("i",{style:{position:"absolute",display:"inline-block",top:"9px",right:"6px",border:"5px solid #FFF",borderBottomColor:"transparent",borderLeftColor:"transparent",borderRightColor:"transparent"}}),u=g.a.create("div",{id:e.btnId,style:t,on:e.on,append:[r=g.a.create("a",{class:"sf-quick-btn",style:o,href:"#",append:[s]}),g.a.create("style",{text:Object(i.a)({selector:"#"+e.btnId,style:e.nodeCssStyle||{opacity:.8,display:"none"},append:[{"button::-moz-focus-inner":{padding:0,margin:0},".sf-quick-btn":e.quickBtnCssStyle||{backgroundColor:"rgba(28,28,28,0.1)"},".sf-select-btn":{backgroundColor:"rgba(28,28,28,0.1)"}},{selector:[":hover",".sf-over"],join:"",style:{opacity:1},append:{".sf-quick-btn":e.quickBtnOverCssStyle||{backgroundColor:"rgba(0, 163, 80, 0.5)"},".sf-select-btn":{backgroundColor:"rgba(60, 60, 60, 0.5)"}}},{join:"",".sf-over":{append:{".sf-select-btn":{backgroundColor:"rgba(28,28,28,0.8)"}}},".sf-show":{display:"block"}}]})})]}),d=null,c=null;return e.singleBtn||(c=function(e){var t="object"==typeof e?e:document.createTextNode(e),n=d.firstChild;n===l?d.insertBefore(t,n):d.replaceChild(t,n)},d=g.a.create("button",{class:"sf-select-btn",style:a,on:e.onSelectBtn,append:[l]}),u.appendChild(d)),{node:u,setQuality:c,setLoadingState:function(){c(g.a.create("img",{src:A.svg.getSrc("info","#ffffff"),style:{width:"14px",height:"14px",marginLeft:"6px",verticalAlign:"middle",top:"-1px",position:"relative"}}))},selectBtn:d,quickBtn:r}},getHiddenList:function(e,t){var n=A.popupMenu,i=n.createPopupItem("-text-",t).el;g.a.create(i,{text:o.a.i18n.getMessage("more")+" "+String.fromCharCode(187),style:{cursor:"pointer"},on:["click",function(){for(var e,t=this.parentNode.querySelectorAll("*["+n.dataArrtVisible+"]"),o=0;e=t[o];o++)e.style.display="block",e.setAttribute(n.dataArrtVisible,1);this.parentNode.removeChild(this)}]});var a=document.createDocumentFragment();return a.appendChild(i),g.a.create(a,{append:e}),0===t.visibleCount&&l.a.trigger(i,"click",{cancelable:!0}),a},getMenuContainer:function(e){var t=A.popupMenu,n=e.button,o=e.popupId,a=g.a.create("div",{style:{position:"absolute",minHeight:"24px",cursor:"default",textAlign:"left",whiteSpace:"nowrap",overflow:"auto"}});"#"===o[0]?a.id=o.substr(1):a.classList.add(o);var r=t.getContent(e);a.appendChild(r.content),setTimeout(function(){r.sizeIconList.forEach(function(e){l.a.trigger(e,"click",{bubbles:!1,cancelable:!0})})});var s=A.getPosition(n,e.parent),u=A.getSize(n),d=function(e){e.stopPropagation()},c=s.top+u.height,f={top:c+"px",maxHeight:document.body.offsetHeight-c-40+"px"};return e.leftMenuPos?f.left=s.left+"px":f.right=document.body.offsetWidth-s.left-u.width+"px",g.a.create(a,{style:f,on:[["click",d],["mouseover",d],["mouseup",d],["mousedown",d],["mouseout",d],["wheel",function(e){e.wheelDeltaY>0&&0===this.scrollTop?e.preventDefault():e.wheelDeltaY<0&&this.scrollHeight-(this.offsetHeight+this.scrollTop)<=0&&e.preventDefault()}]],append:[g.a.create("style",{text:Object(i.a)({selector:("#"===o[0]?"":".")+o,style:{display:"none",fontFamily:"arial, sans-serif",backgroundColor:"rgba(28,28,28,0.8)",zIndex:9999,borderRadius:"4px",fontSize:"12px",fontWeight:"bold",minWidth:"190px",color:"#fff"},append:[{join:"",".sf-show":{display:"block"},"::-webkit-scrollbar-track":{backgroundColor:"#424242"},"::-webkit-scrollbar":{width:"10px",backgroundColor:"#424242"},"::-webkit-scrollbar-thumb":{backgroundColor:"#8e8e8e"}},{".sf-menu-item":{lineHeight:"24px",color:"#fff"},".sf-menu-item:hover":{backgroundColor:"#1c1c1c"}}]})})]}),a},getMenu:function(e,t,n,o){var i={links:t,button:e,popupId:n||"#sf-frame-menu",showFileSize:!0,sizeIconStyle:{color:"#fff"},linkClass:"sf-menu-item",bindUmmyInfoDetails:{posLeft:!0,widthLimit:480,container:o.container,createUmmyInfoDetails:{posLeft:!0,darkTheme:!0}},getHiddenListFunc:this.getHiddenList.bind(this)};for(var a in o)i[a]=o[a];var r=this.getMenuContainer(i);(i.container||document.body).appendChild(r);var s=function(){r.parentNode&&r.parentNode.removeChild(r),u.isShow=!1,i.onHide&&i.onHide()};i.onShow&&i.onShow(r),l.a.off(document,"mousedown",s),l.a.on(document,"mousedown",s);var u={isShow:!0,el:r,hide:s,update:function(e){var t=A.popupMenu,n=r.lastChild;r.textContent="",i.links=e;var o=t.getContent(i);setTimeout(function(){o.sizeIconList.forEach(function(e){l.a.trigger(e,"click",{bubbles:!1,cancelable:!0})})}),r.appendChild(o.content),r.appendChild(n)}};return u}},mobileLightBox:{id:"sf-lightbox",clear:function(){var e=document.getElementById(A.mobileLightBox.id);null!==e&&e.parentNode.removeChild(e)},getTitle:function(e){var t=[];if(t.push(e.format||"???"),e.quality){var n=e.quality;e.sFps&&(n+=" "+(e.fps||60)),t.push(n)}return e["3d"]&&t.push("3D"),e.noAudio&&t.push(o.a.i18n.getMessage("withoutAudio")),t.join(" ")},createItem:function(e){var t=A.mobileLightBox,n=g.a.create("a",{style:{display:"block",marginBottom:"6px",border:"solid 1px #d3d3d3",lineHeight:"36px",minHeight:"36px",background:"#f8f8f8",verticalAlign:"middle",fontSize:"15px",textAlign:"center",color:"#333",borderRadius:"2px",overflow:"hidden",position:"relative"}}),o="";if(e.title){var i=(e.ext||e.format||"").toLowerCase();i&&(i="."+i),o=b.a.modify(e.title+i)}if("string"==typeof e)return n.textContent=e,n;n.href=e.href,n.download=o,n.textContent=t.getTitle(e),e.forceDownload&&n.addEventListener("click",function(e){A.downloadOnClick(e,null,{el:this})}),e.isHidden&&(n.classList.add("isOptional"),n.style.display="none");var a=A.getFileSizeIcon({cssFloat:"right",lineHeight:"36px",fontSize:"75%",marginRight:"10px"},{padding:"10px",verticalAlign:"middle",lineHeight:0},{width:"16px",height:"16px"},{url:e.href});return n.appendChild(a.node),n},getItems:function(e){var t=A.mobileLightBox;if("string"==typeof e)return{list:[t.createItem(e)],hiddenCount:0};for(var n,o=[],i=0;n=e[i];i++)"ummy"!==n.quality&&(n.extra||o.push({el:t.createItem(n),prop:n}));o=A.popupMenu.sortMenuItems(o);var a=[],r=[];for(i=0;n=o[i];i++)n.prop.isHidden?r.push(n.el):a.push(n.el);return{list:a.concat(r),hiddenCount:r.length}},show:function(e){var t,n=A.mobileLightBox,i=window.pageYOffset,a=window.innerHeight,r=parseInt(a/100*15),s=void 0,l=function(e){return a-46*(e?2:1)-2*r},u=function(e){e.hiddenCount>0?(s.style.height=l(1)+"px",t.style.display="block"):(t.style.display="none",s.style.height=l(0)+"px"),e.hiddenCount===e.list.length&&d(t)},d=function(e){var t="none",n=e.parentNode.querySelectorAll(".isOptional");"open"!==e.dataset.state?(e.dataset.state="open",e.textContent=o.a.i18n.getMessage("more")+" "+String.fromCharCode(171),t="block"):(e.dataset.state="close",e.textContent=o.a.i18n.getMessage("more")+" "+String.fromCharCode(187));for(var i,a=0;i=n[a];a++)i.style.display=t},f=document.getElementById(n.id);null!==f&&f.parentNode.removeChild(f);var p=window.innerWidth;p=p<=250?"90%":"70%",e&&0!==e.length||(e=o.a.i18n.getMessage("noLinksFound"));var m=n.getItems(e),h=g.a.create("div",{id:n.id,style:{position:"absolute",top:0,left:0,width:"100%",zIndex:9e3,height:document.body.scrollHeight+"px",background:"rgba(0,0,0,0.85)",textAlign:"center",boxSizing:"content-box"},on:[["click",function(e){e.preventDefault(),y()}]],append:g.a.create("div",{style:{display:"inline-block",width:p,backgroundColor:"#eee",height:a-2*r+"px",marginTop:r+i+"px",borderRadius:"4px",padding:"8px",position:"relative",boxSizing:"content-box"},append:[s=g.a.create("div",{style:{overflowY:"auto",marginBottom:"6px"},append:m.list,on:["touchmove",function(e){e.stopPropagation()}]}),t=g.a.create(n.createItem(o.a.i18n.getMessage("more")+" "+String.fromCharCode(187)),{href:"#",on:["click",function(e){e.preventDefault(),d(this)}]}),g.a.create(n.createItem(o.a.i18n.getMessage("close")),{style:{marginBottom:0},on:["click",function(e){e.preventDefault(),y()}]})],on:["click",function(e){e.stopPropagation()}]})});u(m),document.body.appendChild(h);var v=document.body.scrollTop,b={},y=function(){b.isShow&&(document.body.scrollTop=v,b.hide())};return(0,c.default)(b,{isShow:!0,el:h,hide:function(){h.parentNode&&h.parentNode.removeChild(h),b.isShow=!1},close:y,update:function(e){if(null!==h.parentNode){e&&0!==e.length||(e=o.a.i18n.getMessage("noLinksFound")),s.textContent="";var t=n.getItems(e);g.a.create(s,{append:t.list}),u(t)}}})}},bridge:function(e){e.args=e.args||[],void 0===e.timeout&&(e.timeout=300);var t="sf-bridge-"+parseInt(1e3*Math.random())+"-"+Date.now();window.addEventListener("sf-bridge-"+t,function n(o){var i;window.removeEventListener("sf-bridge-"+t,n),i=o.detail?JSON.parse(o.detail):void 0,e.cb(i)});var n='(function(a,b,c,d){/* fix */var e=document.getElementById(c);e&&e.parentNode.removeChild(e);var f=!1,g=function(a){if(!f){f=!0;var b=new CustomEvent("sf-bridge-"+c,{detail:JSON.stringify(a)});window.dispatchEvent(b)}};d&&setTimeout(function(){g()},d),b.push(g),a.apply(null,b)})('+[e.func.toString(),(0,d.default)(e.args),(0,d.default)(t),parseInt(e.timeout)].join(",")+");";o.a.isSafari&&(n=n.replace("/* fix */","("+function(){"undefined"==typeof CustomEvent&&(CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},CustomEvent.prototype=window.Event.prototype)}.toString()+")();"));var i=g.a.create("script",{id:t,text:n});document.body.appendChild(i)},TutorialTooltip:function(e){var t=this;this.details={btnTopOffset:-3,btnLeftOffset:0},(0,c.default)(this.details,e),this.onResize=this.onResize.bind(this),this.onResizeDebouce=function(e,t){var n=null;return function(){var o=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(o,i)},t)}}(this.onResize,250),this.onClose=this.onClose.bind(this),this.target=e.target,"1"!==this.target.dataset.sfHasTooltip&&(this.target.dataset.sfHasTooltip="1",this.tooltipNode=this.getNode(),this.target.addEventListener("mouseup",this.onClose),this.target.addEventListener(l.a.onRemoveEventName,function(){t.onClose&&t.onClose(1)}),window.addEventListener("resize",this.onResizeDebouce),this.onResize(),(e.parent||document.body).appendChild(this.tooltipNode))}};A.TutorialTooltip.prototype.getNode=function(){var e=this,t=function(){var e=1e3,t=document.getElementById("masthead-positioner"),n=t&&window.getComputedStyle(t,null);return n&&(e=parseInt(n.getPropertyValue("z-index"))+1),e}();return g.a.create("div",{class:"sf-tooltip",on:["mouseup",function(e){e.stopPropagation()}],append:[g.a.create("span",{style:{display:"inline-block",border:"8px solid transparent",borderRight:"10px solid #4D4D4D",borderLeft:0,width:0,top:"8px",left:"0px",position:"absolute"}}),g.a.create("span",{style:{display:"inline-block",backgroundColor:"#4D4D4D",marginLeft:"10px",padding:"10px 10px",maxWidth:"220px",minWidth:"220px",lineHeight:"16px",fontSize:"14px",fontFamily:"font-family: arial, sans-serif",color:"#fff"},append:[g.a.create("p",{style:{margin:0},append:Object(v.a)(o.a.i18n.getMessage("tutorialTooltipText"))}),g.a.create("a",{class:"sf-button",text:"OK",style:{display:"inline-block",textAlign:"center",textDecoration:"none",padding:"0 10px",cssFloat:"right",marginTop:"5px",lineHeight:"20px",borderRadius:"3px",fontSize:"12px",color:"#fff",fontWeight:"bolder",backgroundColor:"#167AC6",cursor:"pointer"},on:["click",function(t){t.preventDefault(),e.onClose&&e.onClose()}]}),g.a.create("style",{text:Object(i.a)({".sf-tooltip":{position:"absolute",zIndex:t+2,append:{".sf-button:hover":{backgroundColor:"#126db3 !important"},".sf-button:active":{opacity:.9}}}})})]})]})},A.TutorialTooltip.prototype.onClose=function(e){e&&"mouseup"===e.type&&(e=null),this.tooltipNode&&(this.tooltipNode.parentNode&&this.tooltipNode.parentNode.removeChild(this.tooltipNode),this.tooltipNode=null),window.removeEventListener("resize",this.onResizeDebouce),this.target.removeEventListener("mouseup",this.onClose),this.onClose=null,e||this.details.onClose&&this.details.onClose()},A.TutorialTooltip.prototype.onResize=function(){var e=this.target;if(!e.offsetParent||!e.parentNode)return this.onClose&&this.onClose(1);var t=A.getPosition(e,this.details.parent),n=t.top+this.details.btnTopOffset,o=t.left+t.width+this.details.btnLeftOffset;this.tooltipNode.style.top=n+"px",this.tooltipNode.style.left=o+"px"},A.mutationWatcher={getMutationObserver:function(){return"undefined"!=typeof MutationObserver?MutationObserver:"undefined"!=typeof WebKitMutationObserver?WebKitMutationObserver:"undefined"!=typeof MozMutationObserver?MozMutationObserver:n(28).default},isAvailable:function(){return!!this.getMutationObserver()},disconnect:function(e){e.observer.disconnect()},connect:function(e){e.observer.observe(e.target,e.config)},joinMutations:function(e){for(var t,n,o,i,a,r,s=[],l=[],u={};o=e.shift();){for(-1===(r=l.indexOf(o.target))&&(u[r=l.push(o.target)-1]={target:o.target,added:[],removed:[]}),t=u[r],n=void 0,i=0;a=o.addedNodes[i];i++)1===a.nodeType&&(t.added.push(a),n=!0);for(i=0;a=o.removedNodes[i];i++)1===a.nodeType&&(t.removed.push(a),n=!0);void 0!==n&&void 0===t.inList&&(t.inList=!0,s.push(t))}return s},isMatched:null,prepareMatched:function(){if(!this.isMatched){var e=document.createElement("div");"function"==typeof e.matches?this.isMatched=function(e,t){return e.matches(t)}:"function"==typeof e.matchesSelector?this.isMatched=function(e,t){return e.matchesSelector(t)}:"function"==typeof e.webkitMatchesSelector?this.isMatched=function(e,t){return e.webkitMatchesSelector(t)}:"function"==typeof e.mozMatchesSelector?this.isMatched=function(e,t){return e.mozMatchesSelector(t)}:"function"==typeof e.oMatchesSelector?this.isMatched=function(e,t){return e.oMatchesSelector(t)}:"function"==typeof e.msMatchesSelector&&(this.isMatched=function(e,t){return e.msMatchesSelector(t)}),e=null}},match:function(e,t,n){var o,i,a,r,s=this,l=e.queries,u=!1;return["added","removed"].forEach(function(e){var d=n[e];for(r=0;o=d[r];r++)for(i=0;a=l[i];i++)if(void 0===a.is||a.is===e){var c=t[i][e];!0===s.isMatched(o,a.css)?c.push(o):c.push.apply(c,o.querySelectorAll(a.css)),!1===u&&(u=void 0!==c[0])}}),u},filterTarget:function(e,t){var n,o;for(n=0;o=e[n];n++)if(!0===this.isMatched(t,o.css))return!0;return!1},run:function(e){var t=this,n={config:{childList:!0,subtree:!0},target:document.body,filterTarget:[]};(0,c.default)(n,e),n._disconnect=this.disconnect.bind(this,n),n._connect=this.connect.bind(this,n),n._match=this.match.bind(this,n);for(var o=[],i=0;i<n.queries.length;i++)o.push({added:[],removed:[]});o=(0,d.default)(o),this.prepareMatched();var a=this.getMutationObserver();return n.observer=new a(function(e){var i=t.joinMutations(e);if(0!==i.length){for(var a,r=!1,s=JSON.parse(o);a=i.shift();)!1===t.filterTarget(n.filterTarget,a.target)&&!0===n._match(s,a)&&(r=!0);!0===r&&n.callback(s)}}),n.trigger=function(e){var t=!1,i=JSON.parse(o),a={added:[e],removed:[]};n._match(i,a)&&(t=!0),!0===t&&n.callback(i)},n.start=function(){n._disconnect(),n._connect(),n.trigger(n.target)},n.stop=function(){n._disconnect()},n.start(),n}},A.mutationAttrWatcher={isAvailable:function(){return!!A.mutationWatcher.getMutationObserver()},disconnect:function(e){e.observer.disconnect()},connect:function(e){e.observer.observe(e.target,e.config)},run:function(e){var t={config:{attributes:!0,childList:!1,attributeOldValue:!0},target:document.body};(0,c.default)(t,e),Array.isArray(t.attr)||(t.attr=[t.attr]),t.config.attributeFilter=t.attr,t._disconnect=this.disconnect.bind(this,t),t._connect=this.connect.bind(this,t);for(var n=[],o=0;o<t.attr.length;o++)n.push({});n=(0,d.default)(n);var i=A.mutationWatcher.getMutationObserver();return t.observer=new i(function(e){for(var o,i=!1,a=JSON.parse(n);o=e.shift();){var r=t.attr.indexOf(o.attributeName);if(-1!==r){var s=o.target.getAttribute(o.attributeName);s!==o.oldValue&&(a[r]={value:s,oldValue:o.oldValue},i=!0)}}!0===i&&t.callback(a)}),t.start=function(){t._disconnect(),t._connect();for(var e,o=!1,i=JSON.parse(n),a=0;e=t.attr[a];a++){var r=t.target.getAttribute(e);null!==r&&(i[a]={value:r,oldValue:null},o=!0)}!0===o&&t.callback(i)},t.stop=function(){t._disconnect()},setTimeout(function(){t.start()}),t}},A.waitNodesBySelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1,o=null,i=f.default.resolve().then(function(){var i=t.target||document.body;A.mutationWatcher.prepareMatched();var a=A.mutationWatcher.isMatched,r=A.mutationWatcher.getMutationObserver(),s=null,l=null,u=new f.default(function(e,t){s=e,l=t}),d=null;t.timeout>0&&(d=setTimeout(function(){o&&o()},t.timeout));var c=[],p=new r(function(t){var n=void 0,o=void 0;for(n=0;n<t.length;n++){var i=t[n];for(o=0;o<i.addedNodes.length;o++){var r=i.addedNodes[o];1===r.nodeType&&(a(r,e)?c.push(r):c.push.apply(c,r.querySelectorAll(e)))}}c.length&&s(c)});return p.observe(i,{childList:!0,subtree:!0}),o=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){o=null,l(new Error("ABORTED"))}),c.push.apply(c,i.querySelectorAll(e)),c.length&&s(c),n&&o&&o(),u.then(function(e){return p.disconnect(),clearTimeout(d),e},function(e){throw p.disconnect(),clearTimeout(d),e})});return i.abort=function(){n=!0,o&&o()},i},t.a=function(e){return S=e,A}},function(e,t,n){t.a=function(e,t){Array.isArray(t)||(t=[t]);for(var n=e;n;n=n.parentNode){if(1!==n.nodeType)return null;for(var o,i=0;o=t[i];i++)if(n.classList.contains(o))return n}return null}},function(e,t,n){t.a=function(e,t){var n=null;n=!(t=t||{}).params&&/\?/.test(e)?e.match(/[^?]*\?(.*)/)[1]:e;for(var o=t.sep||"&",i=n.split(o),a={},r=0,s=i.length;r<s;r++){var l=i[r].split("="),u=l[0],d=l[1]||"";if(t.noDecode)a[u]=d;else{try{u=decodeURIComponent(u)}catch(e){u=unescape(u)}try{a[u]=decodeURIComponent(d)}catch(e){a[u]=unescape(d)}}}return a}},function(e,t,n){var o=n(0);t.a=function(e){return new f.default(function(t){o.a.sendMessage(e,t)})}},function(e,t,n){var o=n(0),i=n(10),a=Object(i.a)("webRequest"),r=function(){var e=/^sf-\d+_/,t={urls:["<all_urls>"],types:["xmlhttprequest"]},n=!1,i={},r={},s=function(e){for(var t in e)return!1;return!0},l=function(e){delete r[e.requestId],s(i)&&s(r)&&c()},u=function(t){var n=r[t.requestId],o=t.requestHeaders||[],a=[],l=[],u=[];if(n)l=n.changes,a=n.filtered;else if(!s(i))for(var d,c=void 0,f=void 0,p=0;d=o[p];p++)c=d.name,e.test(c)&&(f=i[c])&&(d.name=f.name,d.value=f.value,l.push(d),a.push(f.name.toLowerCase()),a.push(c.toLowerCase()),/cookie/i.test(d.name)&&u.push("set-cookie"),clearTimeout(f.timer),delete i[c]);if(l.length)return n||(r[t.requestId]={changes:l,filtered:a,filterResponseHeaders:u}),{requestHeaders:o.filter(function(e){return-1===a.indexOf(e.name.toLowerCase())}).concat(l)}},d=function(e){var t=r[e.requestId],n=e.responseHeaders;if(t&&n){var o=t.filterResponseHeaders;return{responseHeaders:n.filter(function(e){return-1===o.indexOf(e.name.toLowerCase())})}}},c=function(){n&&(n=!1,chrome.webRequest.onBeforeSendHeaders.removeListener(u,t,["blocking","requestHeaders"]),chrome.webRequest.onHeadersReceived.removeListener(d,t,["blocking","responseHeaders"]),chrome.webRequest.onResponseStarted.removeListener(l,t),chrome.webRequest.onErrorOccurred.removeListener(l,t),a.debug("webRequest","rm listener"))},f=10,p=!1,m=function(){return o.a.isChrome||o.a.isFirefox},h=null,g=function(e){return(null===h||e)&&(h=!!(m()&&chrome.webRequest&&chrome.webRequest.onBeforeSendHeaders&&chrome.webRequest.onResponseStarted&&chrome.webRequest.onErrorOccurred)),h},v=/^user-agent$|^origin$|^cookie$/i;return{wrapHeaderKey:function(e,o){if(g()){for(var r=void 0,s=100;s-- >0&&(r="sf-"+parseInt(1e5*Math.random())+"_"+e,i[r]););return i[r]={name:e,value:o,timer:setTimeout(function(){delete i[r]},3e3)},n||(n=!0,chrome.webRequest.onBeforeSendHeaders.addListener(u,t,["blocking","requestHeaders"]),chrome.webRequest.onHeadersReceived.addListener(d,t,["blocking","responseHeaders"]),chrome.webRequest.onResponseStarted.addListener(l,t),chrome.webRequest.onErrorOccurred.addListener(l,t),a.debug("webRequest","add listener")),r}return e},isSpecialHeader:function(e){return v.test(e)},isSupported:m,requestPermission:function(e){g()||p?e(h):chrome.permissions&&chrome.permissions.request?chrome.permissions.request({permissions:["webRequest","webRequestBlocking"]},function(t){(t||f--<=0)&&(p=!0),t&&g(!0),e(h)}):(p=!0,e(h))}}}(),s=n(20),l=function(e){var t={};return(e=e.split(/\r?\n/)).forEach(function(e){var n=e.indexOf(":");if(-1!==n){var o=e.substr(0,n).trim().toLowerCase(),i=e.substr(n+1).trim();t[o]=i}}),t};t.a=function(e,t){var n={},i=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,n){i=null,m.timeoutTimer&&clearTimeout(m.timeoutTimer);var o=null;e&&(o=String(e.message||e)||"ERROR"),t&&t(o,a(n),n)}),a=function(e){var t={};t.statusCode=g.status,t.statusText=g.statusText;var n=null,o=g.getAllResponseHeaders();return"string"==typeof o&&(n=l(o)),t.headers=n||{},t.body=e,t};"object"!=typeof e&&(e={url:e});var d=e.url,c=e.method||e.type||"GET";c=c.toUpperCase();var f=e.data;if("string"!=typeof f&&(f=s.stringify(f)),f&&"GET"===c&&(d+=(/\?/.test(d)?"&":"?")+f,f=void 0),!1===e.cache&&-1!==["GET","HEAD"].indexOf(c)&&(d+=(/\?/.test(d)?"&":"?")+"_="+Date.now()),o.a.isFirefox&&!/^https?:\/\//.test(d)){var p=document.createElement("a");p.href=d,d=p.href,p=null}e.headers=e.headers||{},f&&(e.headers["Content-Type"]=e.contentType||e.headers["Content-Type"]||"application/x-www-form-urlencoded; charset=UTF-8");var m={};m.url=d,m.method=c,f&&(m.data=f),e.json&&(m.json=!0),e.xml&&(m.xml=!0),e.timeout&&(m.timeout=e.timeout),e.mimeType&&(m.mimeType=e.mimeType),e.withCredentials&&(m.withCredentials=!0),(0,u.default)(e.headers).length&&(m.headers=e.headers),m.timeout>0&&(m.timeoutTimer=setTimeout(function(){i&&i(new Error("ETIMEDOUT")),g.abort()},m.timeout));var h={0:200,1223:204},g=function(e){return o.a.isGM&&!e?new function(){var e=this,t=null,n=function(t,n){e.readyState=n.readyState,e.status=n.status,e.statusText=n.statusText,"string"==typeof n.response&&(e.responseText=n.response),n.responseText&&(e.responseText=n.responseText),e._responseHeaders=n.responseHeaders,e.onreadystatechange&&e.onreadystatechange(),e[t]&&e[t]()},o={headers:{},responseType:"text",onload:n.bind(null,"onload"),onerror:n.bind(null,"onerror"),onabort:n.bind(null,"onabort"),ontimeout:n.bind(null,"ontimeout")};this._responseHeaders="",this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.response="",this.responseType="",this.responseURL="",this.open=function(e,t){o.method=e,o.url=t},this.overrideMimeType=function(e){o.overrideMimeType=e},this.setRequestHeader=function(e,t){"cookie"===e.toLowerCase()&&""===t&&(o.anonymous=!0),o.headers[e]=t},this.getResponseHeader=function(e){return this._responseHeaders?(e=e.toLowerCase(),this.headers||(this.headers=l(this._responseHeaders)),this.headers.hasOwnProperty(e)?this.headers[e]:null):null},this.getAllResponseHeaders=function(){return this._responseHeaders},this.abort=function(){t&&t.abort()},this.send=function(e){o.data=e,t="function"==typeof GM_xmlhttpRequest?GM_xmlhttpRequest(o):GM.xmlHttpRequest(o)},this.onabort=null,this.onerror=null,this.onload=null,this.onreadystatechange=null,this.ontimeout=null}:new XMLHttpRequest}(e.localXHR);g.open(m.method,m.url,!0),m.mimeType&&g.overrideMimeType(m.mimeType),m.withCredentials&&(g.withCredentials=!0);var v=[];for(var b in m.headers)r.isSpecialHeader(b)&&v.push({key:b,value:m.headers[b]}),g.setRequestHeader(b,m.headers[b]);g.onload=function(){var e=h[g.status]||g.status;try{if(e>=200&&e<300||304===e){var t=g.responseText;if(m.json)t=JSON.parse(t);else if(m.xml)t=(new DOMParser).parseFromString(t,"text/xml");else if("string"!=typeof t)throw console.error("Response is not string!",t),new Error("Response is not string!");return i&&i(null,t)}throw new Error(g.status+" "+g.statusText)}catch(e){return i&&i(e)}};var y=g.onerror=function(){i&&i(new Error(g.status+" "+g.statusText))},k=null;void 0!==g.onabort?g.onabort=y:k=function(){4===g.readyState&&i&&setTimeout(function(){return y()})},k&&(g.onreadystatechange=k);var w=function(){try{g.send(m.data||null)}catch(e){setTimeout(function(){i&&i(e)})}};if(v.length&&r.isSupported()){r.requestPermission(function(e){e&&function(){for(var e,t=0;e=v[t];t++)g.setRequestHeader(r.wrapHeaderKey(e.key,e.value),e.value)}(),i&&w()})}else w();return n.abort=function(){i=null,g.abort()},n}},function(e,t,n){var o=n(16);t.a=function(e){return new f.default(function(t,n){Object(o.a)(e,function(e,o){e?n(e):t(o)})})}},function(e,t,n){t.a=function(e,t){t&&!Array.isArray(t)&&(t=[t]);for(var n,o=[],i={"{":0,"[":0},a={"}":"{","]":"["},r=/[{}\]\[":0-9.,-]/,s=/[\r\n\s\t]/,l="",u=0;n=e[u];u++)if('"'!==n)r.test(n)?(l+=n,"{"===n||"["===n?(i["{"]||i["["]||(l=n),i[n]++):"}"!==n&&"]"!==n||(i[a[n]]--,i["{"]||i["["]||o.push(l))):"t"===n&&"true"===e.substr(u,4)?(l+="true",u+=3):"f"===n&&"false"===e.substr(u,5)?(l+="false",u+=4):"n"===n&&"null"===e.substr(u,4)?(l+="null",u+=3):s.test(n)||(i["{"]=0,i["["]=0,l="");else{for(var d=u;-1!==d&&(d===u||"\\"===e[d-1]);)d=e.indexOf('"',d+1);-1===d&&(d=e.length-1),l+=e.substr(u,d-u+1),u=d}for(var c,f=[],p=function(e,n){if("{}"!==e&&"[]"!==e)try{t?t.every(function(t){return t.test(e)})&&f.push(JSON.parse(e)):f.push(JSON.parse(e))}catch(e){}},m=0;c=o[m];m++)p(c);return f}},function(e,t,n){var o=n(1);t.a=function e(t,n){if(n=n||{},"string"==typeof t){if("["!==t[0])return document.createTextNode(t);try{t=t.replace(/"/g,"\\u0022").replace(/\\'/g,"\\u0027").replace(/'/g,'"').replace(/([{,])\s*([a-zA-Z0-9]+):/g,'$1"$2":'),t=JSON.parse(t)}catch(n){return document.createTextNode(t)}}if(!Array.isArray(t))return document.createTextNode(t);for(var i=n.fragment||document.createDocumentFragment(),a=0,r=t.length;a<r;a++){var s=t[a];if("object"==typeof s)for(var l in s){var u,d=s[l],c=d.append;delete d.append,i.appendChild(u=o.a.create(l,d)),void 0!==c&&e(c,{fragment:u})}else i.appendChild(document.createTextNode(s))}return i}},function(e,t,n){t.decode=t.parse=n(26),t.encode=t.stringify=n(27)},function(e,t,n){var o=n(0);t.a=function(e,t,n){var i="";if(n||"undefined"==typeof URL||"undefined"==typeof Blob||o.a.isSafari){var a=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(e);i="data:"+t+";charset=utf8;base64,"+encodeURIComponent(btoa(a))}else{var r=new Blob([e],{encoding:"UTF-8",type:t});i=URL.createObjectURL(r)}return i}},function(e,t,n){var o=/\\(\\u[0-9a-f]{4})/g;t.a=function(e){try{return JSON.parse((0,d.default)(e).replace(o,"$1"))}catch(t){return e}}},function(e,t,n){t.a=function(e,t){t&&!Array.isArray(t)&&(t=[t]);var n=[];return e.replace(/<script(?:\s*|\s[^>]+[^\/])>/g,function(o,i){i+=o.length;var a=e.indexOf("<\/script>",i);if(-1!==a){var r=e.substr(i,a-i);t?t.every(function(e){return e.test(r)})&&n.push(r):n.push(r)}}),n}},function(e,t,n){var o=/^[^{]+\{\s*\[native \w/,i=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return(i=o.test(document.compareDocumentPosition)||o.test(document.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1}).apply(this,arguments)});t.a=function(e,t){return i(e,t)}},,function(e,t,n){function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var s=/\+/g;e=e.split(t);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var d=0;d<u;++d){var c,f,p,m,h=e[d].replace(s,"%20"),g=h.indexOf(n);g>=0?(c=h.substr(0,g),f=h.substr(g+1)):(c=h,f=""),p=decodeURIComponent(c),m=decodeURIComponent(f),o(r,p)?i(r[p])?r[p].push(m):r[p]=[r[p],m]:r[p]=m}return r};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?a(r(e),function(r){var s=encodeURIComponent(o(r))+n;return i(e[r])?a(e[r],function(e){return s+encodeURIComponent(o(e))}).join(t):s+encodeURIComponent(o(e[r]))}).join(t):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var r=u.default||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){n.r(t);var o=void 0!==o?o:void 0;void 0===o&&function(){var e=l.default,t=Date.now()%1e9;(o=function(){this.name="__st"+(1e9*Math.random()>>>0)+t+++"__"}).prototype={set:function(t,n){var o=t[this.name];return o&&o[0]===t?o[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}();var i=void 0!==i?i:void 0;!function(){if(void 0===i){var e,t=new o;if("undefined"!=typeof navigator&&/Trident|Edge/.test(navigator.userAgent))e=setTimeout;else if(window.setImmediate)e=window.setImmediate;else{var n=[],a=String(Math.random());window.addEventListener("message",function(e){if(e.data===a){var t=n;n=[],t.forEach(function(e){e()})}}),e=function(e){n.push(e),window.postMessage(a,"*")}}var r,s,l=!1,u=[],d=0;(i=function(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++d}).prototype={observe:function(e,n){if(e=function(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}(e),!n.childList&&!n.attributes&&!n.characterData||n.attributeOldValue&&!n.attributes||n.attributeFilter&&n.attributeFilter.length&&!n.attributes||n.characterDataOldValue&&!n.characterData)throw new SyntaxError;var o,i=t.get(e);i||t.set(e,i=[]);for(var a=0;a<i.length;a++)if(i[a].observer===this){(o=i[a]).removeListeners(),o.options=n;break}o||(o=new g(this,e,n),i.push(o),this.nodes_.push(e)),o.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var n=t.get(e),o=0;o<n.length;o++){var i=n[o];if(i.observer===this){i.removeListeners(),n.splice(o,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},g.prototype={enqueue:function(t){var n=this.observer.records_,o=n.length;if(n.length>0){var i=function(e,t){return e===t?e:s&&function(e){return e===s||e===r}(e)?s:null}(n[o-1],t);if(i)return void(n[o-1]=i)}else!function(t){u.push(t),l||(l=!0,e(c))}(this.observer);n[o]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var n=t.get(e);n||t.set(e,n=[]),n.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var n=t.get(e),o=0;o<n.length;o++)if(n[o]===this){n.splice(o,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,o=e.target;(a=new m("attributes",o)).attributeName=t,a.attributeNamespace=n;var i=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;f(o,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(n)))return e.attributeOldValue?h(i):a});break;case"DOMCharacterDataModified":var a=m("characterData",o=e.target);i=e.prevValue,f(o,function(e){if(e.characterData)return e.characterDataOldValue?h(i):a});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var l,u,d=e.target;"DOMNodeInserted"===e.type?(l=[d],u=[]):(l=[],u=[d]);var c=d.previousSibling,p=d.nextSibling;(a=m("childList",e.target.parentNode)).addedNodes=l,a.removedNodes=u,a.previousSibling=c,a.nextSibling=p,f(e.relatedNode,function(e){if(e.childList)return a})}r=s=void 0}}}function c(){l=!1;var e=u;u=[],e.sort(function(e,t){return e.uid_-t.uid_});var n=!1;e.forEach(function(e){var o=e.takeRecords();!function(e){e.nodes_.forEach(function(n){var o=t.get(n);o&&o.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}(e),o.length&&(e.callback_(o,e),n=!0)}),n&&c()}function f(e,n){for(var o=e;o;o=o.parentNode){var i=t.get(o);if(i)for(var a=0;a<i.length;a++){var r=i[a],s=r.options;if(o===e||s.subtree){var l=n(s);l&&r.enqueue(l)}}}}function p(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function m(e,t){return r=new p(e,t)}function h(e){return s||((s=function(e){var t=new p(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}(r)).oldValue=e,s)}function g(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}}(),t.default=i}]])},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={1:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([25,0]),n()}({25:function(e,t,n){n.r(t);var o=n(0),i=n(12),a=n(5),r=n(7),s=n(13),l=n(6),u=n(23),p=n(18),m=n(3),h=n(8),g=n(9),v=n(2),b=n(1),y=n(15),k=n(10),w=n(11),x=n(17),S=Object(k.a)("vimeo_com");w.a.isSingle()&&Object(a.b)("vimeo",function(e,t){var n=Object(i.a)(t),a=t.preferences,k=a.moduleVimeo?1:0,w=Object(r.a)();o.a.onMessage.addListener(function(t,n,o){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return o({state:k,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return A.changeState(t.state)}"updatePreferences"!==t.action||(0,c.default)(a,t.preferences)}),k&&setTimeout(function(){A.run()});var A={panelId:"savefrom__vimeo_links",btnBox:null,clipId:null,timer:null,btnPrefix:"sd_ld_bnt_",popupIsShow:!1,dlBtnClassName:"sf-dl-btn",currentMenu:null,linkCache:{},run:function(){if(k=1,w){if(A.clipId=A.getFrameClipId(),A.clipId)return A.appendIframeButtons();w=!1}this.videoFeed.injectStyle(),n.mutationWatcher.isAvailable()&&this.mutationMode.enable()},changeState:function(e){w||(k=e,A.videoFeed.disable(),A.rmAllBtn(),A.mutationMode.stop(),e&&A.run())},hideMenu:function(){A.currentMenu&&(A.currentMenu.hide(),A.currentMenu=null)},getFrameClipId:function(){var e=document.location.href.match(/player\.vimeo\.com\/video\/([\w\-]+)/i);if(e=e&&e[1])return e},getBrowserVideoData:function(e,t){var n=e.querySelector(".uploaded_on");if(n||(n=e.querySelector("#info .meta .stats")),!n)return null;if(t&&(t=(t=t.match(/([0-9]+)$/))&&t[1]),!t){var o=e.querySelector("a.js-title")||e.querySelector("a");if(!o)return;var i=o.getAttribute("href");if(!i)return;t=(t=i.match(/\/([0-9]+)$/))&&t[1]}return t?{id:t,parent:n,style:1}:void 0},getVideoId:function(e){var t,n=null;if(t=(e=e||document).querySelector(".player[data-clip-id]"))return t.dataset.clipId;if(t=e.querySelector(".player[data-fallback-url]")){var o=t.dataset.fallbackUrl||"";if(o=o.match(/video\/([0-9]+)\//))return o[1]}return(t=e.querySelector("div.player_wrapper > div.faux_player[data-clip_id]"))&&(n=t.dataset.clip_id)?n:void 0},onBtnClick:function(e,t){t.stopPropagation(),t.preventDefault();var i=e.id;if(!i){var a=null;e.playerContainer&&(a=Object(g.a)(e.parent,e.playerContainer)),i=A.getVideoId(a)}if(A.currentMenu&&A.currentMenu.isShow)A.hideMenu();else{var r=o.a.i18n.getMessage("download")+" ...",s={};4===e.style&&(s.offsetTop=20);var l,u=this.dataset.sfMobile>0;l=A.currentMenu=u?n.mobileLightBox.show(r):n.popupMenu.quickInsert(this,r,"sf-popupMenu",s);var d=function(e){if(e&&e.links){A.linkCache[i]=e;var t=n.popupMenu.prepareLinks.vimeo(e.links,e.title);l.update(t)}else l.update(o.a.i18n.getMessage("noLinksFound"))},c=A.linkCache[i];if(!c)return A.getLinksFromPage2(i).catch(function(e){return S.error("getLinksFromPage error",e),Object(y.a)({action:"getVimeoLinks",extVideoId:i,url:location.href}).catch(function(e){throw S.error("getVimeoLinks error",e),e})}).then(function(e){d(e)},function(e){d()});d(c)}},getPlayerConfig:function(){return new f.default(function(e,t){n.bridge({func:"function(a){try{var c=null;try{c=vimeo.clip_page_config.clip}catch(a){}a({clipId:vimeo.clip_page_config.clip.id,url:vimeo.clip_page_config.player.config_url,clip:c})}catch(b){a(null)}}",cb:function(n){n?e(n):t(new Error("Player config is not found"))}})})},getLinksFromPage2:function(e){return e=parseInt(e,10),this.getPlayerConfig().then(function(t){var n=t.clipId,o=t.url,i=t.clip;if(n!==e)throw new Error("Clip id is change");var a=function(e){return Object(y.a)({action:"getVimeoLinksFromConfigAction",config:e}).then(function(e){if(e)return e;throw new Error("getLinksFromConfig result is empty")})};return f.default.resolve().then(function(){if(i)return a(i);throw new Error("Clip is not exists!")}).catch(function(e){return S.error("Get links from config error",e),Object(x.a)({url:o,localXHR:!0,json:!0,withCredentials:!0}).then(function(e){var t=e.body;return a(t)})})})},rmAllBtn:function(){["sfSkip"].forEach(function(e){for(var t,n=Object(l.a)(e),o=document.querySelectorAll("["+n+"]"),i=0;t=o[i];i++)t.removeAttribute(n)});for(var e,t=document.querySelectorAll("."+A.dlBtnClassName),n=0;e=t[n];n++)"1"!==e.dataset.sfType&&"3"!==e.dataset.sfType||(e=e.parentNode),e.parentNode.removeChild(e);A.videoFeed.rmBtn(),A.hideMenu()},appendBtn:function(e){var t,i=e.parent,a=i.querySelector("."+A.dlBtnClassName);if(a){if(!a.dataset.sfId&&6!==e.style)return;a.parentNode.removeChild(a),a=null}if(1===e.style?t=b.a.create("a",{text:o.a.i18n.getMessage("download"),class:[A.dlBtnClassName,"sf-style-1"],style:{display:"inline"},data:{sfId:e.id,sfType:e.style},href:"#"+e.id}):2===e.style?t=b.a.create("button",{text:o.a.i18n.getMessage("download"),class:[A.dlBtnClassName,"btn","iconify_down_b"],data:{sfId:e.id,sfType:e.style}}):5===e.style?t=b.a.create("button",{class:[A.dlBtnClassName,"sf-type-5"],data:{sfId:e.id,sfType:e.style},append:[b.a.create(n.svg.getSvg("download","#ffffff"),{style:{display:"inline-block",width:"16px",height:"16px",verticalAlign:"text-bottom",marginRight:".625rem"}}),b.a.create("span",{style:{marginLeft:0},text:o.a.i18n.getMessage("download")})]}):7===e.style?t=b.a.create("button",{class:[A.dlBtnClassName,"sf-type-7"],data:{sfId:e.id,sfType:e.style},append:[b.a.create(n.svg.getSvg("download","#ffffff"),{style:{display:"inline-block",width:"16px",height:"16px",verticalAlign:"text-bottom",marginRight:".625rem"}}),b.a.create("span",{style:{marginLeft:0},text:o.a.i18n.getMessage("download")})]}):3===e.style?t=b.a.create("button",{class:[A.dlBtnClassName,"iris_btn","iris_btn-switch"],data:{sfId:e.id,sfType:e.style},append:[b.a.create(n.svg.getSvg("download","#00adef"),{style:{display:"inline-block",width:"16px",height:"16px",verticalAlign:"text-bottom",marginRight:".625rem"}}),b.a.create("span",{class:"iris_btn-content",style:{marginLeft:0},text:o.a.i18n.getMessage("download")})]}):4===e.style?t=b.a.create("i",{class:[A.dlBtnClassName,"sf-style-4"],data:{sfId:e.id,sfType:e.style},style:{display:"inline-block",border:"1px solid #F8F8F8",width:"20px",height:"20px",lineHeight:0,cursor:"pointer",marginLeft:"10px",verticalAlign:"middle"},append:b.a.create("style",{text:Object(m.a)([{selector:"."+A.dlBtnClassName+".sf-style-4",style:{background:"url("+n.svg.getSrc("download","#777777")+") center no-repeat #F8F8F8",backgroundSize:"12px"}},{selector:"."+A.dlBtnClassName+".sf-style-4:hover",style:{background:"url("+n.svg.getSrc("download","#00B75A")+") center no-repeat #F8F8F8",backgroundSize:"12px"}},{selector:"."+A.dlBtnClassName+".sf-style-4:active",style:{outline:0,boxShadow:"inset 0 3px 5px rgba(0, 0, 0, 0.125)"}}])})}):6===e.style&&(t=b.a.create("button",{class:[A.dlBtnClassName,"btn","btn_sm","btn_blue_o"],data:{sfId:e.id,sfType:e.style,sfMobile:1},style:{marginLeft:"8px"},append:[b.a.create(n.svg.getSvg("download","#00adef"),{style:{display:"inline-block",width:"12px",height:"12px",verticalAlign:"text-bottom",marginRight:"4px"}}),b.a.create("span",{class:"btn_text",style:{marginLeft:0},text:o.a.i18n.getMessage("download")})]})),t.addEventListener("click",A.onBtnClick.bind(t,e)),1===e.style&&(t=b.a.create("span",{append:[t," | "]})),3===e.style&&(t=b.a.create("div",{class:"clip_info-user_actions",append:[t]})),1===e.style||2===e.style||6===e.style){var r=i.firstChild;r?i.insertBefore(t,r):i.appendChild(t)}else i.appendChild(t)},playerStateChangeObserver:null,observeVideoUi:function(e,t){var o=t;if(o){var i=null,a=/(\s|^)with-controls(\s|$)/;this.playerStateChangeObserver&&this.playerStateChangeObserver.stop(),this.playerStateChangeObserver=n.mutationAttrWatcher.run({attr:"class",target:o,callback:function(t){var n=t[0],o=!a.test(n.oldValue),r=!a.test(n.value);!o&&r?(clearTimeout(i),i=setTimeout(function(){e.lockHide||e.container.classList.add("sf-hide-ui")},100)):o&&!r&&(clearTimeout(i),e.container.classList.remove("sf-hide-ui"))}})}},appendIframeButtons:function(){var e=this,t=n.frameMenu.getBtn({quickBtnStyleObj:{display:"inline-block",border:0,borderRadius:".3em",cursor:"pointer",position:"relative",padding:"6px 8px"},quickBtnCssStyle:{backgroundColor:"rgba(23,35,34,.75)"},quickBtnOverCssStyle:{backgroundColor:"rgb(0, 173, 239)"},nodeCssStyle:{display:"none"},singleBtn:!0,btnId:e.panelId,containerStyle:{left:"10px",top:"10px"},quickBtnIcon:b.a.create(n.svg.getSvg("download","#ffffff"),{style:{display:"inline-block",width:"16px",height:"16px",verticalAlign:"middle"}}),on:[["click",function(i){if(i.preventDefault(),i.stopPropagation(),e.currentMenu&&e.currentMenu.isShow)e.hideMenu();else{var a=e.clipId,r=e.linkCache[a],s=o.a.i18n.getMessage("download")+" ...";r&&(s=n.popupMenu.prepareLinks.vimeo(r.links,r.title));var l=e.currentMenu=n.frameMenu.getMenu(this,s,"sf-frame-menu",{leftMenuPos:!0,container:t.container,onShow:function(){t.node.classList.add("sf-over")},onHide:function(){e.currentMenu=null,t.node.classList.remove("sf-over")}});r||e.getLinksFromPage(function(t,i){var r=o.a.i18n.getMessage("noLinksFound");t&&(e.linkCache[a]={links:t,title:i},r=n.popupMenu.prepareLinks.vimeo(t,i)),l.update(r)})}}],["mousedown",function(n){n.stopPropagation(),2===n.button&&(i&&(i.stop(),i=null),e.hideMenu(),t.container.parentNode&&t.container.parentNode.removeChild(t.container))}]]});t.quickBtn.title=o.a.i18n.getMessage("download"),t.container=b.a.create("div",{class:"sf-btn-ctr",append:t.node}),v.a.on(t.container,"mouseenter",function(){t.lockHide=!0}),v.a.on(t.container,"mouseleave",function(){t.lockHide=!1}),t.node.appendChild(b.a.create("style",{text:Object(m.a)([{selector:["body:hover .sf-btn-ctr:not(.sf-hide-ui) #"+e.panelId,"body:hover .sf-btn-ctr:not(.sf-hide-ui) .sf-frame-menu"],style:{display:"block"}}])})),document.body.appendChild(t.container);var i=n.mutationWatcher.run({callback:function(n){var o=n[0].added[0];o&&(e.observeVideoUi(t,o),setTimeout(function(){i.stop(),i=null},0))},queries:[{css:'#player .captions[aria-live="assertive"]',is:"added"}]})},getLinksFromPage:function(e){var t=[/"video":{/,/"request":{/,/"files":/],n=null;Object(u.a)(document.body.innerHTML,t).some(function(e){return Object(p.a)(e,t).some(function(e){if(e.video&&e.request&&e.request.files)return n=e,!0})});var i=null,a=null,r=null,s=function(t){return t&&(a=t.links||null,r=t.title||null),e(a,r)};return n?(i={action:"getVimeoLinksFromConfig",config:n},o.a.sendMessage(i,s)):(i={action:"getVimeoLinks",extVideoId:A.clipId},o.a.sendMessage(i,s))},videoFeed:{btnClassName:"sf-feed-dl-btn",style:null,onClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.dataset.sfId;if(this.dataset.sfCouchMode,A.currentMenu&&A.currentMenu.isShow)A.hideMenu();else{var i=A.linkCache[t],a=o.a.i18n.getMessage("download")+" ...";i&&(a=n.popupMenu.prepareLinks.vimeo(i.links,i.title));var r=A.currentMenu=n.popupMenu.quickInsert(this,a,"sf-popupMenu");if(!i){var s=null;/"url"/.test(t)&&(s=JSON.parse(t).url,t=null),o.a.sendMessage({action:"getVimeoLinks",extVideoId:t,url:s},function(e){var i=null;e.links?(A.linkCache[t]=e,i=n.popupMenu.prepareLinks.vimeo(e.links,e.title)):i=o.a.i18n.getMessage("noLinksFound"),r.update(i)})}}},getBtn:function(e){return b.a.create("i",{class:e.classList,data:{sfId:e.id,sfCouchMode:e.isCouchMode?1:0},on:["click",this.onClick]})},onImgOver2:function(e){var t,n,o=this.parentNode;if("A"===o.tagName){var i=o.getAttribute("href");if(i&&(n=(n=i.match(/^\/(\d+)$/))&&n[1])&&(t=o.parentNode)&&t.classList.contains("contextclip-img")&&!(t.dataset.sfBtn>0)){t.dataset.sfBtn="1";var a=[A.videoFeed.btnClassName,"sf-type1-btn"];o.appendChild(A.videoFeed.getBtn({id:n,classList:a})),o=null,t=null}}},onImgOver:function(e){var t,n,o=this.parentNode;if(Object(h.a)(this,"a.contextclip-img-thumb")){t=this,o=this;var i=/\/([0-9]+)/.exec(this.href);i&&(n=i[1])}if(!n&&(Object(h.a)(this,"div.iris_video-vital")||Object(h.a)(this,"li.clip_thumbnail"))){o=this.querySelector(".iris_thumbnail"),t=this;var a=this.querySelector("a.iris_link-box");if(a){var r=a.href;!(n=(n=r.match(/\/([0-9]+)/))&&n[1])&&r&&(n=(0,d.default)({url:r}))}}if(!n&&"LI"==o.tagName){if(!(n=o.dataset.resultId)||"clip_"!==n.substr(0,5))return;n=n.substr(5),t=o,o=this.querySelector(".thumbnail_wrapper")}if(!n){if("A"!==o.tagName)return;if(n=o.dataset.clipId,!(t=o.parentNode))return}var s=!1;if(!n){if((s="item_id"===(n=t.id).substr(0,7)&&t.classList.contains("clip"))||"clip"===n.substr(0,4)||(n=void 0),!n&&"ARTICLE"===t.tagName&&t.classList.contains("clip_item")&&(n=o.getAttribute("href")),!n)return;(n=n.match(/([0-9]+)$/))&&(n=n[1])}if(!t.dataset.sfBtn){t.dataset.sfBtn="1";var l=[A.videoFeed.btnClassName];this.classList.contains("thumbnail_lg_wide")&&l.push("sf-type1-btn"),this.classList.contains("contextclip-img-thumb")&&l.push("sf-type4-btn"),(this.classList.contains("clip_thumbnail")||this.classList.contains("iris_video-vital"))&&l.push("sf-type3-btn");var u=t.parentNode;u&&"clips"===u.id&&l.push("sf-type1-btn"),u=null,s&&l.push("sf-type1-btn"),t.classList.contains("promo_clip")&&1===l.length&&l.push("sf-type1-btn"),o.appendChild(A.videoFeed.getBtn({id:n,classList:l,isCouchMode:s})),o=null,t=null}},injectStyle:function(){this.style?!this.style.parentNode&&document.head.appendChild(this.style):(this.style=b.a.create("style",{text:Object(m.a)([{selector:[".sf-dl-btn.sf-type-5",".sf-dl-btn.sf-type-7"],style:{color:"#fff",borderColor:"#00adef",backgroundColor:"#00adef",minWidth:"68px",minHeight:"32px",padding:"0 10px",lineHeight:"30px",fontSize:"14px",width:"auto",position:"relative",margin:0,fontWeight:700,borderWidth:"1px",borderStyle:"solid",borderRadius:"3px",letterSpacing:".1px",transition:"all .1s ease-in-out",cursor:"pointer",marginLeft:".5rem"}},{selector:[".sf-dl-btn.sf-type-7"],style:{verticalAlign:"middle"}},{selector:[".sf-dl-btn.sf-type-5:hover",".sf-dl-btn.sf-type-7:hover"],style:{color:"#fff",borderColor:"#08c",backgroundColor:"#08c"}},{selector:["a > .sf-feed-dl-btn","a .sf-feed-dl-btn.sf-type3-btn","a > .sf-feed-dl-btn.sf-type4-btn"],style:{display:"none",border:"1px solid #F8F8F8",width:"20px",height:"20px",padding:0,position:"absolute",background:"url("+n.svg.getSrc("download","#777777")+") center no-repeat #F8F8F8",backgroundSize:"12px",top:"auto",left:"auto",lineHeight:0}},{selector:["a > .sf-feed-dl-btn.sf-type4-btn"],style:{top:0,left:0}},{selector:["a > .sf-feed-dl-btn.sf-type1-btn","a > div > .sf-feed-dl-btn.sf-type3-btn"],style:{top:0}},{selector:["a > .sf-feed-dl-btn.sf-type2-btn"],style:{opacity:.5}},{selector:["a > div > .sf-feed-dl-btn.sf-type3-btn"],style:{zIndex:10}},{selector:["a > .sf-feed-dl-btn:hover","a > div > .sf-feed-dl-btn.sf-type3-btn:hover"],style:{background:"url("+n.svg.getSrc("download","#00B75A")+") center no-repeat #F8F8F8",backgroundSize:"12px"}},{selector:["a > .sf-feed-dl-btn.sf-type2-btn:hover"],style:{opacity:.8}},{selector:["a > .sf-feed-dl-btn:active","a > div > .sf-feed-dl-btn.sf-type3-btn:active"],style:{outline:0,boxShadow:"inset 0 3px 5px rgba(0, 0, 0, 0.125)"}},{selector:["a:hover > .sf-feed-dl-btn","a:hover > div > .sf-feed-dl-btn.sf-type3-btn"],style:{display:"block"}}])}),document.head.appendChild(this.style))},disable:function(){this.style&&this.style.parentNode&&this.style.parentNode.removeChild(this.style)},rmBtn:function(){for(var e,t=document.querySelectorAll(".sf-feed-dl-btn"),n=0;e=t[n];n++)e.parentNode.removeChild(e);var o=Object(l.a)("sfBtn"),i=document.querySelectorAll("["+o+"]");for(n=0;e=i[n];n++)e.removeAttribute(o)}},mutationMode:{observer:null,stop:function(){this.observer&&this.observer.stop()},wrapOnImgOver:function(){k&&A.videoFeed.onImgOver.apply(this,arguments)},wrapOnImgOver2:function(){k&&A.videoFeed.onImgOver2.apply(this,arguments)},enable:function(){if(this.observer)return this.observer.start();this.observer=n.mutationWatcher.run({callback:function(e){var t,n,o,i;for(t=e[0],n=0;o=t.added[n];n++)A.hideMenu(),o.dataset.sfSkip>0||(o.dataset.sfSkip="1",i=2,A.appendBtn({id:"",parent:o,style:i,playerContainer:"#clip"}));for(t=e[1],n=0;o=t.added[n];n++)if(A.hideMenu(),!(o.dataset.sfSkip>0)){o.dataset.sfSkip="1";var a=o.querySelector(".stats")||o.querySelector(".time");a&&(i=1,A.appendBtn({id:"",parent:a,style:i,playerContainer:"#channel_clip_container"}))}for(t=e[2],n=0;o=t.added[n];n++)if(!(o.dataset.sfSkip>0)&&(o.dataset.sfSkip="1","clip_"===o.id.substr(0,5))){var r=A.getBrowserVideoData(o,o.id);r&&A.appendBtn(r)}for(t=e[3],n=0;o=t.added[n];n++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",v.a.one(o,"mouseenter",A.mutationMode.wrapOnImgOver));for(t=e[4],n=0;o=t.added[n];n++)if(!(o.dataset.sfSkip>0)){o.dataset.sfSkip="1";var l=Object(s.a)(o,"clip_thumbnail");v.a.one(l,"mouseenter",A.mutationMode.wrapOnImgOver)}for(t=e[5],n=0;o=t.added[n];n++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",l=Object(s.a)(o,"iris_video-vital"),v.a.one(l,"mouseenter",A.mutationMode.wrapOnImgOver));for(t=e[6],n=0;o=t.added[n];n++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",l=Object(s.a)(o,"contextclip-img-thumb"),v.a.one(l,"mouseenter",A.mutationMode.wrapOnImgOver));for(t=e[7],n=0;o=t.added[n];n++)if(!(o.dataset.sfSkip>0)&&(o.dataset.sfSkip="1",A.hideMenu(),d=Object(g.a)(o,".clip_info-wrapper"))){var u=d.querySelector(".clip_info-actions");u&&(i=3,A.appendBtn({id:"",parent:u,style:i,playerContainer:".clip_main"}))}for(t=e[8],n=0;o=t.added[n];n++){var d;o.dataset.sfSkip>0||(o.dataset.sfSkip="1",A.hideMenu(),(d=Object(g.a)(o,".clip_main-content"))&&(i=5,A.appendBtn({id:"",parent:o,style:i,playerContainer:".clip_main"})))}for(t=e[9],n=0;o=t.added[n];n++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",v.a.one(o,"mouseenter",A.mutationMode.wrapOnImgOver2));for(t=e[10],n=0;o=t.added[n];n++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",i=4,A.appendBtn({id:"",parent:o,style:i,playerContainer:".clip"}));for(t=e[11],n=0;o=t.added[n];n++)i=6,A.appendBtn({id:"",parent:o,style:i,playerContainer:".clip_wrapper"});for(t=e[12],n=0;o=t.added[n];n++)i=7,A.appendBtn({id:"",parent:o,style:i,playerContainer:"#main"})},queries:[{css:"#clip #info #tools",is:"added"},{css:"#channel_clip_container #info .meta",is:"added"},{css:"#browse_content ol.browse_videos_videos > li",is:"added"},{css:"img.thumbnail",is:"added"},{css:".clip_thumbnail .iris_thumbnail img",is:"added"},{css:".iris_video-vital .iris_thumbnail img",is:"added"},{css:".contextclip-img-thumb img",is:"added"},{css:".clip_main .clip_info a.js-user_link.iris_link-header",is:"added"},{css:".clip_main .clip_main-content div.clip_info-subline--inline",is:"added"},{css:".contextclip-img img",is:"added"},{css:".client_wrapper .clip header h1",is:"added"},{css:".clip_page .clip .meta_section_subinfo",is:"added"},{css:"#main .clip_info-subline--inline",is:"added"}]})}}}})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={2:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([29,0]),n()}({29:function(e,t,n){n.r(t);var o=n(0),i=n(12),a=n(5),r=n(7),s=n(6),l=n(23),u=n(18),d=n(3),p=n(2),m=n(1),h=n(15),g=n(10),v=n(11),b=Object(g.a)("dailymotion_com");v.a.isSingle()&&Object(a.b)("dailymotion",function(e,t){var n=Object(i.a)(t),a=t.preferences,g=a.moduleDailymotion?1:0,v=Object(r.a)()&&/\/embed\/([\w\-]+)/i.test(document.location.href);o.a.onMessage.addListener(function(t,n,o){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return o({state:g,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return y.changeState(t.state)}"updatePreferences"!==t.action?g&&"updateLinks"===t.action&&y.updateLinks():(0,c.default)(a,t.preferences)}),g&&setTimeout(function(){y.run()});var y={contextMenu:null,linkCache:{},embed:null,title:"",styleIndex:0,btnId:"sf__download_btn",result:null,popupIsShow:!1,run:function(){if(g=1,!v)return n.mutationWatcher.isAvailable()?y.mutationMode.enable():void 0;y.appendIframeButtons()},changeState:function(e){v||(g=e,y.rmBtn(),y.mutationMode.stop(),e&&y.run())},hideMenu:function(){y.contextMenu&&y.contextMenu.isShow&&(y.contextMenu.hide(),y.contextMenu=null)},updateLinks:function(){y.changeState(0),y.changeState(1)},appendIframeButtons:function(){var e=this,t=n.frameMenu.getBtn({quickBtnStyleObj:{display:"inline-block",cursor:"pointer",position:"relative",padding:"9px 10px"},quickBtnCssStyle:{backgroundColor:"rgba(0,0,0,.75)"},singleBtn:!0,btnId:e.btnId,containerStyle:{right:"50px",top:"10px"},quickBtnIcon:m.a.create(n.svg.getSvg("download","#ffffff"),{style:{display:"inline-block",width:"16px",height:"16px",verticalAlign:"middle"}}),on:[["click",function(i){if(i.preventDefault(),i.stopPropagation(),e.contextMenu&&e.contextMenu.isShow)e.hideMenu();else{var a=e.getIdFromUrl(),r=o.a.i18n.getMessage("download")+" ...",s=e.linkCache[a];s&&(r=n.popupMenu.prepareLinks.dailymotion(s.links,s.title));var l=e.contextMenu=n.frameMenu.getMenu(this,r,"sf-frame-menu",{container:t.container,onShow:function(){t.node.classList.add("sf-over")},onHide:function(){e.contextMenu=null,t.node.classList.remove("sf-over")}});s||o.a.sendMessage({action:"getDailymotionLinks",extVideoId:a,metadata:e.getMetadata(a)},function(t){var i=o.a.i18n.getMessage("noLinksFound");t.links&&(e.linkCache[a]=t,i=n.popupMenu.prepareLinks.dailymotion(t.links,t.title)),l.update(i)})}}],["mousedown",function(n){n.stopPropagation(),2===n.button&&(p.a.off(document.body,"mousemove",s),e.hideMenu(),t.container.parentNode&&t.container.parentNode.removeChild(t.container))}]]});t.quickBtn.title=o.a.i18n.getMessage("download"),t.container=m.a.create("div",{class:"sf-btn-ctr",append:t.node}),p.a.on(t.container,"mouseenter",function(){t.lockHide=!0}),p.a.on(t.container,"mouseleave",function(){t.lockHide=!1});var i=null,a=!1,r=function(){t.lockHide||(t.container.classList.add("sf-hide-ui"),a=!0)},s=function(){a&&(t.container.classList.remove("sf-hide-ui"),a=!1),clearTimeout(i),i=setTimeout(r,3e3)};p.a.on(document.body,"mousemove",s),t.node.appendChild(m.a.create("style",{text:Object(d.a)([{selector:["body:hover .sf-btn-ctr:not(.sf-hide-ui) #"+e.btnId,"body:hover .sf-btn-ctr:not(.sf-hide-ui) .sf-frame-menu"],style:{display:"block"}}])})),document.body.appendChild(t.container)},getIdFromUrl:function(e){var t=(e=e||location.href).match(/\/embed\/video\/([a-z0-9]+)/);return t&&t[1]},getMetadata:function(e){var t=null;return Object(l.a)(document.body.innerHTML,/playerV5/).some(function(n){return Object(u.a)(n).some(function(n){if(n&&n.metadata&&n.metadata.id===e)return t=n.metadata,!0})}),t},rmBtn:function(){for(var e,t=document.querySelectorAll(["#"+y.btnId,".sf-wrapper"]),n=0;e=t[n];n++)e.parentNode.removeChild(e);y.result=null,y.popupIsShow=!1},newGetVideoId:function(){var e="",t=/\/video\/([^\/]+)/.exec(location.href);return t&&(e=t[1]),e},newGetMetadata:function(e){return new f.default(function(t,o){n.bridge({func:"function(a){try{a(window.__PLAYER_CONFIG__.metadata)}catch(b){a(null)}}",cb:function(n){n&&n.id===e?t(n):o(new Error("Metadata is not found"))}})}).catch(function(){return null})},insertBtn:function(e){if(!e.querySelector(".sf-dl-btn")){var t=m.a.create("a",{id:y.btnId,class:["sf-dl-btn"],href:"#",title:o.a.i18n.getMessage("download"),append:[m.a.create("span",{append:[n.svg.getSvg("download","#000")]}),m.a.create("style",{text:Object(d.a)({selector:".sf-dl-btn",style:{display:"block",flex:1,textAlign:"center",cursor:"pointer"}})})],on:["click",function(e){if(e.preventDefault(),e.stopPropagation(),y.contextMenu&&y.contextMenu.isShow)y.hideMenu();else{var t=o.a.i18n.getMessage("download")+" ...",i=y.contextMenu=n.popupMenu.quickInsert(this,t,"sf-popupMenu");f.default.resolve().then(function(){var e=y.newGetVideoId();if(!e)throw new Error("Video is not found");return y.linkCache[e]||y.newGetMetadata(e).then(function(t){return Object(h.a)({action:"getDailymotionLinks",extVideoId:e,metadata:t}).then(function(t){if(!t||!t.links)throw new Error("Links is not found");return y.linkCache[e]=t})})}).then(function(e){var t=n.popupMenu.prepareLinks.dailymotion(e.links,e.title);i.update(t)}).catch(function(e){b.debug("Load links error",e),i.update(o.a.i18n.getMessage("noLinksFound"))})}}]});e.appendChild(t)}},mutationMode:{observer:null,stop:function(){this.observer&&this.observer.stop(),["sfSkip"].forEach(function(e){for(var t,n=Object(s.a)(e),o=document.querySelectorAll("["+n+"]"),i=0;t=o[i];i++)t.removeAttribute(n)})},enable:function(){if(this.observer)return this.observer.start();this.observer=n.mutationWatcher.run({callback:function(e){var t,n,o;for(t=e[0],n=0;o=t.added[n];n++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",y.insertBtn(o))},queries:[{css:'div[class^="QueueActions__content"]',is:"added"}]})}}}},function(){if(!Object(r.a)())return!0;if(/\/embed\/([\w\-]+)/i.test(location.href)){var e=!1;try{e=location.hostname===window.parent.location.hostname}catch(e){}return!e}})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={3:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([45,0]),n()}({45:function(e,t,n){n.r(t);var o=n(0),i=n(12),a=n(5),r=n(7),s=n(14),l=n(6),f=n(3),p=n(8),m=n(9),h=n(2),g=n(1),v=n(19),b=n(4),y=n(10),k=n(11),w=n(24),x=n(20),S=Object(y.a)("youtube_com");k.a.isSingle()&&Object(a.b)("youtube",function(e,t){var n=Object(i.a)(t),a=t.preferences,y=a.moduleYoutube?1:0,k=o.a.isChrome||o.a.isFirefox||o.a.isGM&&o.a.isTM,A=Object(r.a)();o.a.onMessage.addListener(function(t,n,o){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return o({state:y,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return M.changeState(t.state)}if("updatePreferences"!==t.action){if(y){if("updateLinks"===t.action){var i=M.getIdFromLocation();i&&L(function(e){if(e&&e.args&&e.args.video_id===i){var t=document.getElementById(M.buttonId);null!==t&&t.parentNode.removeChild(t),O.rmBtn(),M.responseCache={},M.video_id=e.args.video_id;var n=document.getElementById("watch7-subscription-container");M.appendDownloadButton(n)}})}"downloadPlaylist"===t.action&&M.downloadPlaylist()}}else(0,c.default)(a,t.preferences)}),y&&setTimeout(function(){M.run()});var M={swfargs:null,video_id:"",buttonId:"savefrom__yt_btn",responseCache:{},isMobile:!1,mobileMenu:null,currentMenu:null,currentTutorial:null,run:function(){if(y=1,A){var e=location.href.match(/\/embed\/([\w\-]+)/i);(e=e&&e[1])||(A=!1)}return 0===location.host.indexOf("m.")?(M.isMobile=!0,void(n.mutationWatcher.isAvailable()&&M.mobileMutationMode.enable())):A?(M.video_id=e,void M.appendFrameButton()):void(n.mutationWatcher.isAvailable()&&(M.videoFeed.injectStyle(),M.mutationMode.enable()))},changeState:function(e){if(y=e,!A&&!M.isMobile){M.tutorial.hide(),M.hideCurrentMenu(),M.videoFeed.rmBtn(),M.mutationMode.stop();var t=document.getElementById(M.buttonId);t&&t.parentNode.removeChild(t),O.rmBtn(),e&&M.run()}},hideCurrentMenu:function(){M.currentMenu&&(M.currentMenu.hide(),M.currentMenu=null)},hideMobileMenu:function(){M.mobileMenu&&(M.mobileMenu.hide(),M.mobileMenu=null)},mutationMode:{observer:null,stop:function(){M.mutationMode.observer&&M.mutationMode.observer.stop(),["sfSkip"].forEach(function(e){for(var t,n=Object(l.a)(e),o=document.querySelectorAll("["+n+"]"),i=0;t=o[i];i++)t.removeAttribute(n)})},wrapVideoFeedOnImgHover:function(){if(y&&M.videoFeed.testUrl(location.href)&&!(this.dataset.sfBtn>0)){this.dataset.sfBtn="1";var e=JSON.parse(this.dataset.sfContext);this.appendChild(M.videoFeed.getBtnNode(e.id,e.styleIndex))}},wrapNewVideoFeedOnThumbnailHover:function(){if(y&&M.videoFeed.testUrl(location.href)){var e=M.mutationMode,t=this,n=t.href,o=n&&n.match(M.videoFeed.hrefIdPattern),i=o&&o[1];if(i&&!t.querySelector(".sf-feed-btn")){var a=M.videoFeed.getBtnNode(i,2);h.a.onRemoveEvent(a,function(){this.parentNode||h.a.one(t,"mouseenter",e.wrapNewVideoFeedOnThumbnailHover)}),t.appendChild(a)}n=null,o=null,i=null,a=null}},enable:function(){var e=this;if(e.observer)return e.observer.start();e.observer=n.mutationWatcher.run({callback:function(t){var n,o,i,a,r,s,l;for(n=t[0],i=0;o=n.added[i];i++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",M.appendDownloadButton(o));if(M.videoFeed.testUrl(location.href)){for(a=1;a<3;a++)for(n=t[a],i=0;o=n.added[i];i++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",(r=o.dataset.videoIds)&&(s=o.parentNode,(l={}).id=r,l.styleIndex=1,s.dataset.sfContext=(0,d.default)(l),h.a.one(s,"mouseenter",e.wrapVideoFeedOnImgHover)));for(a=3;a<4;a++)for(n=t[a],i=0;o=n.added[i];i++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",h.a.one(Object(m.a)(o,"a"),"mouseenter",e.wrapNewVideoFeedOnThumbnailHover))}for(n=t[4],i=0;o=n.added[i];i++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",M.appendNewDownloadButton(o));for(n=t[5],i=0;o=n.removed[i];i++)h.a.onRemoveListener(o)},queries:[{css:"#watch7-subscription-container",is:"added"},{css:"button.addto-watch-later-button-sign-in",is:"added"},{css:"button.addto-watch-later-button",is:"added"},{css:"ytd-thumbnail a#thumbnail img",is:"added"},{css:".ytd-page-manager #info #top-level-buttons",is:"added"},{css:"."+h.a.onRemoveClassName,is:"removed"}]})}},mobileMutationMode:{observer:null,stop:function(){M.mutationMode.observer&&M.mutationMode.observer.stop(),["sfSkip"].forEach(function(e){for(var t,n=Object(l.a)(e),o=document.querySelectorAll("["+n+"]"),i=0;t=o[i];i++)t.removeAttribute(n)})},enable:function(){if(this.observer)return this.observer.start();this.observer=n.mutationWatcher.run({callback:function(e){var t,n,o;for(t=e[0],o=0;n=t.added[o];o++)if(0===n.id.indexOf("koya_elem_")){for(var i=0;i<4&&n;)n=n.parentNode,i++;if(n&&4===i){var a=1,r=n.querySelector("div:nth-child(1)>h1:nth-child(1)");if(r||(r=null),!r&&Object(p.a)(n,'div > div > div[id^="koya_child_"]:last-child > div')){for(r=n,i=0;i<3&&r;)r=r.parentNode,i++;r&&r.querySelector("div:nth-child(1)>h2:nth-child(1)")?(n=n.parentNode,a=2):r=null}r&&(n.dataset.sfSkip>0||(n.dataset.sfSkip="1",M.appendMobileButton("",n,a)))}}for(t=e[1],o=0;n=t.added[o];o++)a=3,n.dataset.sfSkip>0||(n.dataset.sfSkip="1",M.appendMobileButton("",n,a));for(t=e[2],o=0;n=t.added[o];o++)a=4,n.dataset.sfSkip>0||(n.dataset.sfSkip="1",M.appendMobileButton("",n,a));for(t=e[3],o=0;n=t.removed[o];o++)h.a.onRemoveListener(n)},queries:[{css:'div > div > div > a[onclick][href="#"] > span[id]',is:"added"},{css:"#app .page-container .video-main-content-actions",is:"added"},{css:"#app .page-container .playlist-controls-secondary",is:"added"},{css:"."+h.a.onRemoveClassName,is:"removed"}]})}},_onSelectBtnClick:function(e,t){if(!(t.button>0))if(t.stopPropagation(),t.preventDefault(),M.currentMenu&&M.currentMenu.isShow)M.hideCurrentMenu();else{var i=e.btnObj,a=i.videoId,r=M.currentMenu=n.popupMenu.quickInsert(i.node,o.a.i18n.getMessage("download")+" ...","sf-popupMenu",{onShow:function(){h.a.onRemoveEvent(i.node,M.hideCurrentMenu)},onHide:function(){h.a.offRemoveEvent(i.node,M.hideCurrentMenu)},onItemClick:function(e,t){var n=t.itag;"ummyAudio"===n&&(n="ummy"),i.lastItag!==n&&o.a.storage.set({ytLastITag:n},function(){M.quickBtn.setValue(i)}),M.onMenuItemClick(t,{isPageItem:1,videoId:a})},offsetTop:i.popupMenu&&i.popupMenu.offsetTop,offsetRight:i.popupMenu&&i.popupMenu.offsetRight,parent:i.popupMenu&&i.popupMenu.parent}),s=function(){r.update(o.a.i18n.getMessage("noLinksFound"))};if(!a)return s();var l=function(e){if(e.links){var t=n.popupMenu.prepareLinks.youtube(e.links,e.title,e.subtitles);r.update(t)}else s()},u=M.responseCache[a];if(u)return l(u);o.a.sendMessage({action:"getYoutubeLinks",extVideoId:a,url:location.href,checkSubtitles:!0},function(e){e.links&&(M.responseCache[a]=e),l(e)}),i.isFirstMenuShow&&(i.isFirstMenuShow=!1)}},appendDownloadButton:function(e){var t=e.querySelector("#"+M.buttonId);t&&(t.parentNode&&t.parentNode.removeChild(t),t=null);var o=this,i={},r=o.getButtonUnderVideo(M._onSelectBtnClick.bind(null,i));return i.btnObj=r,r.isFirstMenuShow=!0,r.setLoadingState(),e.appendChild(r.node),L(function(t){var i=null;if(t&&t.args&&t.args.video_id&&(i=t.args.video_id),i){r.node.dataset.sfVideoId=i,r.ytConfig=t,r.videoId=i,r.isPage=1;var s=[],l=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){l=null,M.tutorial.show({target:r.node})});s.push(function(){return l&&l()});var u=O(null,a,i);u&&(s.push(function(e){var t=e.slice(0);if(0!==(t=n.popupMenu.sortMenuItems(t,{typeList:["video","3d","mute","mute60"],groupCompare:!0})).length){var o=t[0],i=o.prop&&o.prop.quality;-1!==["8K","4K","1440","1080"].indexOf(i)&&h.a.trigger(u,"changeValue",{detail:(0,d.default)(o.prop&&o.prop.quality)})}}),e.appendChild(u)),r.onGetLinksArr=s,o.quickBtn.setValue(r)}})},appendNewDownloadButton:function(e,t){var o=this,i=e.querySelector("#"+M.buttonId);if(i){if(t)return;i.classList.remove(h.a.onRemoveClassName),i.parentNode&&i.parentNode.removeChild(i),i=null}var a=new this.getNewButtonUnderVideo(M._onSelectBtnClick);a.isFirstMenuShow=!0,a.setLoadingState();var r=e.childNodes[2];r||(r=e.firstChild),r?e.insertBefore(a.node,r):e.appendChild(a.node);var s=null,l=null;return h.a.onRemoveEvent(a.node,function(){s&&(s.abort(),s=null),l&&(l.destroy(),l=null),e.parentNode&&M.appendNewDownloadButton(e,!0)}),a.popupMenu={offsetTop:-6,offsetRight:-1,parent:a.menuContainer},(s=n.waitNodesBySelector("#movie_player")).then(function(){if(Object(w.a)(document.body,a.node))return C(function(e){var t=e&&e.args&&e.args.video_id;if(t){a.node.dataset.sfVideoId=t,a.ytConfig=e,a.videoId=t,a.isPage=1;var n=[];a.onGetLinksArr=n,n.push(function(){M.tutorial.show({target:a.node,parent:a.menuContainer,btnLeftOffset:-6,btnTopOffset:3})}),o.quickBtn.setValue(a)}else S.debug("videoId is not found!")});S.debug("Btn not exists")}).catch(function(e){"ABORTED"!==e.message&&S.error("waitNodesBySelector error",e)})},getIdFromLocation:function(e){e||(e=document.location.href);var t=e.match(/\/watch\?(?:.+&)?v=([\w\-]+)/i);return(t=t&&t[1])||null},appendMobileButton:function(e,t,i){var a={};3===i?(0,c.default)(a,{display:"flex",height:"24px",background:"url("+n.svg.getSrc("download","#757575")+") center no-repeat",padding:".7em .57em",marginLeft:".7em"}):4===i?(0,c.default)(a,{display:"flex",width:"24px",background:"url("+n.svg.getSrc("download","#eee")+") center no-repeat",padding:".7em .57em",marginLeft:".7em"}):1===i?(0,c.default)(a,{display:"inline-block",height:"28px",width:"18px",marginRight:"20px",background:"url("+n.svg.getSrc("download","#757575")+") center no-repeat",cssFloat:"right"}):2===i&&(0,c.default)(a,{display:"inline-block",height:"38px",width:"18px",marginRight:"12px",background:"url("+n.svg.getSrc("download","#757575")+") center no-repeat",backgroundSize:"20px",cssFloat:"right"});var r=g.a.create("div",{data:{id:e},style:a,on:["click",function(){var e=this.dataset.id||M.getIdFromLocation();M.hideMobileMenu();var t=M.mobileMenu=n.mobileLightBox.show(o.a.i18n.getMessage("download")+" ..."),i=function(e){var o=null;e&&e.links&&(o=n.popupMenu.prepareLinks.youtube(e.links,e.title||M.getTitleModify())),t.update(o)},a=M.responseCache[e];if(a)return i(a);o.a.sendMessage({action:"getYoutubeLinks",extVideoId:e,url:location.href},function(t){t.links&&(M.responseCache[e]=t),i(t)})}]});h.a.onRemoveEvent(r,function(){M.hideMobileMenu(),3!==i&&4!==i||document.body.contains(t)&&(t.dataset.sfSkip="0",M.mobileMutationMode.observer.trigger(t))});var s='div[id^="koya_child_"]:nth-child(1) > a[href="#"] > span[id^="koya_elem_"]',l=t.lastElementChild;l.querySelector(s)||(l=l.previousElementSibling).querySelector(s)||(l=null),l&&(l=l.nextElementSibling),l?l.parentNode.insertBefore(r,l):t.appendChild(r)},getNewButtonUnderVideo:function(e){var t=this;this.node=g.a.create("div",{id:M.buttonId,style:{display:["-ms-flexbox","-webkit-flex","flex"],marginLeft:"8px",MsFlexDirection:"row",WebkitFlexDirection:"row",flexDirection:"row",MsFlexAlign:"center",WebkitAlignItems:"center",alignItems:"center",MsFlexPack:"center",WebkitJustifyContent:"center",justifyContent:"center",padding:"0 8px 0 0"},append:[this.menuContainer=g.a.create("div",{style:{position:"relative"}}),this.quickBtn=g.a.create("a",{class:"sf-quick-dl-btn",style:{display:"inline-block",fontSize:"inherit",height:"22px",border:"1px solid #00B75A",borderRadius:"3px",borderTopRightRadius:0,borderBottomRightRadius:0,paddingLeft:"28px",cursor:"pointer",verticalAlign:"middle",position:"relative",lineHeight:"22px",textDecoration:"none",zIndex:1,color:"#fff"},href:"#",append:[g.a.create("i",{style:{position:"absolute",display:"inline-block",left:"6px",top:"3px",backgroundImage:"url("+n.svg.getSrc("download","#ffffff")+")",backgroundSize:"12px",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"16px",height:"16px"}}),g.a.create("span",{class:"sf-btn-name",style:{paddingRight:"12px"},text:o.a.i18n.getMessage("download")})]}),this.quickBtnStyle=g.a.create("style",{text:Object(f.a)({selector:"#"+M.buttonId,style:{fontFamily:"Roboto, Arial, sans-serif",fontSize:"13px"},append:[{"button::-moz-focus-inner":{padding:0,margin:0},".sf-quick-dl-btn":{backgroundColor:"#00B75A"},".sf-quick-dl-btn:hover":{backgroundColor:"rgb(0, 163, 80)"},".sf-quick-dl-btn:active":{backgroundColor:"rgb(0, 151, 74)"}},{media:"@media screen and (max-width: 1293px)",append:{".sf-quick-dl-btn .sf-btn-name":{display:"none"}}}]})}),this.selectBtn=g.a.create("button",{style:{position:"relative",display:"inline-block",marginLeft:"-2px",fontSize:"inherit",height:"24px",paddingRight:"21px",backgroundColor:"#F8F8F8",border:"1px solid #CCCCCC",borderRadius:"3px",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",cursor:"pointer",color:"#9B9B9B",zIndex:0,verticalAlign:"middle",boxSizing:"border-box",lineHeight:o.a.isSafari?"21px":"22px"},on:["mousedown",function(n){return e.call(this,{btnObj:t},n)}],append:[this.selectBtnIcon=g.a.create("i",{style:{position:"absolute",display:"inline-block",top:"9px",right:"6px",border:"5px solid #868282",borderBottomColor:"transparent",borderLeftColor:"transparent",borderRightColor:"transparent"}})]})]}),this.node.classList.add(h.a.onRemoveClassName);var i=function(e){var n="object"==typeof e?e:document.createTextNode(e);n.style.marginLeft=0;var o=t.selectBtn.firstChild;o===t.selectBtnIcon?t.selectBtn.insertBefore(n,o):t.selectBtn.replaceChild(n,o)};this.setQuality=i,this.setLoadingState=function(){i(g.a.create("img",{src:n.svg.getSrc("info","#333333"),style:{width:"14px",height:"14px",marginLeft:"6px",verticalAlign:"middle",top:o.a.isSafari?"-3px":"-1px",position:"relative"}}))}},getButtonUnderVideo:function(e){var t,i,a=null,r=g.a.create("div",{id:M.buttonId,style:{display:"inline-block",marginLeft:"10px",verticalAlign:"middle"},append:[i=g.a.create("a",{class:"sf-quick-dl-btn",style:{display:"inline-block",fontSize:"inherit",height:"22px",border:"1px solid #00B75A",borderRadius:"3px",borderTopRightRadius:0,borderBottomRightRadius:0,paddingLeft:"28px",cursor:"pointer",verticalAlign:"middle",position:"relative",lineHeight:"22px",textDecoration:"none",zIndex:1,color:"#fff"},href:"#",append:[g.a.create("i",{style:{position:"absolute",display:"inline-block",left:"6px",top:"3px",backgroundImage:"url("+n.svg.getSrc("download","#ffffff")+")",backgroundSize:"12px",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"16px",height:"16px"}}),g.a.create("span",{class:"sf-btn-name",style:{paddingRight:"12px"},text:o.a.i18n.getMessage("download")})]}),g.a.create("style",{text:Object(f.a)({selector:"#"+M.buttonId,append:[{"button::-moz-focus-inner":{padding:0,margin:0},".sf-quick-dl-btn":{backgroundColor:"#00B75A"},".sf-quick-dl-btn:hover":{backgroundColor:"rgb(0, 163, 80)"},".sf-quick-dl-btn:active":{backgroundColor:"rgb(0, 151, 74)"}},{media:"@media screen and (max-width: 1293px)",append:{".sf-quick-dl-btn .sf-btn-name":{display:"none"}}}]})}),a=g.a.create("button",{style:{position:"relative",display:"inline-block",marginLeft:"-2px",fontSize:"inherit",height:"24px",paddingRight:"21px",backgroundColor:"#F8F8F8",border:"1px solid #CCCCCC",borderRadius:"3px",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",cursor:"pointer",color:"#9B9B9B",zIndex:0,verticalAlign:"middle",boxSizing:"border-box",lineHeight:"22px"},on:["mousedown",e],append:[t=g.a.create("i",{style:{position:"absolute",display:"inline-block",top:"9px",right:"6px",border:"5px solid #868282",borderBottomColor:"transparent",borderLeftColor:"transparent",borderRightColor:"transparent"}})]})]});r.classList.add(h.a.onRemoveClassName);var s=function(e){var n="object"==typeof e?e:document.createTextNode(e),o=a.firstChild;o===t?a.insertBefore(n,o):a.replaceChild(n,o)};return{node:r,selectBtn:a,quickBtn:i,setQuality:s,setLoadingState:function(){s(g.a.create("img",{src:n.svg.getSrc("info","#333333"),style:{width:"14px",height:"14px",marginLeft:"6px",verticalAlign:"middle",top:"-1px",position:"relative"}}))}}},titleChangeObserver:null,playerStateChangeObserver:null,observeFrameVideoChange:function(e){var t=this;if(n.mutationWatcher.isAvailable()){var o=document.querySelector(".ytp-title-link");o&&(this.titleChangeObserver&&this.titleChangeObserver.stop(),this.titleChangeObserver=n.mutationAttrWatcher.run({attr:"href",target:o,callback:function(n){var o=n[0],i=o.oldValue&&M.getIdFromLocation(o.oldValue),a=o.value&&M.getIdFromLocation(o.value);i!==a&&M.video_id!==a&&(M.video_id=a,M.frameQualityDetected&&(e.link=null,e.setLoadingState(),t.quickBtn.setValue(e)))}}));var i=document.querySelector(".html5-video-player");if(i){var a=null,r=/(\s|^)ytp-autohide(\s|$)/;this.playerStateChangeObserver&&this.playerStateChangeObserver.stop(),this.playerStateChangeObserver=n.mutationAttrWatcher.run({attr:"class",target:i,callback:function(t){var n=t[0],o=r.test(n.oldValue),i=r.test(n.value);!o&&i?(clearTimeout(a),a=setTimeout(function(){e.lockHide||e.container.classList.add("sf-hide-ui")},100)):o&&!i&&(clearTimeout(a),e.container.classList.remove("sf-hide-ui"))}})}}},appendFrameButton:function(){if(!(document.body.clientWidth<220||document.body.clientHeight<150)){var e=M,t=!0,i=n.frameMenu.getBtn({btnId:"sfYtFrameBtn",containerStyle:{top:"40px",right:"20px"},on:[["mousedown",function(t){t.stopPropagation(),2===t.button&&(e.onFrameMouseEnterBind&&(h.a.off(document.body,"mouseenter",e.onFrameMouseEnterBind),h.a.off(document.body,"mouseleave",e.onFrameMouseLeaveBind),e.onFrameMouseEnterBind=null,e.onFrameMouseLeaveBind=null),e.titleChangeObserver&&(e.titleChangeObserver.stop(),e.titleChangeObserver=null),e.playerStateChangeObserver&&(e.playerStateChangeObserver.stop(),e.playerStateChangeObserver=null),e.hideCurrentMenu(),i.container.parentNode&&i.container.parentNode.removeChild(i.container))}]],onSelectBtn:["mousedown",function(a){if(!(a.button>0)){a.stopPropagation(),a.preventDefault();var r=e.video_id;if(e.currentMenu)M.hideCurrentMenu();else{var s=e.currentMenu=n.frameMenu.getMenu(this.parentNode,o.a.i18n.getMessage("download")+" ...","sf-popupMenu",{container:i.container,onShow:function(){i.node.classList.add("sf-over"),t||(t=!1)},onHide:function(){e.currentMenu=null,i.node.classList.remove("sf-over")},onItemClick:function(t,n){var a=n.itag;"ummyAudio"===a&&(a="ummy"),i.lastItag!==a&&o.a.storage.set({ytLastITag:a},function(){e.quickBtn.setValue(i)}),M.onMenuItemClick(n,{isFrameItem:1,videoId:r})}}),l=function(e){var t=n.popupMenu.prepareLinks.youtube(e.links,e.title,e.subtitles,{ummyVid:136});s.update(t)},u=e.responseCache[r];if(u)return l(u);o.a.sendMessage({action:"getYoutubeLinks",extVideoId:r,url:location.href,checkSubtitles:!0},function(t){if(t.links)return e.responseCache[r]=t,l(t);s.update(o.a.i18n.getMessage("noLinksFound"))})}}}]});i.setLoadingState(),i.container=g.a.create("div",{class:"sf-btn-ctr",append:i.node}),document.body.appendChild(i.container);h.a.on(i.node,"mouseenter",function t(){h.a.off(i.node,"mouseenter",t),e.frameQualityDetected||(e.frameQualityDetected=!0,e.quickBtn.setValue(i))}),h.a.one(document,"mouseenter",function(){e.onFrameMouseEnter(i)}),h.a.on(i.container,"mouseenter",function(){i.lockHide=!0}),h.a.on(i.container,"mouseleave",function(){i.lockHide=!1}),i.node.appendChild(g.a.create("style",{text:Object(f.a)([{selector:["body:hover .sf-btn-ctr:not(.sf-hide-ui) #sfYtFrameBtn","body:hover .sf-btn-ctr:not(.sf-hide-ui) .sf-popupMenu"],style:{display:"block"}}])})),this.onFrameMouseEnterBind&&(h.a.off(document.body,"mouseenter",this.onFrameMouseEnterBind),h.a.off(document.body,"mouseleave",this.onFrameMouseLeaveBind)),this.onFrameMouseEnterBind=this.onFrameMouseEnter.bind(this,i),this.onFrameMouseLeaveBind=this.onFrameMouseLeave.bind(this,i),h.a.on(document.body,"mouseenter",this.onFrameMouseEnterBind),h.a.on(document.body,"mouseleave",this.onFrameMouseLeaveBind),this.observeFrameVideoChange(i)}},frameQualityDetected:!1,frameQualityTimer:null,onFrameMouseEnterBind:null,onFrameMouseLeaveBind:null,onFrameMouseEnter:function(e){var t=this;this.frameQualityDetected||(clearTimeout(this.frameQualityTimer),this.frameQualityTimer=setTimeout(function(){t.frameQualityDetected||(t.frameQualityDetected=!0,t.quickBtn.setValue(e))},500))},onFrameMouseLeave:function(e){this.frameQualityDetected||clearTimeout(this.frameQualityTimer)},getTitle:function(){var e=document.getElementById("watch-headline-title");if(e)return e.textContent;for(var t=document.getElementsByTagName("meta"),n=0;n<t.length;n++){var o=t[n].getAttribute("name");if(o&&"title"==o.toLowerCase())return t[n].getAttribute("content")}return A||M.isMobile?document.title.replace(/ - YouTube$/,""):""},getTitleModify:function(){var e=M.getTitle();return e&&(e=_(e)),e},onMenuItemClick:function(e,t){t=t||{},e.format||o.a.sendMessage({action:"track",t:"event",ec:"youtube",ea:"new_format",el:e.itag+" "+t.videoId})},onDlBtnClick:function(e,t,o){if(o=o||{},!t)return e.preventDefault(),e.stopPropagation(),void h.a.trigger(this.parentNode.lastChild,"mousedown");M.onMenuItemClick(t,o),"ummy"!==t.quality&&t.forceDownload&&n.downloadOnClick(e)},quickBtn:{prepMenuLinks:function(e,t){for(var o,i=n.popupMenu.prepareLinks.youtube(e,t),a={},r=[],s=0;o=i[s];s++)"ummy"===o.quality&&(a[o.itag]=o),r.push({prop:o});return{menuLinks:i=n.popupMenu.sortMenuItems(r),ummyLinks:a}},setValueInSelectBtn:function(e,t){"object"!=typeof t&&(t=document.createTextNode(t));var n=e.selectBtn.firstChild;n===e.selectBtn.lastChild?e.selectBtn.insertBefore(t,n):e.selectBtn.replaceChild(t,n)},getBestItem:function(e){for(var t,n=[],o=0;t=e[o];o++)t.prop.noAudio||t.prop.noVideo||"ummy"!==t.prop.format&&(t.prop.extra||t.prop.isHidden||n.push(t.prop));if(n.length)return n[0]},bindDlBtn:function(e){var t=e.quickBtn;e.quickBtnEvent&&t.removeEventListener("click",e.quickBtnEvent),t.addEventListener("click",e.quickBtnEvent=function(t){t.stopPropagation(),e.link&&M.currentMenu&&M.hideCurrentMenu();var n={videoId:e.videoId||M.video_id};e.isPage?n.isPage=1:n.isFrame=1,M.onDlBtnClick.call(this,t,e.link,n)})},setBestValue:function(e,t){var n=e.quickBtn;e.link=t;var i=t.quality;t.noVideo||(i=parseInt(i)),t["3d"]&&(i="3D "+i),t.sFps&&(i+=" "+(t.fps||60));var a=g.a.create("span",{text:i,style:{marginLeft:"6px",verticalAlign:"bottom"}});e.setQuality?e.setQuality(a):this.setValueInSelectBtn(e,a);var r=[t.format,i];if(t.noAudio&&r.push(o.a.i18n.getMessage("withoutAudio")),r=r.join(" "),n.title=r,n.href=t.href,t.title&&t.format){var s=(t.ext||t.format||"").toLowerCase();s&&(s="."+s),n.setAttribute("download",b.a.modify(t.title+s))}},setUmmyBadge:function(e,t){var n=this,i=e.quickBtn;e.link=t,o.a.sendMessage({action:"getUmmyIcon"},function(t){var o=g.a.create("span",{style:{width:"16px",height:"20px",backgroundImage:"url("+t+")",backgroundRepeat:"no-repeat",backgroundPosition:"center",marginLeft:"6px",display:"inline-block",verticalAlign:"top"}});n.setValueInSelectBtn(e,o)}),i.title=function(e){return e.charAt(0).toUpperCase()+e.substr(1)}(t.quality),i.href=t.href,i.removeAttribute("download")},onGetLinks:function(e,t,n){var i=this;if(t){var a=(0,u.default)(t).length;t.meta&&a--}if(!t||!a)return this.setValueInSelectBtn(e,"");o.a.storage.get("ytLastITag",function(o){var a=o.ytLastITag;"ummyAudio"===a&&(a="ummy"),e.lastItag=a;var r=i.prepMenuLinks(t,n||M.getTitleModify());if(e.onGetLinksArr&&e.onGetLinksArr.forEach(function(e){return e(r.menuLinks)}),"ummy"===a&&r.ummyLinks[a])i.setUmmyBadge(e,r.ummyLinks[a]);else{var s=i.getBestItem(r.menuLinks);s?i.setBestValue(e,s):i.setValueInSelectBtn(e,"")}})},setValue:function(e){var t=this;this.bindDlBtn(e);var n=e.videoId||M.video_id;if(!n)return this.onGetLinks(e);var i=M.responseCache[n];if(i)return this.onGetLinks(e,i.links,i.title),void(i=null);var a={action:"getYoutubeLinks",extVideoId:n,url:location.href,noDash:!0};e.ytConfig&&(a.action="getYoutubeLinksFromConfig",a.config=e.ytConfig),o.a.sendMessage(a,function(n){return(n=n||{}).isQuick&&(e.quickBtn.dataset.isQuick="1"),t.onGetLinks(e,n.links,n.title)})}},videoFeed:{style:null,hrefIdPattern:/[\?&]v=([^&]+)/,imgIdPattern:/vi[^\/]*\/([^\/]+)/,rList:[/\/playlist\?/,/(user|channel|c|show)\/[^\/]+(\/feed|\/featured|\/videos|$)/i,/\/(feed)\/(trending|subscriptions|history)/i],testUrl:function(e){return this.rList.some(function(t){return t.test(e)})},injectStyle:function(){this.style?!this.style.parentNode&&document.head.appendChild(this.style):(this.style=g.a.create("style",{class:"sf-feed-style",text:Object(f.a)([{selector:[".contains-percent-duration-watched .sf-feed-btn"],style:{bottom:"6px"}},{selector:["a > .sf-feed-btn","div > .sf-feed-btn","span > .sf-feed-btn"],style:{display:"none",border:"1px solid #d3d3d3",width:"20px",height:"20px",padding:0,position:"absolute",right:"26px",bottom:"2px",borderRadius:"2px",background:"url("+n.svg.getSrc("download","#777777")+") center no-repeat #F8F8F8",backgroundSize:"12px",cursor:"pointer"}},{selector:["a > .sf-feed-btn.style-2"],style:{border:0,top:0,left:0,margin:"4px",padding:"2px 4px",background:"url("+n.svg.getSrc("download","#FFF")+") center no-repeat #000",backgroundSize:"14px",opacity:".8"}},{selector:["a > .sf-feed-btn:hover","div > .sf-feed-btn:hover","span > .sf-feed-btn:hover"],style:{background:"url("+n.svg.getSrc("download","#00B75A")+") center no-repeat #F8F8F8",backgroundSize:"12px"}},{selector:["a > .sf-feed-btn.style-2:hover"],style:{border:0,top:0,left:0,margin:"4px",padding:"2px 4px",background:"url("+n.svg.getSrc("download","#00B75A")+") center no-repeat #000",backgroundSize:"14px",opacity:".8"}},{selector:["a > .sf-feed-btn:active","div > .sf-feed-btn:active","span > .sf-feed-btn:active"],style:{outline:0,boxShadow:"inset 0 3px 5px rgba(0, 0, 0, 0.125)"}},{selector:["a:hover > .sf-feed-btn","div:hover > .sf-feed-btn","span:hover > .sf-feed-btn"],style:{display:"block"}}])}),document.head.appendChild(this.style))},rmBtn:function(){for(var e,t=document.querySelectorAll(".sf-feed-btn"),n=0;e=t[n];n++)e.parentNode.removeChild(e);["sfBtn","sfSkip"].forEach(function(o){var i=Object(l.a)(o);for(t=document.querySelectorAll("["+i+"]"),n=0;e=t[n];n++)e.removeAttribute(i)})},getBtnNode:function(e,t){var i=["sf-feed-btn"];return t&&i.push("style-"+t),g.a.create("i",{class:i,on:["click",function(t){t.preventDefault(),t.stopPropagation();var i=this;if(M.currentMenu&&M.currentMenu.isShow)M.hideCurrentMenu();else{var a=e,r=i.parentNode;if(r&&"A"===r.tagName&&"thumbnail"===r.id){var s=M.videoFeed.hrefIdPattern.exec(r.href);s&&(a=s[1])}var l=document.querySelector("#home-page-skeleton.hidden"),u=M.currentMenu=n.popupMenu.quickInsert(i,o.a.i18n.getMessage("download")+" ...","sf-popupMenu",{offsetTop:l?54:0,onShow:function(){h.a.onRemoveEvent(i,M.hideCurrentMenu)},onHide:function(){h.a.offRemoveEvent(i,M.hideCurrentMenu)},onItemClick:function(e,t){M.onMenuItemClick(t,{isFeedItem:1,videoId:a})}});o.a.sendMessage({action:"getYoutubeLinks",extVideoId:a,url:location.href,checkSubtitles:!0},function(e){if(e.links){var t=n.popupMenu.prepareLinks.youtube(e.links,e.title,e.subtitles);u.update(t)}else u.update(o.a.i18n.getMessage("noLinksFound"))})}}]})}},downloadPlaylist:function(){var e=function(e){for(var t,n=[],o=e.querySelectorAll("img[src]"),i=M.videoFeed.imgIdPattern,a=0;t=o[a];a++){var r=t.src.match(i);r&&-1===n.indexOf(r[1])&&n.push(r[1])}var s=e.querySelectorAll("*[data-video-id]");for(a=0;t=s[a];a++){var l=t.dataset.videoId;-1===n.indexOf(l)&&n.push(l)}return n},t=function(e,t,i,a){var r=!1,s={},l=0,u=0,d=e.length,c=void 0;"audio"===t?(c=["audio"],t=void 0):(c=["video"],t=parseInt(t)||void 0);var f=function f(){if(!r){var p=e[l];if(void 0===p)return 0===u?a(s):void 0;l++,u++,function(e,t,i,a){var r=-1!==i.indexOf("audio");o.a.sendMessage({action:"getYoutubeLinks",extVideoId:e,noDash:r},function(e){var o=void 0;e.links&&(o=n.popupMenu.prepareLinks.youtube(e.links,e.title),o=n.popupMenu.sortMenuItems(o,{noProp:!0,maxSize:t,minSize:2,typeList:i})),a(o)})}(p,t,c,function(e){var t=e?e[0]:void 0;if(t){var n=(t.ext||t.format||"").toLowerCase();n&&(n="."+n);var o=b.a.modify(t.title+n);s[p]={url:t.href,title:t.title,filename:o}}i(l,d),u--,f()})}};return f(),f(),{abort:function(){r=!0}}};return function(){var i=!1,a=void 0,r=function(e){var t,i,a,r,s,l=n.playlist.getInfoPopupTemplate();o.a.sendMessage({action:"getWarningIcon",type:"playlist",color:"#77D1FA"},function(e){l.icon.style.backgroundImage="url("+e+")"}),g.a.create(l.textContainer,{append:[g.a.create("p",{text:o.a.i18n.getMessage("playlist"),style:{color:"#0D0D0D",fontSize:"20px",marginBottom:"11px",marginTop:"13px"}}),i=g.a.create("div",{append:[g.a.create("p",{text:o.a.i18n.getMessage("quality")+":",style:{color:"#000000",fontSize:"14px",marginBottom:"13px",lineHeight:"24px"},append:[a=g.a.create("select",{style:{width:"75px",marginLeft:"5px"},append:[g.a.create("option",{text:"720",value:"720"}),g.a.create("option",{text:"480",value:"480"}),g.a.create("option",{text:"360",value:"360"}),g.a.create("option",{text:"240",value:"240"}),g.a.create("option",{text:"Audio",value:"audio"})]})]}),g.a.create("p",{text:o.a.i18n.getMessage("qualityNote"),style:{color:"#868686",fontSize:"14px",lineHeight:"24px"}})]}),t=g.a.create("p",{text:"",style:{color:"#868686",fontSize:"14px",lineHeight:"24px"}})]}),g.a.create(l.buttonContainer,{append:[s=g.a.create("button",{text:o.a.i18n.getMessage("cancel"),style:{height:"27px",width:"118px",backgroundColor:"#ffffff",border:"1px solid #9e9e9e",margin:"12px",marginBottom:"11px",marginRight:"4px",borderRadius:"5px",fontSize:"14px",cursor:"pointer"}}),r=g.a.create("button",{text:o.a.i18n.getMessage("continue"),style:{height:"27px",width:"118px",backgroundColor:"#ffffff",border:"1px solid #9e9e9e",margin:"12px",marginBottom:"11px",marginRight:"8px",borderRadius:"5px",fontSize:"14px",cursor:"pointer"}})]});var u=n.popupDiv(l.body,"pl_progress_popup",void 0,void 0,e);return{qualitySelect:function(e){t.style.display="none",l.buttonContainer.style.display="block",i.style.display="block",r.addEventListener("click",function(){e(a.value)}),s.addEventListener("click",function(){h.a.trigger(u,"kill")})},onPrepare:function(e){t.style.display="block",l.buttonContainer.style.display="none",i.style.display="none",t.textContent=e},onProgress:function(e,n){t.textContent=o.a.i18n.getMessage("vkFoundFiles").replace("%d",e)+" "+o.a.i18n.getMessage("vkFoundOf")+" "+n},onReady:function(e,t){h.a.trigger(u,"kill"),k?n.downloadList.showBeforeDownloadPopup(e,{type:"playlist",folderName:t}):n.playlist.popupPlaylist(e,t,!0,void 0,"video")},onError:function(e){o.a.sendMessage({action:"getWarningIcon",type:"playlist",color:"#AAAAAA"},function(e){l.icon.style.backgroundImage="url("+e+")"}),t.style.display="block",l.buttonContainer.style.display="none",i.style.display="none",t.textContent=e}}}(function(){i=!0,a&&a.abort()});r.qualitySelect(function(n){r.onPrepare(o.a.i18n.getMessage("download")+" ..."),function(t){var n=document,i=Object(s.a)(location.href);if(i.list)o.a.sendMessage({action:"getYoutubeIdListFromPlaylist",listId:i.list,baseUrl:location.protocol+"//"+location.host},function(n){if(!n)return t();if(!n.idList||0===n.idList.length){var o=document.querySelector(".playlist-videos-container > .playlist-videos-list");if(null!==o&&(n.idList=e(o)),!n.title){var i=document.querySelector(".playlist-info > .playlist-title");null!==i&&(n.title=i.textContent.replace(/\r?\n/g," ").trim())}}t(n.idList,n.title)});else{var a=e(n);t(a,M.getTitle())}}(function(e,s){i||(e&&0!==e.length?a=t(e,n,r.onProgress,function(e){var t=[];for(var n in e)t.push(e[n]);var o=b.a.modify(s);r.onReady(t,o)}):r.onError(o.a.i18n.getMessage("noLinksFound")))})})}}()};M.tutorial={show:function(e){if(this.hide(),a.onceShowYtTooltip){e.onClose=function(){t&&t.stop(),o.a.sendMessage({action:"updateOption",key:"onceShowYtTooltip",value:a.onceShowYtTooltip=0})},M.currentTutorial=new n.TutorialTooltip(e);var t=null,i=document.querySelector("#page.watch");i&&(t=M.currentTutorial.attrWatcher=n.mutationAttrWatcher.run({attr:"class",target:i,callback:function(){var e=M.currentTutorial;e&&e.tooltipNode.parentNode?e.onResize():t.stop()}}))}},hide:function(){var e=M.currentTutorial;e&&(e.onClose&&e.onClose(1),e.attrWatcher&&e.attrWatcher.stop(),M.currentTutorial=null)}};var _=function(e){return(e=(e=(e=(e=(e=e.replace(/[\x2F\x5C\x3A\x7C]/g,"-")).replace(/[\x2A\x3F]/g,"")).replace(/\x22/g,"'")).replace(/\x3C/g,"(")).replace(/\x3E/g,")")).replace(/(?:^\s+)|(?:\s+$)/g,"")},L=function(e){return n.bridge({func:"function(a){var b=window.ytplayer&&window.ytplayer.config;return b?void a({args:b.args,sts:b.sts,assets:b.assets}):a()}",timeout:300,cb:function(t){if(!t||!t.args||!t.args.video_id){var n=document.querySelector('#watch7-content meta[itemprop="videoId"]'),o=n&&n.getAttribute("content");o&&((t=t||{}).args=t.args||{},t.args.video_id=o)}e(t)}})},C=function(e){return n.bridge({func:'function(a){var b=document.querySelector("#movie_player");if(!b)return a({error:"PLAYER_IS_NOT_FOUND"});if(!b.getVideoData)return a({error:"PLAYER_API_IS_NOT_FOUND"});b.getUpdatedConfigurationData||function(a){a&&!a.sf_apply&&(a.sf_apply=a.apply,a.apply=function(c,d){var e=d[0];if(e&&e.video_id){var f=JSON.parse(JSON.stringify(e));b.getSfPlayerVars=function(){return f}}return a.sf_apply(c,d)})}(b.loadVideoByPlayerVars);var c=window.ytplayer&&window.ytplayer.config,d=c&&c.sts,e=b.getUpdatedConfigurationData&&b.getUpdatedConfigurationData(),f=e&&e.assets;f&&f.js||(f=c&&c.assets);var g=e&&e.args;g||(g=c&&c.args);var h=b.getVideoData()||{},i=b.getSfPlayerVars&&b.getSfPlayerVars();return a({result:{config:{sts:d,assets:f},video_id:h.video_id,sfConfig:i,ytConfig:g}})}',timeout:300,cb:function(t){if(!t)return S.debug("Response is empty"),e(null);if(t.error)return S.debug("Response error",t.error),e(null);var n=t.result;if(!n.config)return S.debug("Config is not exists"),e(null);var o=n.ytConfig||{},i=n.sfConfig||{},a=n.config||{},r=n.video_id;r||(r=M.getIdFromLocation()),!i.video_id||r&&r!==i.video_id?o.video_id&&r===o.video_id?(a.args=o,e(a)):e(r?{args:{video_id:r}}:null):(a.args=i,e(a))}})},O=function e(t,n,i){if(e.rmBtn(),n.showUmmyItem&&n.showUmmyBtn){var a="ummy://www.youtube.com/watch?v="+i,r=g.a.create("span",{class:"sf-btn-name",text:o.a.i18n.getMessage("download")+" "}),s=g.a.create("span",{text:"HD"}),l=g.a.create("i",{style:{position:"absolute",display:"inline-block",left:"6px",top:"3px",backgroundSize:"16px",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"16px",height:"16px"}});o.a.sendMessage({action:"getUmmyIcon"},function(e){l.style.backgroundImage="url("+e+")"});var u=g.a.create("div",{id:e.id,style:{display:"inline-block",marginLeft:"10px",verticalAlign:"middle"},on:["changeValue",function(e){var t=JSON.parse(e.detail),n=g.a.create("span",{text:t});s.parentNode.replaceChild(n,s),s=n}],append:[g.a.create("a",{class:"sf-quick-dl-btn",style:{display:"inline-block",fontSize:"inherit",height:"22px",border:"1px solid #CCCCCC",borderRadius:"3px",paddingRight:"8px",paddingLeft:"28px",cursor:"pointer",verticalAlign:"middle",position:"relative",lineHeight:"22px",textDecoration:"none",zIndex:1,color:"#575757"},href:a,append:[l,r,s],on:["click",function(){/^ummy/.test(this.href)&&o.a.sendMessage({action:"track",t:"event",ec:"youtube",ea:"download",el:"ummy hd"})}]}),g.a.create("style",{text:Object(f.a)([{selector:"#"+e.id,append:[{".sf-quick-dl-btn":{backgroundColor:"#F8F8F8"},".sf-quick-dl-btn:hover":{backgroundColor:"#EDEDED"},".sf-quick-dl-btn:active":{backgroundColor:"#F8F8F8"}},{media:"@media screen and (max-width: 1293px)",append:{".sf-quick-dl-btn .sf-btn-name":{display:"none"}}}]}])})]});return I.bindUmmyBtn(u,{video:"yt-"+i,vid:130}),u}};O.id="sf-ummy-btn",O.rmBtn=function(){for(var e,t=document.querySelectorAll("#"+O.id),n=0;e=t[n];n++)e.parentNode.removeChild(e)};var I={createInfoPopup:function(e,t){var n=g.a.create("div",{class:"sf-ummy-info-confirm-popup-container",style:{position:"absolute",zIndex:9999},append:[g.a.create("span",{style:{display:"inline-block",border:"8px solid transparent",borderRight:"10px solid rgb(192, 187, 187)",borderLeft:0,width:0,top:"8px",left:"11px",position:"absolute"}}),g.a.create("span",{style:{display:"inline-block",border:"8px solid transparent",borderRight:"10px solid #fff",borderLeft:0,width:0,top:"8px",left:"12px",position:"absolute"}}),g.a.create("div",{class:"sf-ummy-confirm-info-popup",style:{backgroundColor:"#fff",border:"1px solid #ccc",marginLeft:"21px",padding:"6px 5px",textAlign:"center",maxWidth:"240px",lineHeight:"16px",fontSize:"12px",fontFamily:"arial, sans-serif",cursor:"default"},append:[g.a.create("p",{append:Object(v.a)(o.a.i18n.getMessage("ummyTooltipConfirm")),onCreate:function(e){var t=e.querySelector("img");t.style.verticalAlign="text-bottom",o.a.sendMessage({action:"getUmmyIcon"},function(e){t.src=e})}}),g.a.create("p",{style:{textAlign:"right"},append:[g.a.create("a",{class:"sf-btn",style:{cssFloat:"left"},text:o.a.i18n.getMessage("yes"),href:e,on:["click",function(e){setTimeout(function(){o.a.storage.get({onceUmmyLandingHide:0},function(e){e.onceUmmyLandingHide||(e.onceUmmyLandingHide=0),o.a.storage.set({onceUmmyLandingHide:++e.onceUmmyLandingHide}),n.parentNode.removeChild(n),n.dataset.hide="1"})},250)}]}),g.a.create("a",{class:"sf-btn",text:o.a.i18n.getMessage("no"),href:t,target:"_blank"})]}),g.a.create("p",{append:[g.a.create("label",{append:[g.a.create("input",{type:"checkbox",on:["change",function(){o.a.storage.set({onceUmmyLandingHide:3}),n.parentNode.removeChild(n),n.dataset.hide="1"}]}),g.a.create("span",{text:o.a.i18n.getMessage("tooltipHide")})]})]}),g.a.create("style",{text:Object(f.a)({".sf-ummy-confirm-info-popup > p":{margin:"5px 0"},".sf-ummy-confirm-info-popup label > *":{verticalAlign:"middle"},".sf-ummy-confirm-info-popup .sf-btn":{display:"inline-block",fontSize:"inherit",height:"22px",border:"1px solid rgb(204, 204, 204)",borderRadius:"3px",cursor:"pointer",verticalAlign:"middle",position:"relative",lineHeight:"22px",textDecoration:"none",color:"rgb(87, 87, 87)",textAlign:"center",margin:"0 10px",width:"80px"},".sf-ummy-confirm-info-popup .sf-btn:hover":{backgroundColor:"#ededed"}})})]})],on:[["mouseclick",function(e){e.stopPropagation()}],["mousedown",function(e){e.stopPropagation()}]]});return n},bindUmmyBtn:function(e,t){if(a.showUmmyLanding){var i,r=this;i=/^Mac/.test(navigator.platform)?"http://videodownloader.ummy.net/save-from-youtube.html?"+x.stringify({vid:t.vid,video:t.video,utm_source:"savefrom-helper",utm_medium:"youtube-helper",utm_campaign:"ummy",utm_content:"ummy_integration_h"}):"http://videodownloader.ummy.net/?"+x.stringify({vid:111,utm_source:"savefrom-helper",utm_medium:"youtube-helper",utm_campaign:"youtube-helper-hd"}),o.a.storage.get({onceUmmyLandingOpened:0,onceUmmyLandingHide:0},function(t){if(!(t.onceUmmyLandingHide>2)){t.onceUmmyLandingHide||(t.onceUmmyLandingHide=0);var a=e.querySelector("a"),s=a.href;if(t.onceUmmyLandingOpened)return n.bindUmmyInfo(e,{expUmmyInfo:r.createInfoPopup.bind(r,s,i),noUmmy:!0});a.target="_blank",a.href=i;a.addEventListener("click",function t(){setTimeout(function(){a.removeEventListener("click",t),o.a.storage.set({onceUmmyLandingOpened:1}),a.target="_self",a.href=s,n.bindUmmyInfo(e,{expUmmyInfo:r.createInfoPopup.bind(r,s,i),noUmmy:!0})},250)})}})}}}},function(){return!/\/\/gaming\.youtube/.test(location.href)})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={4:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([44,0]),n()}({44:function(e,t,n){n.r(t);var o=n(0),i=n(12),a=n(5),r=n(13),s=n(6),l=n(2),u=n(4),d=n(15),f=function(){return parseInt(Date.now()/1e3,10)},p={getExpire:function(e,t){var n=f(),i=e+"_expire_";return o.a.storage.get([e,i],function(o){var a=void 0===o[i]||o[i]<n,r={};return r[e]=o[e],t(r,a)})},setExpire:function(e,t,n){var i=f(),a={};for(var r in e)a[r]=e[r],a[r+"_expire_"]=i+t;return o.a.storage.set(a,function(){return n&&n()})}},m=n(10),h=n(11),g=Object(m.a)("soundcloud_com");h.a.isSingle()&&Object(a.b)("soundcloud",function(e,t){var n=Object(i.a)(t),a=t.preferences,f=a.moduleSoundcloud?1:0;o.a.onMessage.addListener(function(t,n,o){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return o({state:f,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return m.changeState(t.state)}"updatePreferences"!==t.action||(0,c.default)(a,t.preferences)}),f&&setTimeout(function(){m.run()});var m={client_id:"fDoItMDbsbZz8dY16ZzARCZmzgHBPotA",lastRow:null,timer:0,btnClass:"savefrom-helper--btn",nodeId:0,tracks:{},audioElClassList:["soundList__item","searchList__item","trackList__item","compactTrackList__item","soundBadgeList__item"],refreshClientId:function(){n.bridge({func:'function(a){"undefined"==typeof webpackJsonp||webpackJsonp([],{0:function f(b,c,d){var e;(function g(){var a=[];for(var b in d)if(d.hasOwnProperty(b)){var c=d[b];if("object"==typeof c){var e=!1;for(var f in c){c[f].exports&&(e=!0);break}e&&a.push(c)}}return a})().some(function(a){for(var b in a){var c=a[b];if(c){var d=c.exports;if(d){var f=d._store;if(f&&(e=f.client_id,e))break}}}if(e)return!0}),a({client_id:e})}})}',cb:function(e){e&&e.client_id&&(p.setExpire({scClientId:e.client_id},21600),m.client_id=e.client_id)}})},loadClientId:function(e){var t=this;p.getExpire("scClientId",function(n,o){return n.scClientId&&(t.client_id=n.scClientId),o&&t.refreshClientId(),e()})},run:function(){f=1;var e=this;return this.loadClientId(function(){n.mutationWatcher.isAvailable()&&e.mutationMode.enable()})},changeState:function(e){f=e,m.mutationMode.stop(),m.rmBtn(),e&&m.run()},rmBtn:function(){["sfSkip","sfId","sfSingle"].forEach(function(e){for(var t,n=Object(s.a)(e),o=document.querySelectorAll("["+n+"]"),i=0;t=o[i];i++)t.removeAttribute(n)});for(var e,t=document.querySelectorAll("."+m.btnClass),n=0;e=t[n];n++)e.parentNode.removeChild(e)},handleRow:function(e,t){var n=e.querySelector(".soundActions .sc-button-group");if(n){var o=function(t){t&&m.appendButton(n,e,t)};if(t)0===n.getElementsByClassName(m.btnClass).length&&m.getTrackInfo(window.location.href,e,o);else{var i=e.querySelector("a.sound__coverArt[href], a.soundTitle__title[href], a.trackItemWithEdit__trackTitle[href], a.trackItem__trackTitle[href], .chartTrack__title>a[href]");null!==i&&m.getTrackInfo(i.href,e,o)}}},getTrackInfo:function(e,t,n){(e=e.replace(/#.*$/i,"")).search(/^\/\/(?:[\w-]+\.)?soundcloud\.com(?:\d+)?\//i)>-1?e=window.location.protocol+e:-1==e.search(/https?:\/\//i)&&("/"!=e.charAt(0)&&(e="/"+e),e=window.location.protocol+"//"+window.location.host+e);var o=m.tracks,i=o[e];if(!i){i=o[e]={cbList:[n]};var a={action:"getSoundcloudTrackInfo",trackUrl:e,client_id:m.client_id};return Object(d.a)(a).then(function(t){o[e]=m.setTrackInfo(t)},function(t){g.error("getSoundcloudTrackInfo",t),o[e]=null}).then(function(){for(var t;t=i.cbList.shift();)t(o[e])})}i.cbList?i.cbList.push(n):n(i)},setTrackInfo:function(e){var t=e.trackUrl,n=e.data;if(t&&n){var o={};if("track"!=n.kind&&n.tracks&&1==n.tracks.length&&(n=n.tracks[0]),"track"==n.kind&&n.stream_url)return m.setSingleTrackParams(o,n),o.checkLinks=e.checkLinks,o;if(n.tracks){for(var i=[],a=0,r=n.tracks.length;a<r;a++){var s={};m.setSingleTrackParams(s,n.tracks[a]),i.push(s)}if(i.length>0)return n.title&&(o.title=n.title),o.playlist=i,o.checkLinks=e.checkLinks,o}}},setSingleTrackParams:function(e,t){var n=t.stream_url;n+=-1==n.indexOf("?")?"?":"&",n+="client_id="+m.client_id,e.url=n;for(var o=["id","title","duration"],i=0;i<o.length;i++)t[o[i]]&&(e[o[i]]=t[o[i]]);e.title&&t.user&&t.user.username&&(e.title=t.user.username+" - "+e.title)},onDlBtnClick:function(e){n.downloadOnClick(e)},appendButton:function(e,t,i){var a=i;if(document.body.contains(t)&&(document.body.contains(e)||(e=t.querySelector(".soundActions .sc-button-group")))&&!(t.dataset.sfSkip>1)){t.dataset.sfSkip="2";for(var r=["sc-button-small","sc-button-medium","sc-button-large"],s=0;s<r.length;s++)e.querySelector("."+r[s])&&(r=[r[s]]);var l=document.createElement("a");t.dataset.sfId&&(l.dataset.sfParentId=t.dataset.sfId),l.className=m.btnClass+" sc-button sc-button-responsive "+r[0],l.style.position="relative";var d=document.createElement("img");if(a.playlist){l.href="#",l.title=o.a.i18n.getMessage("playlist");var c=a.title?u.a.modify(a.title):"soundcloud";l.addEventListener("click",function(e){e.preventDefault(),setTimeout(function(){n.playlist.popupPlaylist(a.playlist,c,!0)},100)},!1),!1===a.checkLinks?d.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAJElEQVQoz2P4//8/A7mYgWqa6+vr/xPCtNE86udRP9PWz6RiANU4hUYGNDpOAAAAAElFTkSuQmCC":d.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAMUlEQVR42mL8//8/A7mAiYECwILC82Uk7IzN/xmpYjPjqJ9H/UxTP1OkGQAAAP//AwDcahUV6UvyJwAAAABJRU5ErkJggg==",d.alt=o.a.i18n.getMessage("playlist")}else!1===a.checkLinks?(l.href="#",l.title=o.a.i18n.getMessage("noLinksFound"),l.addEventListener("click",function(e){e.preventDefault(),n.showTooltip(this,o.a.i18n.getMessage("noLinksFound"),void 0,{backgroundColor:"#fff",border:"1px solid #777",padding:"2px 5px 3px"})}),d.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAVklEQVQoz2P4//8/A7mYgSqa0UF9ff1/GEaXG0SagYrmI2vAg+djtZkIA+bjdTYeA+YT5WcsBswnNcDmY9NIlGaoAQnYxHEFGMHQxqe5gRDGqpnuGQMALmDKhkjc9oYAAAAASUVORK5CYII=",d.alt="noLinksFound"):(l.href=a.url,l.title=o.a.i18n.getMessage("download"),a.title&&(l.setAttribute("download",u.a.modify(a.title.trim()+".mp3")),l.addEventListener("click",this.onDlBtnClick,!1)),d.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAPklEQVR42mNgGHTgvw/DfxgexJqBiuYja8CD55NrwHxyXTCfWP/OJ0sjFgPmkxvXCWRFDy6MT3MDITw40j8Ak46HYQ4gDfUAAAAASUVORK5CYII=",d.alt="download");n.setStyle(d,{width:"15px",height:"15px",position:"absolute",top:"50%",left:"50%",margin:"-7px 0 0 -7px"}),l.appendChild(d),e.appendChild(l),d=null,l=null,e=null}},mutationMode:{observer:null,stop:function(){m.mutationMode.observer&&m.mutationMode.observer.stop()},enable:function(){if(m.mutationMode.observer)return m.mutationMode.observer.start();var e=function(){var t=null;return function(){var n=this;clearTimeout(t),t=setTimeout(function(){l.a.off(n,"mouseenter",e),f&&m.handleRow.call(m,n)},250)}}();m.mutationMode.observer=n.mutationWatcher.run({callback:function(t){var n,o,i,a;for(i=0;i<6;i++)for(n=t[i],o=0;a=n.added[o];o++)a.dataset.sfSkip>0||(a.dataset.sfSkip="1",a.dataset.sfId=""+m.nodeId++,l.a.on(a,"mouseenter",e));for(i=6;i<8;i++)for(n=t[i],o=0;a=n.added[o];o++){var u=null;if(!((u=6===i?Object(r.a)(a,"listenEngagement"):Object(r.a)(a,"visualSound")).dataset.sfSingle>0)){if(u.dataset.sfSkip="1",u.classList.contains("streamContext"))return;u.dataset.sfSingle="1",m.handleRow(u,1)}}for(n=t[8],o=0;a=n.removed[o];o++){if(!(a=document.querySelector("["+Object(s.a)("sfId")+'="'+a.dataset.sfParentId+'"]')))return;if(a.dataset.sfSingle)return;a.dataset.sfSkip="1",document.body.contains(a)&&m.handleRow(a)}},queries:[{css:"li.trackList__item",is:"added"},{css:"li.compactTrackList__item",is:"added"},{css:"li.searchList__item",is:"added"},{css:"li.soundList__item",is:"added"},{css:"li.soundBadgeList__item",is:"added"},{css:"li.chartTracks__item",is:"added"},{css:"div.listenEngagement .soundActions .sc-button-group",is:"added"},{css:"div.visualSound .soundActions .sc-button-group",is:"added"},{css:".savefrom-helper--btn",is:"removed"}],filterTarget:[{css:"div.waveform__layer"},{css:"a.commentPopover__username"},{css:".commentPopover"},{css:"div.playbackTimeline__timePassed"},{css:"div.commentsList"},{css:"div.commentsList__item"},{css:"div.commentsList__body"}]})}}}})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={5:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([30,0]),n()}({30:function(e,t,n){n.r(t);var o=n(0),i=n(12),a=n(5),r=n(7),s=n(13),l=n(14),p=n(22),m=n(6),h=n(18),g=n(3),v=n(8),b=n(9),y=n(21),k=n(16),w=n(17),x=n(2),S=n(1),A=n(19),M=n(4),_=n(15),L=n(10),C=n(11),O=n(20),I=Object(L.a)("odnoklassniki_ru");C.a.isSingle()&&Object(a.b)("vk",function(e,t){var n=Object(i.a)(t),a=t.preferences,L=a.moduleVkontakte?1:0,C=o.a.isChrome||o.a.isFirefox||o.a.isGM&&o.a.isTM,P=Object(r.a)(),T=!1;if(P)if(/\/video_ext\.php\?.+/.test(location.href))T=!0;else{if(!/\/widget_comments\.php\?.+/.test(location.href))return;P=!1}o.a.onMessage.addListener(function(t,n,o){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return o({state:L,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return E.changeState(t.state)}"updatePreferences"!==t.action?L&&("updateLinks"===t.action&&F(),"downloadMP3Files"===t.action&&(C?R.downloadMP3Files():R.showListOfAudioFiles(!1)),"downloadPlaylist"===t.action&&R.showListOfAudioFiles(!0),"downloadPhotos"===t.action&&U.downloadPhoto()):(0,c.default)(a,t.preferences)}),L&&setTimeout(function(){E.run()});var E={contextMenu:null,isMutation:!1,run:function(){if(L=1,/m\.vk\.com/.test(location.hostname))return H.run();T?q.addFrameBtn():(U.injectStyle(),n.mutationWatcher.isAvailable()&&(E.isMutation=!0,R.addCustomStyle(),E.mutationMode.enable()))},changeState:function(e){P||(L=e,D(),R.hideLinks(),V.off(),E.hideMenu(),U.rmCurrentPhotoBtn(),R.rmBitrate(),U.rmPhotoAlbumDlBtn(),E.mutationMode.stop(),e&&E.run())},hideMenu:function(){E.contextMenu&&(E.contextMenu.hide(),E.contextMenu=null)},mutationMode:{observer:null,stop:function(){this.observer&&this.observer.stop(),["sfSkip"].forEach(function(e){for(var t,n=Object(m.a)(e),o=document.querySelectorAll("["+n+"]"),i=0;t=o[i];i++)t.removeAttribute(n)})},wrapNewAudioOnMouseOver:function(){L&&R.onNewMouseOver.apply(this,arguments)},wrapVideoFeedOnMouseOver:function(){L&&V.onLinkHover.apply(this,arguments)},onVideoInsert:function(e){var t=n.getParentById(e,"mv_box"),o=q.getPlayerNode(t);o?q.getLinksFromPlayer(t,o,q.newAppendButton.bind(q)):e.dataset.sfSkip=0},onVideoChange:function(e){var t=this;if(/video_box_wrap-?\d+_-?\d+/.test(e.id))if(e.sfWatch)t.onVideoInsert(e);else{e.sfWatch=!0;var o=n.mutationAttrWatcher.run({attr:"id",target:e,callback:function(){t.onVideoInsert(e)}});x.a.onRemoveEvent(e,function(){o.stop(),e.sfWatch=!1,e.dataset.sfSkip=0})}else t.onVideoInsert(e)},enable:function(){var e=this;if(this.observer)return this.observer.start();this.observer=n.mutationWatcher.run({callback:function(t){var n,o,i,a;for(n=t[0],o=0;a=n.added[o];o++)a.dataset.sfSkip>0||(a.dataset.sfSkip="1",x.a.one(a,"mouseenter",E.mutationMode.wrapVideoFeedOnMouseOver));for(n=t[1],o=0;a=n.added[o];o++)a.dataset.sfSkip>0||(a.dataset.sfSkip="1",e.onVideoChange(a));for(n=t[2],o=0;a=n.added[o];o++)(a=a.parentNode).dataset.sfSkip>0||(a.dataset.sfSkip="1",e.onVideoChange(a));for(n=t[3],o=0;a=n.added[o];o++)a.dataset.sfSkip>0||(a.dataset.sfSkip="1",U.addNewPhotoAlbumDlBtn(a));for(n=t[4],o=0;a=n.added[o];o++)a.dataset.sfSkip>0||(a.dataset.sfSkip="1",U.addNewDlCurrentPhotoBtn(a));for(i=5;i<8;i++)for(n=t[i],o=0;a=n.added[o];o++)a.dataset.sfSkip>0||(a.dataset.sfSkip="1",x.a.one(a,"mouseenter",E.mutationMode.wrapNewAudioOnMouseOver));for(n=t[8],o=0;a=n.removed[o];o++)x.a.onRemoveListener(a)},queries:[{css:".post_video_desc a.lnk",is:"added"},{css:"#mv_box #mv_player_box > .video_box_wrap",is:"added"},{css:"#mv_box #mv_player_box > .video_box_wrap > #video_player",is:"added"},{css:"#photos_all_block",is:"added"},{css:".pv_photo_wrap .pv_img_area_wrap",is:"added"},{css:".audio_row",is:"added"},{css:".top_audio_player .top_audio_player_title",is:"added"},{css:".audio_page_player .audio_page_player_title_performer",is:"added"},{css:"."+x.a.onRemoveClassName,is:"removed"}]})}}},F=function(){E.changeState(0),E.changeState(1)},D=function(){R.lastRow=null;for(var e=document.querySelectorAll("a.savefrom_vk_download,div.savefrom_vk_download,span.savefrom_vk_download"),t=e.length-1;t>=0;t--)R.elIsHidden(e[t])&&e[t].parentNode.removeChild(e[t])},N=function(){var e=document.title,t=e.indexOf("|");return-1!==t&&(e=e.substr(0,t-1)),M.a.modify(e)},B=function(e){for(var t=function(e){return!0===e?1:parseInt(e)||0},n=function(e){return!0===e?1:parseFloat(e)||0},o=e.split("<!>"),i=o.length-1;i>=0;--i){var a=o[i];if("<!"==a.substr(0,2)){var r=a.indexOf(">"),s=a.substr(2,r-2);switch(a=a.substr(r+1),s){case"json":var l=null;try{l=JSON.parse(a)}catch(o){}o[i]=l;break;case"int":o[i]=t(a);break;case"float":o[i]=n(a);break;case"bool":o[i]=!!t(a);break;case"null":o[i]=null;break;case"pageview_candidate":o.pop();break;case"debug":o.pop()}}}return o},j=function(e){return/<em>.*<\/em>/.test(e)&&(e=e.replace(/<\/?em>/g,"")),e},R={audioElClassList:["audio","audioRow","audioRowWall"],lastRow:null,className:"savefrom_vk_download",cache:{},lastValidRequest:null,waitUntilUnblock:function(e){var t=this,n=10;if(!t.lastValidRequest)return f.default.reject(new Error("Last valid request is empty!"));return function o(){return new f.default(function(e){setTimeout(e,15e3)}).then(function(){if(e.abort)throw new Error("Abort");return Object(w.a)(t.lastValidRequest).then(function(e){if(n--,!B(e.body)[5]){if(n>0)return o();throw new Error("Can't request data")}})})}().then(function(){return new f.default(function(e){setTimeout(e,250)})})},needUnmask:function(e){var t=/audio_api_unavailable/;return e.some(function(e){if(t.test(e[2]))return!0})},unmaskUrlViaPlayer:function(){var e=null,t=function(e){return new f.default(function(t){n.bridge({args:[e],func:'function(a,b){try{var c=new Function([],"return "+a)();a=null;var d=null;for(var e in c){var f=c[e];if(/\\.audioUnmaskSource=/.test(f)){d=e;break}}if(null===d)for(var e in c){var f=c[e];if(/"audioUnmaskSource"/.test(f)){d=e;break}}if(null===d)throw new Error("Unmask fn is no found!");var g={},h=function(a){if(g[a])return g[a].exports;var b=g[a]={exports:{},id:a,loaded:!1};return c[a].call(b.exports,b,b.exports,h),b.loaded=!0,b.exports};h.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},h.d=function(a,b,c){h.o(a,b)||Object.defineProperty(a,b,{configurable:!1,enumerable:!0,get:c})},h.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var i=h(d);if(!i.audioUnmaskSource)throw new Error("Unmask fn is no exists!");window.sfUnmaskUrl=i.audioUnmaskSource,b(!0)}catch(a){b(!1)}}',cb:t})}).then(function(e){if(!e)throw new Error("Can't create unmask function!")})},o=function(e){return Object(w.a)({url:e,localXHR:!0}).then(function(e){var t=e.body,n="",o=t.indexOf("([function");if(-1!==o&&(n=t.substr(o)),-1===o){if(-1===(o=t.indexOf("({0:function"))){var i=/(\({\d+:function)/.exec(t);i&&(o=t.indexOf(i[1]))}if(-1===o){var a=/(\({"[^"]+":function)/.exec(t);a&&(o=t.indexOf(a[1]))}-1!==o&&(n=t.substr(o))}if(!n)throw new Error("Modules is not found!");return n})};return function(n){return R.needUnmask(n)?(null===e&&(e=function(){var e=/m\.vk\.com/.test(location.hostname),t=null;t=e?[/\/js\/s_c\.js\?\d+/]:[/\/js\/al\/audioplayer\.js\?\d+/,/\/cmodules\/web\/audioplayer\.js\?\d+/];var n="";return[].slice.call(document.querySelectorAll("script[src]")).some(function(e){var o=e.src;return t.some(function(e){if(e.test(o))return n=o,!0})}),n?f.default.resolve(n):f.default.reject(new Error("Player url is not found!"))}().then(o).then(t).then(function(){e=!0}).catch(function(t){I.debug("Unmask via player error!",t),e=!1})),"boolean"==typeof e?R.unmaskUrl(n):e.then(function(){return R.unmaskUrl(n)})):f.default.resolve(n)}}(),unmaskUrl:function(e){return R.needUnmask(e)?new f.default(function(t){n.bridge({args:[e],func:'function(a,b){var c=!1,d=!1,e=function(a){var b="";if(!c&&window.sfUnmaskUrl)try{b=window.sfUnmaskUrl(a)}catch(a){c=!0}if(!d&&!b&&window.AudioPlayerFlash)try{var e={};window.AudioPlayerFlash.prototype.setUrl.apply(e,[a]),b=e._url}catch(a){d=!0}return"string"!=typeof b&&(b=""),b};a.forEach(function(a){var b=e(a[2]);b&&(a[2]=b)}),b(a)}',cb:t})}).then(function(t){return t||e}):f.default.resolve(e)},_getNewTrackListByIds:function(e,t){var n=this;t=t||{};for(var o=0,i={},a=n.cache,r=e.filter(function(e){return!a[e]||(i[e]=a[e],o++,!1)}),s=[];r.length;)s.push(r.splice(0,10));var l=e.length,d=f.default.resolve();return s.forEach(function(e){var r=function(){if(t.abort)throw new Error("Abort");var r;return Object(w.a)(r={type:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},data:O.stringify({act:"reload_audio",al:1,ids:e.join(",")}),url:"/al_audio.php",localXHR:!0}).then(function(e){var s=B(e.body)[5];if(!s)throw new Error("Track list is not found!");return n.lastValidRequest=r,s.forEach(function(e){var t=e[1]+"_"+e[0];a[t]=e,i[t]=e,o++}),t.onProgress&&t.onProgress(o,l),new f.default(function(e){setTimeout(e,250)})})};d=d.then(function(){return r().catch(function(e){if("Track list is not found!"!==e.message)throw e;if(!t.withoutUnblock)return n.waitUntilUnblock(t).then(r)}).catch(function(e){"Abort"!==e.message&&I.debug("requestIds error!",e)})})}),d=(d=d.then(function(){(0,u.default)(a).slice(1e3).forEach(function(e){delete a[e]});var t=[];return e.forEach(function(e){var n=i[e];n&&t.push(n)}),t})).then(function(e){return R.unmaskUrlViaPlayer(e)})},_getAlbumIdFromUrl:function(e){var t=this,n=[e],o=Object(l.a)(e);o.z&&n.unshift(o.z);var i=null;return n.some(function(e){if(i=t._getAlbumId(e))return!0}),i},_getAlbumId:function(e){if(/[?&]q=/.test(e))return null;var t={url:"/al_audio.php",data:{}},n=/audio_playlist(-?\d+)_(-?\d+)(?:\/(\w+))?/.exec(e);if(n&&(t.data.access_hash=n[3]||"",t.data.act="load_section",t.data.al=1,t.data.claim=0,t.data.owner_id=n[1],t.data.playlist_id=n[2],t.data.type="playlist",t.data.offset=0),!t.data.act){var o=/audios(-?\d+)/.exec(e);if(o){var i=/[?&]section=(\w+)/.exec(e),a=i&&i[1];if(a&&-1===["playlists","all"].indexOf(a))return null;t.data.access_hash="",t.data.act="load_section",t.data.al=1,t.data.claim=0,t.data.owner_id=o[1],t.data.playlist_id=-1,t.data.type="playlist",t.data.offset=0}}return t.data.act?t:null},getNewNodeTrackInfo:function(e,t){var n=this.readNewDataAudio(e.dataset.audio),o=this.getNewTrackInfo(n);return o?o.url?R.unmaskUrlViaPlayer([[null,null,o.url]]).then(function(e){o.url=e[0][2],t(null,o)}):o.fullId?t(null,o):t("Track info is not found!"):t("Track info is not found!")},_getAlbumTrackViaApi:function(e,t){if(!e.url)throw I.debug("Page is not exists!",e),new Error("Page is not exists!");var n=JSON.parse((0,d.default)(e.data)),o=function(){return t.abort?f.default.reject(new Error("Abort")):Object(w.a)({type:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},url:e.url,data:n,timeout:6e4,localXHR:!0}).then(function(e){var t=B(e.body)[5];if(!t)throw new Error("Album data is empty!");return new f.default(function(e){setTimeout(e,250)}).then(function(){return t})})};return o().then(function(e){var t=20;return e.hasMore?function i(a){return!a||t<0?e:(t--,n.offset=a,o().then(function(t){return t.list.length?(e.list.push.apply(e.list,t.list),t.hasMore?i(t.nextOffset):e):e},function(t){return"Abort"!==t.message&&I.debug("getOffset error!",t),e}))}(e.nextOffset):e})},_getAllTrackViaDom:function(e,t){var n=this;t=t||{};var o=[];return[].slice.call(e.querySelectorAll(".audio_row")).forEach(function(e){if((!t.fromPage||!n.elIsHidden(e))&&(t.grabReply||!U.isReply(e))){var i=null;try{i=JSON.parse(e.dataset.audio)}catch(e){}i&&o.push(i)}}),{list:o}},_getNewAudioLinks:function(e,t){var n=this;t=t||{};var i=(e=e||document)===document,a=U.getPopup("","audio",function(){t.abort=!0});a.onPrepare(o.a.i18n.getMessage("download")+" ...");var r=function(){return f.default.resolve().then(function(){return n._getAllTrackViaDom(e,{fromPage:i,grabReply:!1})})};t.onProgress=function(e,t){a.onProgress(e,t)};var s=f.default.resolve();return(s=(s=(s=i?s.then(function(){return f.default.resolve().then(function(){var e=n._getAlbumIdFromUrl(location.href);if(!e)throw new Error("Album is not found");return n._getAlbumTrackViaApi(e,t)})}).catch(function(e){throw"Album is not found"!==e.message&&I.debug("findAlbumLinks error!",e),e}).catch(function(){return r()}):s.then(r)).then(function(e){var t=e.list;if(!t.length)throw new Error("Audio is not found");return a.onProgress(0,t.length),e})).then(function(e){var o=[],i="";return"string"==typeof e.title&&(i=M.a.modify(e.title)),e.list.forEach(function(e){var t=e[1]+"_"+e[0];-1===o.indexOf(t)&&o.push(t)}),n._getNewTrackListByIds(o,t).then(function(e){var t={},o=[];return e.forEach(function(e){var i=n.getNewTrackInfo(e);if(i&&i.url){var a=n.getNewAudioFilename(i),r=n.getNewAudioFullTitle(i);t[i.fullId]=i.url,o.push({url:i.url,title:r,filename:a})}}),{linkList:t,trackList:o,title:i}})})).then(function(e){return a.onReady(),e},function(e){throw a.onReady(),e})},tooltip:{tooltip:void 0,updatePos:function(e,t){var o=n.getPosition(e),i=n.getSize(this.tooltip);this.tooltip.style.top=o.top+t.top-i.height+"px";var a=o.left+parseInt(t.width/2)-parseInt(i.width/2),r=document.body.clientWidth+document.body.scrollLeft;r<a+i.width&&(a=r-i.width),this.tooltip.style.left=a+"px"},show:function(e,t){var n=this;return void 0!==this.tooltip?this.hide():(this.tooltip=S.a.create("div",{class:"sf-tooltip",style:(0,c.default)({position:"absolute",display:"none",zIndex:9999,opacity:0,transition:"opacity 0.2s",whiteSpace:"nowrap"},t.style),on:["mouseenter",function(e){n.hide()}]}),document.body.appendChild(this.tooltip)),this.tooltip.style.display="block",setTimeout(function(){n.updatePos(e,t),n.tooltip.style.opacity=1},0),this.tooltip},hide:function(){this.tooltip&&(this.tooltip.style.opacity=0,this.tooltip.style.display="none")}},rmBitrate:function(){void 0===R.rmBitrate.style&&document.body.appendChild(R.rmBitrate.style=S.a.create("style",{text:".sf-bitrate-value {display: none;}"}));for(var e,t=document.querySelectorAll(".sf-bitrate-value"),n=0;e=t[n];n++)e.parentNode.removeChild(e)},insertNewBitrate:function(e,t){if(e&&t&&t.classList.contains("audio_row__info")){var n=t.querySelector(".audio_row__duration");if(n&&(void 0!==R.rmBitrate.style&&(R.rmBitrate.style.parentNode.removeChild(R.rmBitrate.style),R.rmBitrate.style=void 0),!n.querySelector(".sf-bitrate-value"))){var o=S.a.create("span",{text:" "+e,class:"sf-bitrate-value",style:{position:"absolute",textAlign:"right",right:0,opacity:"0.8",top:"14px",fontSize:"11px",whiteSpace:"nowrap"}});n.appendChild(o)}}},onDlBtnLeave:function(){R.tooltip.hide()},onDlBtnOver:function(){var e=R,t=e.tooltip,n=this,i=n.dataset.fullId,a=n.parentNode&&n.parentNode.parentNode,r=-6;n.dataset.bitrateOffsetTop&&(r=parseInt(n.dataset.bitrateOffsetTop));var s={top:r,width:24,style:{backgroundColor:"#fff",border:"1px solid #ccc",color:"rgb(48, 48, 48)"}},l=t.show(n,s);l.dataset.fullId=i;var u=function(){var t=n.dataset.bitrate,i=n.dataset.size,r="";i?t?(e.insertNewBitrate(t,a),r=i+" ~ "+t):r=i:r=o.a.i18n.getMessage("getFileSizeFailTitle"),l.style.padding="2px 5px 3px",l.textContent=r};n.dataset.size?u():(l.style.padding="2px 2px 0 2px",l.textContent="",l.appendChild(S.a.create("img",{src:"/images/upload.gif",height:8,width:32,style:{marginTop:"2px",marginBottom:"1px"}})),n.dataset.preloadOver||(n.dataset.preloadOver=1,e._preloadNewTrackUrl(n).then(function(o){return n.dataset.preloadOver=2,n.href=o,e._onOverInsertBitrate(n,a).then(function(){l.dataset.fullId===i&&(u(),t.updatePos(n,s))})}).catch(function(e){n.dataset.preloadOver="",l.dataset.fullId===i&&(u(),t.updatePos(n,s))})))},preloadIdPromiseMap:{},_preloadNewTrackUrl:function(e){var t=this,n=t.preloadIdPromiseMap,o=e.dataset.fullId,i=n[o];return i||(i=n[o]=t._getNewTrackListByIds([o],{withoutUnblock:!0}).then(function(e){delete n[o];var i=null;e.some(function(e){if(e[1]+"_"+e[0]===o)return i=e,!0});var a=i&&t.getNewTrackInfo(i);if(!a||!a.url)throw new Error("Track is not found");return a.url},function(e){throw delete n[o],e})),i},onNewDlBtnClick:function(e){n.downloadOnClick(e);for(var t,o=document.querySelectorAll("._audio_row_"+this.dataset.fullId),i=0;t=o[i];i++)t.style.backgroundColor="#f4f7fc"},_onNewDlBtnClickWrapper:function(e){var t=R,n=this;e.stopPropagation(),(n.dataset.preloadOver>1||n.dataset.preloadBitrate>1)&&(n.dataset.preloadDl=2),n.dataset.preloadDl?n.dataset.preloadDl>1?R.onNewDlBtnClick.call(n,e):e.preventDefault():(e.preventDefault(),n.dataset.preloadDl=1,t._preloadNewTrackUrl(n).then(function(t){n.dataset.preloadDl=2,n.href=t,R.onNewDlBtnClick.call(n,e)},function(){n.dataset.preloadDl=""}))},getNewDlBtn:function(e,t){var n={href:e.url||"#sf-preload",class:[R.className,"sf-audio-btn"],download:M.a.modify(t)||"",data:{duration:e.duration||"",fullId:e.fullId},style:{width:"16px",height:"16px"},on:[["mouseenter",this.onDlBtnOver],["mouseleave",this.onDlBtnLeave],["click",this._onNewDlBtnClickWrapper],["mousedown",function(e){e.stopPropagation()}]]};return(o.a.isGM||o.a.isSafari)&&(n.title=o.a.i18n.getMessage("downloadTitle")),S.a.create("a",n)},preloadSizePromiseMap:{},_onOverInsertBitrate:function(e,t){var i=this,a=i.preloadSizePromiseMap,r=e.dataset.fullId,s=a[r];return s||(s=a[r]=Object(_.a)({action:"getFileSize",url:e.href}).then(function(s){if(delete a[r],!s)throw new Error("Response is empty");if(!s.fileSize)throw delete i.cache[r],new Error("File size is empty");var l=n.sizeHuman(s.fileSize,2),u="";e.dataset.duration&&(u=Math.floor(s.fileSize/e.dataset.duration/125)+" "+o.a.i18n.getMessage("kbps")),e.dataset.bitrate=u,e.dataset.size=l,R.insertNewBitrate(u,t)},function(e){throw delete a[r],e})),s},getNewAudioFullTitle:function(e){var t=[];return e.title&&t.push(e.title),e.performer&&(t.length&&t.unshift(" - "),t.unshift(e.performer)),t.join("")},getNewAudioFilename:function(e){var t=this.getNewAudioFullTitle(e);return t&&(t+=".mp3"),t},handleNewCurrentAudioRow:function(e,t,o){if(!e.querySelector("."+R.className)){var i=this.getNewAudioFilename(t),a=this.getNewDlBtn(t,i),r="#6C8CAC";1===o&&(r="#C4D1DE"),a.classList.remove("sf-audio-btn"),S.a.create(a,{style:{background:"url("+n.svg.getSrc("download",r)+") center no-repeat",backgroundSize:"12px",width:"12px",height:"12px",padding:0,margin:0,cssFloat:"left",marginRight:"3px",marginTop:"1px",marginBottom:"-2px"}});var s=null;if(x.a.onRemoveEvent(a,function(){x.a.one(e,"mouseenter",E.mutationMode.wrapNewAudioOnMouseOver),s&&s.stop()}),2===o){var l=Object(b.a)(e,".audio_page_player");l&&(s=n.mutationAttrWatcher.run({target:l,attr:["data-full-id"],callback:function(){a.parentNode&&a.parentNode.removeChild(a),s&&s.stop()}}))}1===o&&(a.dataset.bitrateOffsetTop=1),e.insertBefore(a,e.firstChild)}},handleNewAudioRow:function(e,t,n){if(!e.querySelector("."+R.className)){var o=this,i=this.getNewAudioFilename(n),r=this.getNewDlBtn(n,i),s=t.parentNode;S.a.create(r,{class:["audio_row__action"],style:{width:"24px",height:"24px",cssFloat:"left"}});var l=t.firstChild;l?t.insertBefore(r,l):t.appendChild(r),1===a.vkShowBitrate&&(r.dataset.preloadBitrate||(r.dataset.preloadBitrate=1,o._preloadNewTrackUrl(r).then(function(e){return r.dataset.preloadBitrate=2,r.href=e,o._onOverInsertBitrate(r,s)}).catch(function(e){})))}},addNewDlTrackBtn:function(e){var t=this,o=function(){r.disconnect()},i=null,a=function(n){i||(i=new f.default(function(n,o){t.getNewNodeTrackInfo(e,function(e,t){e?o(e):n(t)})}).catch(function(e){o()})),i.then(function(o){o&&function(n,o){t.handleNewAudioRow(e,n,o)}(n,o)})},r=new(n.mutationWatcher.getMutationObserver())(function(e){if(L){for(var t=null,n=null,i=0;t=e.shift();)if("childList"===t.type&&t.addedNodes.length&&t.target.classList.contains("audio_row__info"))for(i=0,t.addedNodes;n=t.addedNodes[i];i++)if(n.classList.contains("audio_row__actions"))return void a(n)}else o()});r.observe(e,{childList:!0,subtree:!0});var s=e.querySelector(".audio_row__actions");s&&(a(s),s=null)},getNewTrackInfo:function(e){if(!e)return null;var t={};return"string"==typeof e[2]&&(t.url=e[2]),t.title=e[3],t.title&&(t.title=M.a.decodeSpecialChars(j(t.title))),t.performer=e[4],t.performer&&(t.performer=M.a.decodeSpecialChars(j(t.performer))),t.duration=parseInt(e[5]),e[1]&&e[0]&&(t.fullId=e[1]+"_"+e[0]),t.id=e[0],t.ownerId=e[1],t},readNewDataAudio:function(e){try{return JSON.parse(e)}catch(e){return null}},addNewDlCurrentTrackBtn:function(e,t){var o=this;n.bridge({func:'function(a){var b=null;if(!b&&"undefined"!=typeof ap&&ap._currentAudio&&(b=ap._currentAudio),!b&&"undefined"!=typeof cur&&cur.audioPage&&cur.audioPage._readyAudio&&(b=cur.audioPage._readyAudio),!b)try{b=JSON.parse(localStorage.audio_v9_track)}catch(a){}return a(b)}',cb:function(n){if(!n){var i=document.querySelector(".audio_page_player[data-audio]");n=i&&o.readNewDataAudio(i.dataset.audio)}var a=n&&o.getNewTrackInfo(n);if(a){var r=function(n){o.handleNewCurrentAudioRow(e,n,t)};a.url?r(a):a.fullId&&r(a)}},timeout:300})},onNewMouseOver:function(e){var t=R;if(this&&!this.querySelector("."+R.className)){var n=null;this.classList.contains("top_audio_player_title")&&(n=1),this.classList.contains("audio_page_player_title_performer")&&(n=2),n?t.addNewDlCurrentTrackBtn(this,n):t.addNewDlTrackBtn(this)}},addCustomStyle:function(){if(1!==this.addCustomStyle.hasStyle){this.addCustomStyle.hasStyle=1;var e=document.querySelector("#savefrom-styles.sf-audio");e&&e.parentNode.removeChild(e),n.addStyleRules(".savefrom_vk_download.sf-audio-btn",{background:"url("+n.svg.getSrc("download","#5f7fa2")+") center no-repeat !important",opacity:"0.4"},"sf-audio")}},hideLinks:function(){if(this.addCustomStyle.hasStyle){this.addCustomStyle.hasStyle=0;var e=document.querySelector("#savefrom-styles.sf-audio");e&&e.parentNode.removeChild(e),n.addStyleRules(".savefrom_vk_download",{display:"none"},"sf-audio")}R.tooltip.tooltip&&(R.tooltip.tooltip.parentNode.removeChild(R.tooltip.tooltip),R.tooltip.tooltip=void 0),R.cache={}},elIsHidden:function(e){return null===e.offsetParent},downloadMP3Files:function(){var e=U.getLayer()||document;R._getNewAudioLinks(e).then(function(e){e.linkList;var t=e.trackList,i=e.title||N(),a=t;if(0===a.length)return alert(o.a.i18n.getMessage("vkMp3LinksNotFound"));n.downloadList.showBeforeDownloadPopup(a,{type:"audio",folderName:i})},function(e){"Abort"!==e.message&&(I.debug("_getNewAudioLinks error!",e),alert(o.a.i18n.getMessage("vkMp3LinksNotFound")))})},showListOfAudioFiles:function(e){var t=U.getLayer()||document;R._getNewAudioLinks(t).then(function(t){var i=t.linkList,a=t.trackList,r=t.title||N(),s=null;if(e){if(0!==(s=a).length)return n.playlist.popupPlaylist(s,r,!0)}else{for(var l in s=[],i)s.push({url:i[l]});if(0!==s.length)return n.playlist.popupFilelist(s)}alert(o.a.i18n.getMessage("vkMp3LinksNotFound"))},function(e){"Abort"!==e.message&&(I.debug("_getNewAudioLinks error!",e),alert(o.a.i18n.getMessage("vkMp3LinksNotFound")))})}},q={panelId:"savefrom__vk_video_links",videoAttr:"data-savefrom-video",hiddenAttr:"data-savefrom-hidden",btnBoxId:"sf-iframe-dl-btn",btnBox:null,style:{fontSize:"10pt",margin:"15px 0",padding:"0"},getLinksFormUrl:function(e){if(e){if("//"===e.substr(0,2)&&(e="http:"+e),a.showUmmyItem&&this.isRutubeLink(e))return q.getRutubeLinks(e);if(this.isPladformLink(e))return q.getPladformLinks(e);var t,o=n.embedDownloader.hostings;for(var i in o){for(var r,s=o[i],l=0;r=s.re[l];l++){var u=e.match(r);if(u){t={hosting:i,action:s.action,extVideoId:u[1]};break}}if(t)break}if(t)return{request:t}}},getLinksFromFlashVars:function(e){var t=Object(l.a)(e,{params:!0});return q.getLinksFromHtml5MetaData(t)},getLinksFromHtml5MetaData:function(e){if(e){var t=e.md_title;if(void 0!==t){var n=/url([0-9]+)/,o={},i=!1;for(var a in e){var r=null;if("extra_data"!==a||"52"!==e.extra){if(null!==(r=a.match(n))){var s=e[a],l=s.indexOf("?");-1!==l&&(s=s.substr(0,l)),i=!0,o[r[1]]=s}}else o[r=e.hd?"HD":"SD"]=e[a],i=!0}if(i)return{title:t,links:o}}}},getRutubeLinks:function(e){if(/rutube[^\/]+\/(?:play|video)\/embed\/(\d+)/.test(e)||/video\.rutube\./.test(e))return{isUmmy:!0,links:n.popupMenu.prepareLinks.rutube(e)}},isRutubeLink:function(e){return/\/\/.*rutube\..*/.test(e)},getPladformLinks:function(e){if(e){var t=Object(l.a)(e);return{request:{action:"getPladformVideo",extVideoId:{playerId:t.pl,videoId:t.videoid}}}}},isPladformLink:function(e){return/\/\/.*pladform\..*/.test(e)},getLinksVideoEl:function(e,t){var n=t.querySelector(".vv_summary");if(!n)return null;n=n.textContent;for(var o,i,a={},r=e.querySelectorAll("source"),s=0;i=r[s];s++){var l=i.src||"",u=l.indexOf("?");-1!==u&&(l=l.substr(0,u));var d=l.match(/\.(\d+)\.[^\/]+$/);null!==d&&(a[d[1]]=l,o=!0)}return o?{title:n,links:a}:void 0},getPlayerNode:function(e){var t=null;return["iframe.video_yt_player","#html5_player","#flash_video_obj","#playerObj","#player",".video_box_wrap > #video_player"].some(function(n){if(t=e.querySelector(n))return!0}),t},getLinksFromMv:function(e,t,o){n.bridge({args:[t,e],func:"function(a,b,c){var d=window.mvcur;if(!d||!d.player||!d.player.vars)return c();var e=d.player.vars;return e.vid!==a||e.oid!==b?c():c({vars:d.player.vars})}",cb:function(e){if(!e)return o();var t=q.getLinksFromHtml5MetaData(e.vars);return o(t)},timeout:300})},getLinksFromFrame:function(e){var t=document.body.innerHTML,n=Object(l.a)(location.href),o=parseInt(n.oid),i=parseInt(n.id);if(o&&i){var a=null;if(Object(h.a)(t,[/"vid":/,/"oid":/,/"md_title":/]).some(function(e){return a=e,!0}),a&&a.vid===i&&a.oid===o)return e(null,{request:{hosting:"vk",action:"getVkLinksFromJsonMsg",json:a}});var r=document.body,s=q.getPlayerNode(r);if(s)return q.getLinksFromPlayer(r,s,function(t){t&&e(null,t)})}return e("ERROR")},getLinksFromPlayer:function(e,t,o){if(t){var i,a;if("OBJECT"===t.tagName)(a=t.querySelector('param[name="flashvars"]'))&&(a=a.getAttribute("value"),i=q.getLinksFromFlashVars(a));else if("IFRAME"===t.tagName){var r=t.getAttribute("src");i||(i=q.getLinksFormUrl(r))}else if("EMBED"===t.tagName){var s=t.getAttribute("src");i||(a=t.getAttribute("flashvars"))&&(i=q.getLinksFromFlashVars(a)),i||(i=q.getLinksFormUrl(s))}if(i)return o(i,e);if("DIV"===t.tagName&&"video_player"===t.id){var u=t.parentNode.id,d=u&&u.match(/video_box_wrap(-?\d+)_(-?\d+)/);if(d)return d.shift(),d=d.map(function(e){return parseInt(e)}),n.bridge({args:d,func:'function(a,b,c){var d=window.mvcur;if(!d)return c();var e="video"+a+"_"+b;return d.listId&&(e+="?list="+d.listId),c({path:e})}',cb:function(t){if(t)return o({request:{hosting:"vk",action:"getVKLinks",extVideoId:t.path,oidVid:d}},e)},timeout:300})}if("html5_player"===t.id)return n.bridge({func:"function(a){return window.html5video&&window.html5video.vars?void a(window.html5video.vars):a()}",cb:function(t){var n=q.getLinksFromHtml5MetaData(t);if(n)return o(n,e)},timeout:300});if("A"===t.tagName){var c=t.href,f=Object(l.a)(c);if(f.to)return i=n.embedDownloader.checkUrl(f.to),o(i?{request:i}:null,e)}return o(null,e)}},preparePladformLinks:function(e){e&&"getRutubeLinks"===e.action&&(e.links=null);var t=e&&e.links,n="noname",o={};if(t)for(var i,a=0;i=t[a];a++)n=i.title,o[i.quality]&&(i.quality=0),o[i.quality.toUpperCase()]=i.url;return{title:n,links:o}},prepareLinks:function(e){var t=e.title,n=[];for(var o in e.links){var i=e.links[o],a=i.match(/[\w]+\.(mp4|flv)(?:\?|$)/i),r=(a=a?a[1]:"flv").toUpperCase();n.push({href:i,quality:o,title:t,ext:a,format:r,forceDownload:!0})}return n},getVideoLinksAsAjax:function(e){var t=/video(-?\d+_-?\d+)/.exec(e);t=t&&t[1];var n=Object(l.a)(e).list;return U._getModuleName().then(function(e){return new f.default(function(o){V.getLinkAsAjax([t,n],function(e,t){o({hosting:t,response:e})},e)})})},newAppendButton:function(e,t){var i=this;if(e){var r=t.querySelector("#mv_info"),s=r&&r.querySelector(".mv_actions_block .like_cont .like_btns");r=null;var l=t.querySelector("#mv_top_controls");if(s&&R.elIsHidden(s)&&(s=null),s||l){for(var u,d=!(s||!l),c=t.querySelectorAll(".savefrom_vk_download"),f=0;u=c[f];f++)u.parentNode.removeChild(u);u=null,c=null;var p=S.a.create("div",{class:["savefrom_vk_download","sf-under-video"],style:{cursor:"pointer"},on:[["click",function(r){if(r.stopPropagation(),x.a.onRemoveEvent(this,E.hideMenu),E.contextMenu&&E.contextMenu.isShow)E.hideMenu();else{var s=E.contextMenu=n.popupMenu.quickInsert(this,o.a.i18n.getMessage("download")+"...","sf-single-video-menu",{parent:t});if(e.isUmmy)s.update(e.links);else if(e.request){var l=function(t){var r=o.a.i18n.getMessage("noLinksFound");if(t)if("getPladformVideo"===e.request.action)r=a.showUmmyItem&&"getRutubeLinks"===t.action?n.popupMenu.prepareLinks.rutube(t.links):q.prepareLinks(q.preparePladformLinks(t));else if(t.links){var l=n.embedDownloader.reMapHosting(t.action);l&&(r=n.popupMenu.prepareLinks[l](t.links,t.title))}if("getVKLinks"===e.request.action&&"string"==typeof r||0===r.length)return i.getVideoLinksAsAjax(e.request.extVideoId).then(function(e){var t=e.hosting,i=e.response,a=o.a.i18n.getMessage("noLinksFound");i&&i.links&&(a=i.isUmmy?i.links:n.popupMenu.prepareLinks[t](i.links,i.title)),s.update(a)});s.update(r)},u=function(){try{o.a.sendMessage(e.request,l)}catch(e){l()}};e.request.oidVid?q.getLinksFromMv(e.request.oidVid[0],e.request.oidVid[1],function(e){if(e){var t=q.prepareLinks(e);s.update(t)}else u()}):u()}else{var d=q.prepareLinks(e);s.update(d)}}}],["mousedown",function(e){e.stopPropagation()}],["keydown",function(e){e.stopPropagation()}]]});if(s){S.a.create(p,{class:["like_btn"],append:[S.a.create("div",{class:["like_button_icon"],append:[S.a.create("img",{src:n.svg.getSrc("download","#828a99"),width:16,height:16,style:{margin:"4px"}})]}),S.a.create("div",{class:["like_button_label"],text:o.a.i18n.getMessage("download")})]});var m=s.querySelector(".ui_actions_menu_wrap");m?m.parentNode.insertBefore(p,m):s.appendChild(p)}else if(d){S.a.create(p,{class:["mv_top_button"],style:{textAlign:"center"},append:[S.a.create("img",{class:["mv_small_close_icon"],style:{backgroundImage:"none",width:"20px",height:"20px"},src:n.svg.getSrc("download","#FFFFFF"),width:20,height:20})]});var h=l.firstChild;if(h)if(R.elIsHidden(l.lastChild)){for(;h.nextElementSibling&&!R.elIsHidden(h.nextElementSibling);)h=h.nextElementSibling;h.parentNode.insertBefore(p,h)}else l.appendChild(p);else l.appendChild(p)}}}},appendNewFrameBtn:function(e,t){var i=this;if(!t.querySelector(".savefrom_vk_download")){var r=n.frameMenu.getBtn({singleBtn:!0,btnId:i.btnBoxId,containerStyle:{top:"10px",right:"10px"},on:[["click",function(t){if(t.preventDefault(),t.stopPropagation(),E.contextMenu&&E.contextMenu.isShow)E.hideMenu();else{var s=E.contextMenu=n.frameMenu.getMenu(this,o.a.i18n.getMessage("download")+"...","sf-frame-menu",{container:r.container,onShow:function(){r.node.classList.add("sf-over")},onHide:function(){E.contextMenu=null,r.node.classList.remove("sf-over")}});if(e.request){var l=function(t){var r=o.a.i18n.getMessage("noLinksFound");if(t&&"getPladformVideo"===e.request.action)r=a.showUmmyItem&&"getRutubeLinks"===t.action?n.popupMenu.prepareLinks.rutube(t.links):i.prepareLinks(i.preparePladformLinks(t));else if(t&&t.links){var l=n.embedDownloader.reMapHosting(t.action);l&&(r=n.popupMenu.prepareLinks[l](t.links,t.title))}s.update(r)};try{o.a.sendMessage(e.request,l)}catch(t){l()}}else s.update(i.prepareLinks(e))}}],["mousedown",function(e){e.stopPropagation(),2===e.button&&(E.hideMenu(),r.container.parentNode&&r.container.parentNode.removeChild(r.container))}]]});r.container=S.a.create("div",{class:"sf-btn-ctr",append:r.node}),r.node.appendChild(S.a.create("style",{text:Object(g.a)([{selector:["body:hover .sf-btn-ctr #"+i.btnBoxId,"body:hover .sf-btn-ctr .sf-frame-menu"],style:{display:"block"}}])})),document.body.appendChild(r.container)}},addFrameBtn:function(){var e=document.getElementById("page_wrap");e&&q.getLinksFromFrame(function(t,n){t||q.appendNewFrameBtn(n,e)})}},V={linkDataAttr:"savefromHasBtn",getLinkAsAjaxRequest:function(e,t){t=t||0;var n=(0,c.default)({},e),o=function(){if(t<1)return V.getLinkAsAjaxRequest(e,++t);e.error&&e.error()},i=n.data;0===t?i.act="show_inline":1===t&&(i.act="show"),Object(k.a)(n,function(t,n,i){return t||!i?o():-1!==i.indexOf('href="/join"')?o():void e.success(i)})},getVideoDataFromLink:function(e){var t=e.getAttribute("onclick"),n=/showVideo\(['"]{1}([^'"]+)['"]{1},.?['"]{1}([^'"]+)['"]{1},.*\)/.exec(t);return n&&n.shift(),n},getLinkAsAjax:function(e,t,i){V.getLinkAsAjaxRequest({localXHR:1,type:"POST",url:"/al_video.php",data:{list:e[1],video:e[0],act:"show_inline",module:i,al:1},success:function(e){if(!e)return t();var i=e.match(/<iframe[^>]+src=['"]{1}([^'">]+)['"]{1}[^>]+>/i);if(i||(i=e.match(/var\s+opts\s+=\s+({[^}]*})/im))&&(i=i[1].match(/url:\s+['"]{1}([^'"]+)['"]{1}/i))&&0!==i[1].indexOf("//")&&0!==i[1].indexOf("http")&&(i=null),i){var r=i[1];if(a.showUmmyItem&&q.isRutubeLink(r))return t(q.getRutubeLinks(r));if(0===r.indexOf("//")&&(r="http:"+r),0!==r.indexOf("http"))return t();var s=n.embedDownloader.checkUrl(r);if(!s)return t();var l={action:s.action,extVideoId:s.extVideoId};o.a.sendMessage(l,function(e){var o=s.hosting;return e.action!==l.action&&(o=n.embedDownloader.reMapHosting(e.action)),t(e,o)})}else Object(_.a)({action:"getVkLinksFromData",data:e}).then(function(e){return t(e,"vk")}).catch(function(){return t({},"vk")})},error:function(){t()}})},addDownloadBtn:function(e){var t=e.href,i=S.a.create("a",{href:"http://savefrom.net/?url="+encodeURIComponent(t),style:{display:"inline-block",width:"16px",height:"16px",marginLeft:"5px",backgroundImage:"url("+n.svg.getSrc("download","#78A2CC")+")",backgroundRepeat:"no-repeat",marginBottom:"-4px"},on:["click",function(e){var t=this;if(e.preventDefault(),x.a.onRemoveEvent(a,E.hideMenu),E.contextMenu&&E.contextMenu.isShow)E.hideMenu();else{var r=document.querySelector("#wk_box");r&&r.contains(this)||(r=null);var s={parent:r},l=this.getAttribute(n.embedDownloader.dataAttr),u=n.embedDownloader.checkUrl(l);if(u){var d={action:u.action,extVideoId:u.extVideoId},c=E.contextMenu=n.popupMenu.quickInsert(i,o.a.i18n.getMessage("download")+" ...","sf-popupMenu",s),f=function(e){var i=u.hosting;if(e.action!=d.action&&(i=n.embedDownloader.reMapHosting(e.action)),Array.isArray(e.links)&&0===e.links.length&&(e.links=void 0),e.links){var a=n.popupMenu.prepareLinks[i](e.links,e.title);c.update(a)}else{var r=n.getParentByTagName(t.parentNode,"A"),s=V.getVideoDataFromLink(r);U.getModuleName(V.getLinkAsAjax.bind(V,s,function(e,t){var i;if(e&&e.links)return i=e.isUmmy?e.links:n.popupMenu.prepareLinks[t](e.links,e.title),void c.update(i);c.update(o.a.i18n.getMessage("noLinksFound"))}))}};try{o.a.sendMessage(d,f)}catch(e){f({})}}else E.contextMenu=n.popupMenu.quickInsert(i,o.a.i18n.getMessage("noLinksFound"),"sf-popupMenu",s)}}]});i.setAttribute(n.embedDownloader.dataAttr,t);var a=S.a.create("span",{class:"sf-video-feed-container",on:["click",function(e){e.stopPropagation()}],append:[i]}),r=e.querySelector(".post_video_title");r?r.appendChild(a):e.appendChild(a)},onLinkHover:function(){if("A"===this.tagName){var e=this.href||"";0===this.id.indexOf("post_media_lnk")&&-1!==e.indexOf("/video")&&(E.contextMenu&&E.contextMenu.isShow&&E.hideMenu(),this.dataset[V.linkDataAttr]||(this.dataset[V.linkDataAttr]=1,V.addDownloadBtn(this)))}},off:function(){for(var e,t=document.querySelectorAll(".sf-video-feed-container"),n=0;e=t[n];n++)e.parentNode.removeChild(e);var o=Object(m.a)(V.linkDataAttr),i=document.querySelectorAll("*["+o+"]");for(n=0;e=i[n];n++)e.removeAttribute(o)}},U={photoCache:{},getAlbumId:function(e){if(!/(\?|&|#)act=edit/i.test(e)){var t=[];t.push(e);var n=Object(l.a)(e);n.w&&t.push(n.w),n.z&&t.push.apply(t,n.z.split("/")),/#/.test(e)&&(t.push(e.substr(e.indexOf("#")+1)),t.push(decodeURIComponent(e.substr(e.indexOf("#")+1)))),t.reverse();var o=null,i=null;return t.some(function(e){if(i=e.match(/(?:\/|#|=|^)(albums?|tag|photos|feed(?:\d+)?_|wall)(-?\d+)(?:_(\d+))?/i))return i[3]?o=/^(feed|wall)/.test(i[1])?i[1]+i[2]+"_"+i[3]:"album"+i[2]+"_"+i[3]:("albums"==i[1]&&(i[1]="photos"),o=i[1]+i[2]),!0}),o}},getModuleName:function(e){var t=S.a.create("script",{text:"("+'function(){window.cur&&window.cur.module&&"string"==typeof window.cur.module&&(document.body.dataset["{dataArg}"]=window.cur.module)}'.replace("{dataArg}","sfModule")+")();"});document.body.appendChild(t),setTimeout(function(){t.parentNode.removeChild(t),e(document.body.dataset.sfModule)},0)},isReply:function(e){return Object(v.a)(e,".replies "+e.tagName)||Object(v.a)(e,".wl_replies "+e.tagName)},getWallPostContent:function(){var e=location.href.match(/wall(-?\d+_\d+)/);if(e=e&&e[1])return document.getElementById("post"+e)||document.getElementById("wpt"+e)},getPopup:function(e,t,i){var a,r=n.playlist.getInfoPopupTemplate();S.a.create(r.textContainer,{append:[S.a.create("p",{text:e,style:{color:"#0D0D0D",fontSize:"20px",marginBottom:"11px",marginTop:"13px"}}),a=S.a.create("p",{text:"",style:{color:"#868686",fontSize:"14px",lineHeight:"24px"}})]});var s=n.popupDiv(r.body,"sf_progress_popup",void 0,void 0,i),l=function e(n){e.state!==n&&(e.state=n,r.buttonContainer.style.display="none",a.style.display="none",o.a.sendMessage({action:"getWarningIcon",type:t,color:"#77D1FA"},function(e){r.icon.style.backgroundImage="url("+e+")"}),"progress"===n&&(a.style.display="block"),"error"===n&&(o.a.sendMessage({action:"getWarningIcon",type:t,color:"#AAAAAA"},function(e){r.icon.style.backgroundImage="url("+e+")"}),a.style.display="block"))};return{onPrepare:function(e){l("progress"),a.textContent=e},onProgress:function(e,t){a.textContent=o.a.i18n.getMessage("vkFoundFiles").replace("%d",e)+" "+o.a.i18n.getMessage("vkFoundOf")+" "+t},onReady:function(){x.a.trigger(s,"kill")},onError:function(e){l("error"),a.textContent=e}}},getLayer:function(){var e=document.getElementById("layer_wrap");return null!==e&&"none"!==e.style.display&&0!==e.textContent.length||(e=null),null===e&&(null!==(e=document.getElementById("wk_layer_wrap"))&&"none"!==e.style.display&&0!==e.textContent.length||(e=null)),e},_getAlbumLinks:function(e,t){var n=this,o=n.photoCache,i="";/albums|tags|photos/.test(location.href)&&(i=N());var a={},r=[],s=0,l=0,d=0,c=0;return function u(){return function(i){if(t.abort)return f.default.reject(new Error("Abort"));var r={act:"show",al:1,list:e};return i&&(r.offset=i),Object(w.a)({type:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},url:"/al_photos.php",data:r,localXHR:!0,timeout:6e4}).then(function(e){var t=B(e.body),i=t[6],r=t[8];s||(s=r.length),l=i,d||(d=Math.ceil(i/s));var u=[],c="";return r.forEach(function(e){if(!a[e.id]){a[e.id]=1;var t=n.getMaxPhotoSize(e);t&&(!c&&e.album&&(c=M.a.decodeSpecialChars(Object(p.a)(e.album.replace(/<[^>]+>/g,"")))),t.id=e.id,o[e.id]=t,u.push(t))}}),new f.default(function(e){setTimeout(e,250)}).then(function(){return{title:c,list:u}})})}(c*s).then(function(e){if(d--,c++,r.push.apply(r,e.list),t.onProgress&&t.onProgress(r.length,l),i||(i=e.title),d>0)return u()})}().then(function(){if((0,u.default)(o).slice(1e3).forEach(function(e){delete o[e]}),!r.length)throw new Error("Album is empty");return i||(i=N()),{title:i,list:r}},function(e){throw"Abort"!==e.message&&I.debug("Get photo page error!",e),e})},_getPhotoLinks:function(e,t,n){var o=this;return o._getModuleName().then(function(i){return function(i){if(n.abort)return f.default.reject(new Error("Abort"));var a={act:"show",al:1,list:t,module:i,photo:e};return Object(w.a)({type:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},url:"/al_photos.php",data:a,localXHR:!0,timeout:6e4}).then(function(t){var n=null;if(B(t.body)[8].some(function(t){if(t.id===e)return n=o.getMaxPhotoSize(t),!0}),!n)throw new Error("Photo is is not found!");return new f.default(function(e){setTimeout(e,250)}).then(function(){return n})})}(i)}).catch(function(e){throw"Abort"!==e.message&&I.debug("Get photo error!",e),e})},_getModuleName:function(){return new f.default(function(e,t){var n=S.a.create("script",{text:'(function(a){window.cur&&window.cur.module&&"string"==typeof window.cur.module&&(document.body.dataset[a]=window.cur.module)})('+(0,d.default)("sfModule")+");"});document.body.appendChild(n),setTimeout(function(){n.parentNode.removeChild(n),e(document.body.dataset.sfModule)},0)})},_getAlbumLinksViaDom:function(e,t){var n=this,o=n.photoCache;if(t.abort)return f.default.reject(new Error("Abort"));var i=/showPhoto\s*\(\s*["']([-\d_]+)["']\s*,\s*["']([\w\-]+)["']/i,a=/\{["']?temp["']?\s*:\s*(\{.+?\})/i,r=/(\{|,)\s*(\w+)\s*:/gi,s={},l=[],d=function(e){if(!U.isReply(e)&&!R.elIsHidden(e)){var t=e.getAttribute("onclick"),o=i.exec(t);if(o){var u=o[1];if(!s[u]){s[u]=1;var d=o[2],c=null,f=a.exec(t);if(f){f=f[1].replace(r,'$1"$2":');var p=null;try{p=JSON.parse(f)}catch(e){}c=p&&n.getMaxPhotoSize(p)}c||(c={}),c.id=u,c.listId=d,l.push(c)}}}};if([].slice.call(e.querySelectorAll("a[onclick]")).forEach(d),0===l.length&&e!==document){var c=n.getWallPostContent();c&&[].slice.call(c.querySelectorAll("a[onclick]")).forEach(d)}return function(e){var i=f.default.resolve(),a=[],r=e.filter(function(e){var t=o[e.id];return!t||(a.push(t),!1)});return t.onProgress&&t.onProgress(a.length,e.length),r.forEach(function(r){i=i.then(function(){return n._getPhotoLinks(r.id,r.listId,t).then(function(n){o[r.id]=n,a.push(n),t.onProgress&&t.onProgress(a.length,e.length)},function(n){if("Abort"===n.message)throw n;r.url&&(a.push(r),t.onProgress&&t.onProgress(a.length,e.length),I.debug("Photo link from dom",n))})})}),i=i.then(function(){if((0,u.default)(o).slice(1e3).forEach(function(e){delete o[e]}),!a.length)throw new Error("Photos is not found");return{list:a}})}(l)},_getLinks:function(e,t){var i=this,a=f.default.resolve(),r={},s=i.getPopup(N(),"photo",function(){r.abort=!0});r.onProgress=function(e,t){s.onProgress(e,t)},s.onPrepare(o.a.i18n.getMessage("download")+" ...");var l=function(){if((e=e||document)===document){var t=i.getLayer();t&&(e=t)}return i._getAlbumLinksViaDom(e,r)};return(a=t?a.then(function(){return i._getAlbumLinks(t,r)}).catch(function(e){throw"Album is empty"!==e.message&&"Abort"!==e.message&&I.debug("findAlbumLinks error",e),e}).catch(function(){return l()}):a.then(l)).then(function(e){var t=e.title,o=function(e){var t=[];e.forEach(function(e){var n=e.url,o=i.getFilenameFromUrl(n);o||(o="unknown.jpg"),t.push({filename:o,url:n})});var n=String(t.length).length;return t.forEach(function(e,t){for(var o=String(t+1);o.length<n;)o="0"+o;e.filename=o+"-"+e.filename}),t}(e.list);s.onReady(),t||(t=N()),C?n.downloadList.showBeforeDownloadPopup(o,{count:o.length,folderName:t,type:"photo",onShowList:function(){i.showListOfLinks(t,o,!0)}}):i.showListOfLinks(t,o,!0)},function(e){"Abort"!==e.message&&I.debug("_getLinks error",e),s.onError(o.a.i18n.getMessage("noLinksFound"))})},rmPhotoAlbumDlBtn:function(){for(var e,t=document.querySelectorAll([".sf-dl-ablum-btn-divide",".sf-dl-ablum-btn"]),n=0;e=t[n];n++)e.parentNode.removeChild(e)},addNewPhotoAlbumDlBtn:function(e){var t=this,n=e.querySelector(".photos_album_intro_info"),i=e.querySelector(".page_block_header_extra"),a=n||i;if(a&&!a.querySelector(".sf-dl-ablum-btn")){var r=S.a.create("a",{text:o.a.i18n.getMessage("vkDownloadPhotoAlbum"),href:"#",class:"sf-dl-ablum-btn",on:["click",function(n){n.preventDefault();var o=U.getAlbumId(location.href);t._getLinks(e,o)}]}),s=S.a.create("span",{append:r});n?(s.classList.add("photos_album_info"),s=S.a.create(document.createDocumentFragment(),{append:[S.a.create("span",{class:"divide sf-dl-ablum-btn-divide",text:"|"}),s]})):i&&(s.classList.add("photos_comments_link"),s.style.margin="0 15px"),a.appendChild(s)}},getContainer:function(){var e=document.getElementById("photos_albums_container");return e||(e=document.getElementById("photos_container")),e},getFilenameFromUrl:function(e){var t=/\/([\w\-]+\.[a-z0-9]{3,4})(?:\?|$)/i.exec(e);return t&&t[1]||""},rmCurrentPhotoBtn:function(e){for(var t,n=void 0,o=document.querySelectorAll(".sf-dl-current-photo-btn"),i=0;t=o[i];i++)e&&e.contains(t)?n=t:t.parentNode.removeChild(t);return n},style:null,injectStyle:function(){this.style?this.style.parentNode||document.head.appendChild(this.style):(this.style=S.a.create("style",{text:Object(g.a)({"div > .sf-dl-current-photo-btn":{display:"none",border:"1px solid #F8F8F8",width:"20px",height:"20px",padding:0,position:"absolute",background:"url("+n.svg.getSrc("download","#777777")+") center no-repeat #F8F8F8",backgroundSize:"12px",top:"20px",left:"30px",zIndex:10,cursor:"pointer"},"div > .sf-dl-current-photo-btn.sf-style-black":{border:0,background:"url("+n.svg.getSrc("download","#FFF")+") center no-repeat #000",backgroundSize:"14px",padding:"2px 4px",borderRadius:"2px",opacity:.4,transition:"opacity 100ms linear"},"div > .sf-dl-current-photo-btn:hover":{background:"url("+n.svg.getSrc("download","#00B75A")+") center no-repeat #F8F8F8",backgroundSize:"12px",opacity:.8},"div > .sf-dl-current-photo-btn.sf-style-black:hover":{background:"url("+n.svg.getSrc("download","#00B75A")+") center no-repeat #000",backgroundSize:"14px"},"div > .sf-dl-current-photo-btn:active":{outline:0,boxShadow:"inset 0 3px 5px rgba(0, 0, 0, 0.125)"},"div:hover > .sf-dl-current-photo-btn":{display:"block"}})}),document.head.appendChild(this.style))},getMaxPhotoSize:function(e){var t=null,n=null;return["w","z","y","x"].some(function(o){return!!(t=e[o+"_"])||!!(n=e[o+"_src"])||void 0}),t||(t=[n]),t[0]?{url:function(e,t){return t.match(/\.[a-z]{3}$/i)||(t+=".jpg"),t.match(/https?:\/\//i)?t:(e||"").replace(/\/[a-z0-9_:\.]*$/i,"")+"/"+t}(e.base,t[0]),width:t[2]&&t[1],height:t[1]&&t[2]}:null},getNewCurrentPhotoLink:function(e,t){var o=this;return e?n.bridge({args:[e],func:'function(a,b){var c={};return"undefined"!=typeof cur&&cur.pvCurPhoto&&cur.pvCurPhoto.id===a&&(c=cur.pvCurPhoto),b(c)}',cb:function(e){if(!e||!e.id)return t("ID is not found!");var n=o.getMaxPhotoSize(e);return n?t(null,n):t("URL is not found!")},timeout:300}):t("ID is empty!")},addNewDlCurrentPhotoBtn:function(e){var t=e;if(!this.rmCurrentPhotoBtn(t)){var i=this,a=e.querySelector("a#pv_photo[href]");if(a){var r=S.a.create("a",{class:["sf-dl-current-photo-btn","sf-style-black"],href:"#",title:o.a.i18n.getMessage("download"),on:[["click",function(e){if(e.stopPropagation(),e.preventDefault(),x.a.onRemoveEvent(this,E.hideMenu),!E.contextMenu||!E.contextMenu.isShow){var r=E.contextMenu=n.popupMenu.quickInsert(this,o.a.i18n.getMessage("download")+" ...","photoDlMenu",{parent:t}),s=a.href.match(/photo(-?\d+_\d+)/);return s=s&&s[1],i.getNewCurrentPhotoLink(s,function(e,t){if(e)return r.update(o.a.i18n.getMessage("noLinksFound"));var n=M.a.modify(i.getFilenameFromUrl(t.url)),a=n.lastIndexOf("."),s=n.substr(a+1),l=n.substr(0,a),u=[];u.push({href:t.url,title:l,quality:o.a.i18n.getMessage("download"),format:" ",ext:s,forceDownload:!0,isOther:!0,isBlank:!0,func:function(){r.hide()}}),u.push({href:"#getAlbum",title:"",quality:o.a.i18n.getMessage("vkDownloadPhotoAlbum"),format:" ",ext:"",noSize:!0,isOther:!0,func:function(e){e.preventDefault(),U.downloadPhoto(),r.hide()}}),r.update(u)})}E.hideMenu()}],["mousedown",function(e){e.stopPropagation()}]]});n.mutationAttrWatcher.run({target:a,attr:["href"],callback:function(){E.contextMenu&&E.contextMenu.isShow&&E.hideMenu()}}),t.appendChild(r)}}},downloadPhoto:function(){var e=this.getContainer(),t=this.getAlbumId(location.href);if(!t){var n=document.querySelector(".pv_album_name a");n&&!R.elIsHidden(n)&&(t=this.getAlbumId(n.href))}this._getLinks(e,t)},showListOfPhotosContent:function(e,t){return"<!DOCTYPE html><html>"+S.a.create("html",{append:[S.a.create("head",{append:[S.a.create("meta",{attr:{charset:"utf-8"}}),S.a.create("style",{text:"a,img{display:block;margin-bottom:5px;}p{width: 640px}"})]}),S.a.create("body",{append:[e,S.a.create("p",{text:o.a.i18n.getMessage("vkListOfPhotosInstruction")}),S.a.create("br"),S.a.create("br"),function(){var e=document.createDocumentFragment();return t.forEach(function(t){var n=t.url,o=t.filename||"",i=S.a.create("img",{src:n,alt:"photo"});o&&(i=S.a.create("a",{href:n,download:o,append:i})),e.appendChild(i)}),e}()]})]}).innerHTML+"</html>"},showListOfLinks:function(e,t,i){var a;a=i?S.a.create(document.createDocumentFragment(),{append:[S.a.create("p",{append:[S.a.create("a",{text:o.a.i18n.getMessage("vkListOfPhotos"),href:"#",class:"sf__hidden",style:{fontWeight:"bolder",border:"none",textDecoration:"underline"},on:["click",function(n){n.preventDefault();var i=U.showListOfPhotosContent(e,t),a="";o.a.isChrome||o.a.isTM?(a=Object(y.a)(i,"text/html",!0),o.a.sendMessage({action:"openTab",url:a})):(a=Object(y.a)(i,"text/html"),window.open(a,"_blank"))}]})]})]}):"";for(var r,s,l="",u=0;r=t[u];u++)l+=r.url+"\r\n";var d=S.a.create(document.createDocumentFragment(),{append:[S.a.create("p",{text:e,style:{color:"#0D0D0D",fontSize:"20px",marginBottom:"11px",marginTop:"5px"}}),S.a.create("p",{append:Object(A.a)(o.a.i18n.getMessage("vkListOfLinksInstruction"))}),a,s=S.a.create("textarea",{text:l,cols:60,rows:10,style:{width:"100%"}}),o.a.isChrome||o.a.isFirefox?S.a.create("button",{text:o.a.i18n.getMessage("copy"),style:{height:"27px",backgroundColor:"#ffffff",border:"1px solid #9e9e9e",marginTop:"6px",paddingLeft:"10px",paddingRight:"10px",borderRadius:"5px",fontSize:"14px",cursor:"pointer",cssFloat:"right"},on:["click",function(e){var t=this;t.disabled=!0,o.a.isFirefox?(s.select(),document.execCommand("copy")):o.a.sendMessage({action:"addToClipboard",text:l}),setTimeout(function(){t.disabled=!1},1e3)}],append:S.a.create("style",{text:Object(g.a)({"#savefrom_popup_box button:hover:not(:disabled)":{backgroundColor:"#597A9E !important",borderColor:"#597A9E !important",color:"#fff"},"#savefrom_popup_box button:active":{opacity:.9}})})}):void 0]});n.popupDiv(d)}},H={mobileMenu:null,observer:null,styleEl:null,run:function(){var e=this;if(n.mutationWatcher.isAvailable()){if(e.observer)return e.observer.start();e.observer=n.mutationWatcher.run({callback:function(t){var n,o,i;for(n=t[0],o=0;i=n.added[o];o++)i.dataset.sfSkip>0||(i.dataset.sfSkip="1",e.insertAudioBtn(i));for(n=t[1],o=0;i=n.added[o];o++)i.parentNode.classList.contains("video_view")&&(i.dataset.sfSkip>0||(i.dataset.sfSkip="1",e.insertVideoBtn(i)));for(n=t[2],o=0;i=n.removed[o];o++)x.a.onRemoveListener(i)},queries:[{css:"div.audio_item",is:"added"},{css:"div.vv_body",is:"added"},{css:"."+x.a.onRemoveClassName,is:"removed"}]}),e.insertStyle()}},hideMenu:function(){H.mobileMenu&&(H.mobileMenu.hide(),H.mobileMenu=null)},insertStyle:function(){this.styleEl?this.styleEl.parentNode||document.head.appendChild(this.styleEl):(this.styleEl=S.a.create("style",{class:"sf-style",text:Object(g.a)([{selector:".savefrom_vk_download.sf-audio",style:{display:"block",float:"right",borderRadius:"3px",width:"22px",height:"22px",marginTop:"1px",marginLeft:"3px",marginRight:"3px",background:"url("+n.svg.getSrc("download","#ffffff")+") center no-repeat",backgroundSize:"12px",backgroundColor:"#5E80AA"}},{selector:".audio_item .savefrom_vk_download.sf-audio",style:{position:"absolute",right:"32px",top:0,bottom:0,margin:"auto"}},{selector:".audio_item.ai_current .savefrom_vk_download.sf-audio",style:{bottom:"auto",top:"6px"}}])}),document.head.appendChild(this.styleEl))},onAudioBtnClick:function(e){e.stopPropagation(),n.downloadOnClick(e)},getAudioDlBtnNode:function(e,t){return S.a.create("a",{class:["savefrom_vk_download","sf-audio"],href:t,download:M.a.modify(e),target:"_blank",on:["click",this.onAudioBtnClick],title:o.a.i18n.getMessage("download")})},insertAudioBtn:function(e){var t=this,n=e.querySelector(".ai_label");(n=n&&n.textContent||"")&&(n+=".mp3");var o=e.querySelector("input");if(o=o&&o.value){var i=e.querySelector(".ai_dur");if(i){var a=i.parentNode;R.unmaskUrlViaPlayer([[null,null,o]]).then(function(e){o=e[0][2];var r=t.getAudioDlBtnNode(n,o),s=a.querySelector(".savefrom_vk_download");if(s)s.parentNode.replaceChild(r,s);else{var l=i.nextElementSibling;if(!l)return;a.insertBefore(r,l)}})}}},onVideoBtnClick:function(e,t){t.preventDefault(),t.stopPropagation(),H.hideMenu();var i=H.mobileMenu=n.mobileLightBox.show(o.a.i18n.getMessage("download")+" ..."),a=o.a.i18n.getMessage("noLinksFound");if(e.request){var r=function(t){if(t&&"getPladformVideo"===e.request.action)a=q.prepareLinks(q.preparePladformLinks(t));else{var o=n.embedDownloader.reMapHosting(t.action);o&&t&&t.links&&(a=n.popupMenu.prepareLinks[o](t.links,t.title))}i.update(a)};try{o.a.sendMessage(e.request,r)}catch(t){r()}}else a=q.prepareLinks(e),i.update(a)},appendVideoBtn:function(e,t){var n=t.querySelector(".mv_actions"),i=S.a.create("li",{class:["savefrom_vk_download","sf-video-ctr"],append:S.a.create("a",{class:["savefrom_vk_download","mva_item"],text:o.a.i18n.getMessage("download"),on:["click",this.onVideoBtnClick.bind(this,e)]})});n&&n.appendChild(i),x.a.onRemoveEvent(i,H.hideMenu)},insertVideoBtn:function(e){var t=this,n=e.querySelectorAll("iframe, video, a")[0],o=Object(s.a)(e,"video_view"),i=function(){var e=/video(-?\d+)_(-?\d+)/.exec(location.href);return e&&{request:{hosting:"vk",action:"getVKLinks",extVideoId:"video"+e[1]+"_"+e[2]}}};n?q.getLinksFromPlayer(o,n,function(e,n){e||(e=i()),e&&t.appendVideoBtn(e,n)}):e.querySelector(".vv_not_support")&&i()&&t.appendVideoBtn(i(),o)}}})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={6:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([31,0]),n()}({31:function(e,t,n){n.r(t);var o=n(0),i=n(12),a=n(5),r=n(13),s=n(14),l=n(6),p=n(18),m=n(3),h=n(8),g=n(9),v=n(16),b=n(2),y=n(1),k=n(4),w=n(10),x=n(11),S=n(20),A=Object(w.a)("odnoklassniki_ru");x.a.isSingle()&&Object(a.b)("odnoklassniki",function(e,t){var n=Object(i.a)(t),a=t.preferences,w=a.moduleOdnoklassniki?1:0,x=o.a.isChrome||o.a.isFirefox||o.a.isGM&&o.a.isTM;o.a.onMessage.addListener(function(t,n,o){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return o({state:w,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return M.changeState(t.state)}"updatePreferences"!==t.action?w&&("updateLinks"===t.action&&_(),"downloadMP3Files"===t.action&&(x?C.downloadMP3Files():C.showListOfAudioFiles(!1)),"downloadPlaylist"===t.action&&C.showListOfAudioFiles(!0)):(0,c.default)(a,t.preferences)}),w&&setTimeout(function(){M.run()});var M={linkCache:{},contextMenu:null,videoToken:null,run:function(){if(w=1,C.getJsSessionId(),I.injectStyle(),P.injectStyle(),n.mutationWatcher.isAvailable())return M.mutationMode.enable()},changeState:function(e){w=e,O.rmBtn(),C.disable(),P.rmCurrentPhotoBtn(),I.disable(),I.rmBtn(),M.hideMenu(),M.mutationMode.stop(),M.clearCache(),e&&M.run()},hideMenu:function(){M.contextMenu&&(M.contextMenu.hide(),M.contextMenu=null)},clearCache:function(){var e=M.linkCache;for(var t in e)delete e[t]},mutationMode:{observer:null,stop:function(){this.observer&&this.observer.stop(),["sfSkip"].forEach(function(e){for(var t,n=Object(l.a)(e),o=document.querySelectorAll("["+n+"]"),i=0;t=o[i];i++)t.removeAttribute(n)})},wrapOnPhotoOver:function(){w&&P.addCurrentDlBtn(this)},wrapVideoFeedOnImgOver:function(){w&&I.onImgOver.call(this)},wrapAudioOnMouseOver:function(){w&&C.onMouseOver.apply(this,arguments)},wrapAudioOnMouseOut:function(){w&&C.onMouseOut.apply(this,arguments)},enable:function(){if(this.observer)return this.observer.start();var e=this;this.observer=n.mutationWatcher.run({callback:function(t){var n,i,a,s;for(a=0;a<2;a++)for(n=t[a],i=0;s=n.added[i];i++)s.sfSkip>0||(s.sfSkip="1",b.a.on(s,"mouseenter",e.wrapAudioOnMouseOver),b.a.on(s,"mouseleave",e.wrapAudioOnMouseOut));if(!o.a.isSafari)for(n=t[2],i=0;s=n.added[i];i++)s.dataset.sfSkip>0||(s.dataset.sfSkip="1",b.a.one(s,"mouseenter",e.wrapOnPhotoOver));for(n=t[3],i=0;s=n.added[i];i++)if(!(s.dataset.sfSkip>0)){s.dataset.sfSkip="1";var l=Object(g.a)(s,".vp_video");if(!l)return;var u=O.getPlayerOptions(s);u&&O.appendLinkUnderVideo(l.parentNode,u)}for(n=t[4],i=0;s=n.added[i];i++)if(!(s.dataset.sfSkip>0)){if(s.dataset.sfSkip="1",(s=Object(r.a)(s,"vid-card_cnt")).dataset.sfSkip)return;b.a.one(s,"mouseenter",e.wrapVideoFeedOnImgOver)}for(a=5;a<8;a++)for(n=t[a],i=0;s=n.added[i];i++)s.dataset.sfSkip>0||(s.dataset.sfSkip="1",b.a.one(s,"mouseenter",e.wrapVideoFeedOnImgOver));for(n=t[8],i=0;s=n.removed[i];i++)b.a.onRemoveListener(s);for(n=t[9],i=0;s=n.added[i];i++)s.addEventListener("click",I.onBtnClick)},queries:[{css:".track.js-track",is:"added"},{css:".mus-tr_i",is:"added"},{css:"#photo-layer_photo",is:"added"},{css:".vp_video .vid-card_cnt",is:"added"},{css:".vid-card_cnt .vid-card_cnt_w img",is:"added"},{css:".d_comment_text_w img",is:"added"},{css:".video-card .video-card_img-w img",is:"added"},{css:".vid-card_cnt img",is:"added"},{css:"."+b.a.onRemoveClassName,is:"removed"},{css:".sf-video-feed-bind-on-insert",is:"added"}]})}}},_=function(){M.clearCache(),L(),C.getJsSessionId(),O.catchPopup()},L=function(){for(var e=document.querySelectorAll(".savefrom_ok_download"),t=e.length-1;t>=0;t--)e[t].parentNode.removeChild(e[t])},C={downloadIdPrefix:"savefrom_ok_audio_download_",infoIdPrefix:"savefrom_ok_audio_info_",lastRow:null,lastRowCandidate:null,timer:0,jsessionId:"",clientHashV:"",scriptNode:null,cache:{},ajaxTimer:{},showRowElements:function(e,t,n){if(e){var o=e.querySelectorAll("div.savefrom_ok_download");t&&!o.length&&C.showRowLinks(e),o=e.querySelectorAll("div.savefrom_ok_download");for(var i=0;i<o.length;i++)o[i].style.display=t?"":"none"}},getNodeTrackId:function(e){var t=e.getAttribute("data-query");if(t)try{if((t=JSON.parse(t))&&t.trackId)return t.trackId}catch(e){return null}var n=e.querySelector("span.track_play[onclick]");if(n){var o=/(?:playMediatopic|playFeedTrack)\(['"]?(\d+)['"]?/.exec(n.getAttribute("onclick"));return o&&o[1]}return null},getTrackId:function(e){var t=C.getNodeTrackId(e);if(t)return(i={})[t]=e,i;var o=e.id;if(o){var i,a=o.indexOf("#");if(-1!==a&&(o=o.substr(a+1)),(t=n.getMatchFirst(o,/^\w+_(\d+)$/i))||-1!==o.indexOf("GROUP_FEED")&&(t=o.substr(o.lastIndexOf("_")+1)),t)return(i={})[t]=e,i}return null},showRowLinks:function(e){var t=C.getTrackId(e);for(var n in t)if(C.handleRow(n,t[n]))return!0;return!1},disable:function(){C.lastRowCandidate=null,C.lastRow=null;for(var e,t=document.querySelectorAll(".savefrom_ok_download"),n=0;e=t[n];n++)e.parentNode.removeChild(e)},getJsSessionId:function(){return new f.default(function(e,t){n.bridge({func:'function(a){window.require(["OK/music/sid"],function(b){b.get().then(function(b){a([null,b])},function(b){a([b.message])})})}',cb:function(n){if(n){var o=n[0],i=n[1];o?t(new Error("Get sid error")):e(i)}else t(new Error("Get sid timeout"))}})}).catch(function(e){return new f.default(function(e,t){var n=location.protocol+"//"+location.host+"/web-api/music/conf";Object(v.a)({type:"POST",url:n,data:"_",json:!0,localXHR:!0},function(n,o,i){!n&&i&&i.sid?e(i.sid):t(new Error("Get jsSessionId error!"))})})}).then(function(e){C.jsessionId=e},function(e){A.debug("getJsSessionId error",e)})},getLink:function(e){e&&C.jsessionId&&(C.ajaxTimer[e]=window.setTimeout(function(){delete C.ajaxTimer[e],C.deleteLink(e)},3e4),o.a.sendMessage({action:"getOdnoklassnikiAudioLinks",url:location.href,trackId:e,jsessionId:C.jsessionId},function(e){C.setLink(e.trackId,e.data)}))},onMouseOver:function(){if(C.jsessionId){var e=this;e&&(C.lastRowCandidate=e,clearTimeout(C.timer),C.lastRow!==e&&(C.timer=window.setTimeout(function(){C.showRowElements(C.lastRow,!1),C.lastRow=e,C.lastRowCandidate=null,C.showRowElements(C.lastRow,!0)},250)))}},onMouseOut:function(){var e=this;(C.lastRow&&C.lastRow.contains(e)||C.lastRowCandidate&&C.lastRowCandidate.contains(e))&&(clearTimeout(C.timer),C.timer=window.setTimeout(function(){C.showRowElements(C.lastRow,!1),C.lastRow=null,C.lastRowCandidate=null},1e3)),e=null},handleRow:function(e,t){if(!e||!t)return!1;var i=t;i.style.position="relative";var a=t.querySelector(".m_c_duration, .m_portal_duration"),r=document.createElement("div");r.className="savefrom_ok_download";var s=40,l=document.getElementById("mmpcw");l&&l.contains(t)&&(s=65),n.setStyle(r,{color:"#fff",background:"#46aa19",border:"1px solid #337d12",borderRadius:"3px",padding:"1px 5px",position:"absolute",right:s+"px",top:"50%",lineHeight:"15px",fontSize:"12px",opacity:0,zIndex:9999,cursor:"pointer"}),r.addEventListener("click",C.onBoxClick,!1),r.addEventListener("mousedown",function(e){e.stopPropagation()},!1);var u=C.getTitle(e,t),d=function(e,t,n){void 0==n&&(n=!0);var o=document.createElement("a");return o.href="#",o.className="savefrom_ok_download",o.textContent="...",n&&o.setAttribute("target","_blank"),o}();d.id=C.downloadIdPrefix+e,d.title=o.a.i18n.getMessage("downloadTitle"),a&&d.setAttribute("data-savefrom-helper-duration",C.secondsFromDurationNode(a)),u&&(u+=".mp3",d.setAttribute("download",k.a.modify(u))),n.setStyle(d,{color:"#fff",fontWeight:"normal"}),d.addEventListener("click",C.onDownloadLinkClick,!1),r.appendChild(d),i.appendChild(r),C.cache[e]?C.setLinkFromCache(e,d):C.getLink(e),r.style.marginTop="-"+r.offsetHeight/2+"px",r.style.opacity="1";var c=document.createElement("span");return c.textContent=String.fromCharCode(215),c.title=o.a.i18n.getMessage("close"),n.setStyle(c,{color:"#fff",fontFamily:"Tahoma,Helvetica,sans-serif",fontSize:"15px",marginLeft:"7px",opacity:".7",cursor:"pointer"}),c.addEventListener("click",C.onCloseBtnClick,!1),r.appendChild(c),!0},onBoxClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.querySelector("a.savefrom_ok_download");return t?(b.a.trigger(t,"click",{cancelable:!0}),!1):(this.style.display="none",!1)},onDownloadLinkClick:function(e){return 2!=e.button&&(e.stopPropagation(),"#"==this.href?(e.preventDefault(),!1):(n.downloadOnClick(e),!1))},onCloseBtnClick:function(e){if(2==e.button)return!0;e.preventDefault(),e.stopPropagation();var t=Object(g.a)(this,".savefrom_ok_download");return t&&(t.style.display="none"),!1},deleteLink:function(e,t){if(!t&&e&&(t=document.getElementById(C.downloadIdPrefix+e)),t){var n=t.parentNode;n&&n.parentNode.removeChild(n)}},getHash:function(e,t){t||(t=[4,3,5,6,1,2,8,7,2,9,3,5,7,1,4,8,8,3,4,3,1,7,3,5,9,8,1,4,3,7,2,8]);for(var n=[],o=0;o<e.length;o++)n.push(parseInt("0x0"+e.charAt(o)));var i=[];(e=(e=n).slice(0))[32]=e[31];var a=0;for(o=32;o-- >0;)a+=e[o];for(var r=0;r<32;r++)i[r]=Math.abs(a-e[r+1]*e[r]*t[r]);return i.join("")},setLinkFromCache:function(e,t){if(!C.cache[e])return!1;if(t||(t=document.getElementById(C.downloadIdPrefix+e)),t){t.href=C.cache[e].url,t.textContent="",C.cache[e].downloadAttr&&t.setAttribute("download",C.cache[e].downloadAttr);var o=y.a.create(n.svg.getSvg("download","#ffffff"),{style:{display:"inline-block",width:"16px",height:"16px",verticalAlign:"middle",opacity:"0.9"}});t.appendChild(o);var i=document.createTextNode(C.cache[e].info);return t.nextSibling?t.parentNode.insertBefore(i,t.nextSibling):t.parentNode.appendChild(i),!0}},getClientHash:function(e){var t=C.md5,o=function(){return(C.clientHashV?f.default.resolve(C.clientHashV):new f.default(function(e,t){n.bridge({func:'function(a){try{a([null,window.require.s.contexts._.config.config["OK/music/garbage"].v])}catch(b){a([b.message])}}',cb:function(n){if(n){var o=n[0],i=n[1];o?t(new Error("getClientHash error")):e(i)}else t(new Error("getClientHash timeout"))}})}).then(function(e){return C.clientHashV=e})).then(function(n){return function(e,t,n){var o,i,a,r=t(/md5=(\w*)/g.exec(e)[1]+"secret"),s=r.length,l=0,u="";for(o=0;o<s;o+=1)l+=parseInt(r[o],16);for(o=0;o<s;o+=1)i=parseInt(r[o],16),a=o===s-1?i:parseInt(r[o+1],16),u+=Math.abs(l-i*a*n[o]);return u}(e,t,n)})};return(C.getClientHash.getViaApiError?f.default.reject(C.getClientHash.getViaApiError):new f.default(function(t,o){n.bridge({args:[e],func:'function(a,b){window.require(["OK/music/garbage"],function(c){try{b([null,/clientHash=([^&]+)/.exec(c.calc(a))[1]])}catch(a){b([a.message])}})}',cb:function(e){if(e){var n=e[0],i=e[1];n?o(new Error("getClientHash error")):t(i)}else o(new Error("getClientHash timeout"))}})}).catch(function(e){throw C.getClientHash.getViaApiError=e,e})).catch(function(e){return o()})},setLink:function(e,t,i){if(e){clearTimeout(C.ajaxTimer[e]);var a=document.getElementById(C.downloadIdPrefix+e);if(a&&!C.setLinkFromCache(e,a)){if(!t||!t.play)return C.deleteLink(e,a),void(a.textContent="?");if(void 0===i)return this.getClientHash(t.play).then(function(n){C.setLink(e,t,n)},function(t){C.deleteLink(e,a)});var r=t.track&&t.track.size||-1;C.cache[e]={},C.cache[e].url=t.play+(i?"&clientHash="+i:"");var s=" ("+n.sizeHuman(r,2),l=a.getAttribute("data-savefrom-helper-duration");if(t.track&&(t.track.duration&&(l=t.track.duration),t.track.ensemble&&t.track.name)){var u=t.track.ensemble+" - "+t.track.name;C.cache[e].title=u,C.cache[e].downloadAttr=k.a.modify(u+".mp3")}if(r&&r>0&&l){if(l=parseInt(l),isNaN(l))return void delete C.cache[e];s+=" ~ "+Math.floor(r/l/125)+" "+o.a.i18n.getMessage("kbps")}s+=")",C.cache[e].info=s,C.setLinkFromCache(e,a)}}},getTitle:function(e,t){if(!e||!t)return"";var n="",o=t.querySelector(".m_c_artist, .mus-tr_artist, .m_portal_c_artist"),i=t.querySelector(".m_track_source, .mus-tr_song, .m_portla_track_name");return o&&(o=o.textContent)&&(n+=o.trim()),i&&(i=i.textContent)&&(n&&(n+=" - "),n+=i.trim()),n?n.replace(/\<a\s+[^\>]+\>/gi,"").replace(/\<\/a\>/gi,""):""},secondsFromDurationNode:function(e){if(!e)return 0;var t=e.textContent;if(!t)return 0;var n=t.match(/^(?:\s*(\d+)\s*\:)?\s*(\d+)\s*\:\s*(\d+)/);return n&&n.length>3?(n[1]||(n[1]=0),3600*parseInt(n[1])+60*parseInt(n[2])+parseInt(n[3])):0},getPlaylistName:function(e){if(e!==document){var t=e.querySelector(".mus_h2_tx");if(t)return k.a.modify(t.textContent)||void 0}},elIsHidden:function(e){return null===e.offsetParent},getLayer:function(){var e=document.getElementById("mmpcw");if(e&&!e.classList.contains("__hidden")&&(e=e.querySelector('div.m_c_s[aria-hidden="false"]'))&&!C.elIsHidden(e))return e},getPopup:function(e,t,i){var a,r=n.playlist.getInfoPopupTemplate();y.a.create(r.textContainer,{append:[e?y.a.create("p",{text:e,style:{color:"#0D0D0D",fontSize:"20px",marginBottom:"11px",marginTop:"13px"}}):void 0,a=y.a.create("p",{text:"",style:{color:"#868686",fontSize:"14px",lineHeight:"24px"}})]});var s=n.popupDiv(r.body,"sf_progress_popup",void 0,void 0,i),l=function e(n){e.state!==n&&(e.state=n,r.buttonContainer.style.display="none",a.style.display="none",o.a.sendMessage({action:"getWarningIcon",type:t,color:"#77D1FA"},function(e){r.icon.style.backgroundImage="url("+e+")"}),"progress"===n&&(a.style.display="block"),"error"===n&&(o.a.sendMessage({action:"getWarningIcon",type:t,color:"#AAAAAA"},function(e){r.icon.style.backgroundImage="url("+e+")"}),a.style.display="block"))};return{onPrepare:function(e){l("progress"),a.textContent=e},onProgress:function(e,t){a.textContent=o.a.i18n.getMessage("vkFoundFiles").replace("%d",e)+" "+o.a.i18n.getMessage("vkFoundOf")+" "+t},onReady:function(){b.a.trigger(s,"kill")},onError:function(e){l("error"),a.textContent=e}}},getAudioLinksViaAPI:function(e,t,n){var i=!1,a=[],r=e.length;return function s(){if(!i){var l=e.splice(0,10);if(0===l.length)return n(a);o.a.sendMessage({action:"getOkAudioListLinks",trackIdArr:l,jsessionId:C.jsessionId},function(n){var o=f.default.resolve();Array.isArray(n)&&n.forEach(function(e){o=o.then(function(){if("string"==typeof e.play&&"object"==typeof e.track){var t,n=e.play;return e.track.name&&(t=e.track.name),e.track.ensemble&&(t=e.track.ensemble+(t?" - "+t:"")),t||(t="noname"),C.getClientHash(n).then(function(o){n+="&clientHash="+o,a.push({url:n,duration:e.track.duration||0,title:t,filename:k.a.modify(t)+".mp3"})})}}).catch(function(t){A.debug("process item error",e,t)})}),o.then(function(){t(r-e.length,r),s()})})}}(),{abort:function(){i=!0}}},getAudioListLinksPopup:function(e,t,n){var i,a=this.getPopup(t,"audio",function(){i&&i.abort()});a.onPrepare(o.a.i18n.getMessage("download")+" ..."),i=this.getAudioLinksViaAPI(e,a.onProgress,function(e){0!==e.length?(a.onReady(),n(e)):a.onError(o.a.i18n.getMessage("vkMp3LinksNotFound"))})},getAudioLinks:function(e,t,n){for(var o,i=e.querySelectorAll([".m_portal_track",".m_c_tr",".mus-tr_i"]),a=[],r=0;o=i[r];r++){var s=C.getTrackId(o);for(var l in s)a.push(l)}this.getAudioListLinksPopup(a,t,n)},downloadMP3Files:function(){var e=C.getLayer()||document,t=C.getPlaylistName(e);C.getAudioLinks(e,t,function(e){n.downloadList.showBeforeDownloadPopup(e,{type:"audio",folderName:t})})},showListOfAudioFiles:function(e){var t=C.getLayer()||document,i=C.getPlaylistName(t);C.getAudioLinks(t,i,function(t){t.length?e?n.playlist.popupPlaylist(t,i,!0):n.playlist.popupFilelist(t):alert(o.a.i18n.getMessage("vkMp3LinksNotFound"))})},md5:function(e){var t,n,o,i,a,r,s,l,u,d,c,f=function(e,t){return e<<t|e>>>32-t},p=function(e,t){var n,o,i,a,r;return i=2147483648&e,a=2147483648&t,r=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(o=1073741824&t)?2147483648^r^i^a:n|o?1073741824&r?3221225472^r^i^a:1073741824^r^i^a:r^i^a},m=function(e,t,n,o,i,a,r){return e=p(e,p(p(function(e,t,n){return e&t|~e&o}(t,n),i),r)),p(f(e,a),t)},h=function(e,t,n,o,i,a,r){return e=p(e,p(p(function(e,t,n){return e&o|t&~o}(t,n),i),r)),p(f(e,a),t)},g=function(e,t,n,o,i,a,r){return e=p(e,p(p(function(e,t,n){return e^t^o}(t,n),i),r)),p(f(e,a),t)},v=function(e,t,n,o,i,a,r){return e=p(e,p(p(function(e,t,n){return t^(e|~o)}(t,n),i),r)),p(f(e,a),t)},b=function(e){var t,n="",o="";for(t=0;t<=3;t++)n+=(o="0"+(e>>>8*t&255).toString(16)).substr(o.length-2,2);return n};for(l=1732584193,u=4023233417,d=2562383102,c=271733878,t=(n=function(e){for(var t,n=e.length,o=n+8,i=16*((o-o%64)/64+1),a=new Array(i-1),r=0,s=0;s<n;)r=s%4*8,a[t=(s-s%4)/4]=a[t]|e.charCodeAt(s)<<r,s++;return r=s%4*8,a[t=(s-s%4)/4]=a[t]|128<<r,a[i-2]=n<<3,a[i-1]=n>>>29,a}(e)).length,o=0;o<t;o+=16)i=l,a=u,r=d,s=c,u=v(u=v(u=v(u=v(u=g(u=g(u=g(u=g(u=h(u=h(u=h(u=h(u=m(u=m(u=m(u=m(u,d=m(d,c=m(c,l=m(l,u,d,c,n[o+0],7,3614090360),u,d,n[o+1],12,3905402710),l,u,n[o+2],17,606105819),c,l,n[o+3],22,3250441966),d=m(d,c=m(c,l=m(l,u,d,c,n[o+4],7,4118548399),u,d,n[o+5],12,1200080426),l,u,n[o+6],17,2821735955),c,l,n[o+7],22,4249261313),d=m(d,c=m(c,l=m(l,u,d,c,n[o+8],7,1770035416),u,d,n[o+9],12,2336552879),l,u,n[o+10],17,4294925233),c,l,n[o+11],22,2304563134),d=m(d,c=m(c,l=m(l,u,d,c,n[o+12],7,1804603682),u,d,n[o+13],12,4254626195),l,u,n[o+14],17,2792965006),c,l,n[o+15],22,1236535329),d=h(d,c=h(c,l=h(l,u,d,c,n[o+1],5,4129170786),u,d,n[o+6],9,3225465664),l,u,n[o+11],14,643717713),c,l,n[o+0],20,3921069994),d=h(d,c=h(c,l=h(l,u,d,c,n[o+5],5,3593408605),u,d,n[o+10],9,38016083),l,u,n[o+15],14,3634488961),c,l,n[o+4],20,3889429448),d=h(d,c=h(c,l=h(l,u,d,c,n[o+9],5,568446438),u,d,n[o+14],9,3275163606),l,u,n[o+3],14,4107603335),c,l,n[o+8],20,1163531501),d=h(d,c=h(c,l=h(l,u,d,c,n[o+13],5,2850285829),u,d,n[o+2],9,4243563512),l,u,n[o+7],14,1735328473),c,l,n[o+12],20,2368359562),d=g(d,c=g(c,l=g(l,u,d,c,n[o+5],4,4294588738),u,d,n[o+8],11,2272392833),l,u,n[o+11],16,1839030562),c,l,n[o+14],23,4259657740),d=g(d,c=g(c,l=g(l,u,d,c,n[o+1],4,2763975236),u,d,n[o+4],11,1272893353),l,u,n[o+7],16,4139469664),c,l,n[o+10],23,3200236656),d=g(d,c=g(c,l=g(l,u,d,c,n[o+13],4,681279174),u,d,n[o+0],11,3936430074),l,u,n[o+3],16,3572445317),c,l,n[o+6],23,76029189),d=g(d,c=g(c,l=g(l,u,d,c,n[o+9],4,3654602809),u,d,n[o+12],11,3873151461),l,u,n[o+15],16,530742520),c,l,n[o+2],23,3299628645),d=v(d,c=v(c,l=v(l,u,d,c,n[o+0],6,4096336452),u,d,n[o+7],10,1126891415),l,u,n[o+14],15,2878612391),c,l,n[o+5],21,4237533241),d=v(d,c=v(c,l=v(l,u,d,c,n[o+12],6,1700485571),u,d,n[o+3],10,2399980690),l,u,n[o+10],15,4293915773),c,l,n[o+1],21,2240044497),d=v(d,c=v(c,l=v(l,u,d,c,n[o+8],6,1873313359),u,d,n[o+15],10,4264355552),l,u,n[o+6],15,2734768916),c,l,n[o+13],21,1309151649),d=v(d,c=v(c,l=v(l,u,d,c,n[o+4],6,4149444226),u,d,n[o+11],10,3174756917),l,u,n[o+2],15,718787259),c,l,n[o+9],21,3951481745),l=p(l,i),u=p(u,a),d=p(d,r),c=p(c,s);return(b(l)+b(u)+b(d)+b(c)).toLowerCase()}},O={requestMobileToken:function(e,t){var o=null;e.links.some(function(e){var t=e.url.match(/\/\/([^/]+)/);if(t=t&&t[1])return o=t,!0}),n.bridge({timeout:3e3,args:[o],func:'function(a,b){var c=document.cookie,d=c&&c.match(/vdsig=([^;]+);/);if(d=d&&d[1],d)return b({vtkn:d});a=a||"vd4.mycdn.me";var e=new XMLHttpRequest;e.open("POST",location.protocol+"//"+a+"/usr_login",!0),e.withCredentials=!0,e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var a=null;try{a=JSON.parse(e.responseText)}catch(a){}return b(a)}},e.send()}',cb:function(n){if(!n||!n.vtkn)return t();n.ttl&&(n.expire=Date.now()+1e3*n.ttl,M.videoToken=n),e.vtkn=n.vtkn,t(e)}})},getMobileToken:function(e,t){if(e.vtkn)return t(e);var n=M.videoToken;return n&&n.expire>Date.now()?(e.vtkn=n.vtkn,t(e)):O.requestMobileToken(e,t)},wrapMobileLinks:function(e,t){O.getMobileToken(e,function(e){if(!e||!e.vtkn)return t();e.action="getOkViaMobileWrapped",e.links.forEach(function(t){var n=/\?/.test(t.url)?"&":"?";t.url+=n+"vdsig="+e.vtkn}),t(e)})},prepareResponse:function(e,t){var i=function(){t(o.a.i18n.getMessage("noLinksFound"))};if(!e||!e.links)return i();if(!a.showUmmyItem&&"getRutubeLinks"===e.action)return i();if("getOkViaMobile"===e.action)return O.wrapMobileLinks(e,function(e){if(!e)return i();O.prepareResponse(e,t)});var r=null;"getYoutubeLinks"===e.action?r="youtube":"getVimeoLinks"===e.action?r="vimeo":"getDailymotionLinks"===e.action?r="dailymotion":"getRutubeLinks"===e.action&&(r="rutube");var s;return s=r?n.popupMenu.prepareLinks[r](e.links,e.title):I.prepareLinks(e.links,e.title),t(s)},matchOpenGraph:function(e){if(e&&e.movie&&e.movie.contentId){var t=e.movie.contentId;if(-1!==t.indexOf("rutube.")&&a.showUmmyItem)return{action:"getRutubeLinks",links:[t]};if(-1!==t.indexOf("pladform")){var o=Object(s.a)(t);return{action:"getPladformVideo",extVideoId:{playerId:o.pl,videoId:o.videoid}}}var i=n.embedDownloader.checkUrl(t);if(i)return i;var r=e.movie.poster;if("string"==typeof r){var l=(Object(s.a)(r).url||r).match(/ytimg\.com\/vi\/([^\/]+)\//);if(l=l&&l[1])return{action:"getYoutubeLinks",extVideoId:l}}}},switchMetadataProvider:function(e){if(e&&e.provider&&e.movie)switch(e.provider){case"USER_YOUTUBE":if(e.movie.contentId)return{request:{action:"getYoutubeLinks",extVideoId:e.movie.contentId}};break;case"OPEN_GRAPH":var t=this.matchOpenGraph(e);if(t)return{request:t};break;case"LIVE_TV_APP":case"LIVE_TV_ODKL":case"UPLOADED_ODKL":case"UPLOADED":case"PARTNER":case"YKL":if(e.videos&&e.movie.title)return{request:{action:"wrapMobileLinks",title:e.movie.title,links:e.videos}}}},getPlayerMetadata:function(e,t,n,o){var i={cmd:"videoPlayerMetadata",mid:e,rnd:Date.now()};o&&(i.mtId=t),Object(v.a)({method:"POST",url:location.protocol+"//"+location.host+"/dk?"+S.stringify(i),json:!0,localXHR:!0},function(i,a,r){return i?!o&&t?void O.getPlayerMetadata(e,t,n,1):n():n(r)})},getEmbed:function(e,t){var n=Object(s.a)(e);if(!n.id||!n.sig)return t();var i="http://cdn-ok.com/video/get/?"+S.stringify({id:n.id,format:1,sig:n.sig,sig2:"oldRotator"});o.a.sendMessage({action:"getData",url:i},function(e){return e&&Object(p.a)(e,[/"sourceType":/,/"sourceId":/]).some(function(e){if("youtube"===e.sourceType&&e.sourceId)return t({request:{action:"getYoutubeLinks",extVideoId:e.sourceId}}),!0})?void 0:t()})},readMetadata:function(e,t,n){if(e.movie&&/cdn-ok\.com\/embed/.test(e.movie.contentId))return this.getEmbed(e.movie.contentId,function(e){if(!e||!e.request)return t();o.a.sendMessage(e.request,function(e){O.prepareResponse(e,t)})});if(!n&&e.movie&&e.movie.movieId){var i=e.movie.link&&Object(s.a)(e.movie.link,{sep:"&amp;"})["st.vpl.sid"];return this.getPlayerMetadata(e.movie.movieId,i,function(n){O.readMetadata(n||e,t,1)})}var a=this.switchMetadataProvider(e);return a?a.links?t(a.links):void(a.request?"getRutubeLinks"===a.request.action?O.prepareResponse(a.request,t):"wrapMobileLinks"===a.request.action?O.wrapMobileLinks(a.request,function(e){O.prepareResponse(e,function(e){t(e,1)})}):o.a.sendMessage(a.request,function(e){O.prepareResponse(e,t)}):t()):t()},loadLinks:function(e,t){var n=M.linkCache,i=(0,d.default)(e),a=n[i];if(a)return t.update(a);var r=function(e,a){var r=function(){t.update(o.a.i18n.getMessage("noLinksFound"))};if(!e)return r();O.readMetadata(e,function(e,o){if(!e)return r();Array.isArray(e)&&!e.length&&(o=1),o||(n[i]=e),t.update(e)},a)};e.metadata?r(e.metadata):e.request?"getOkMetadata"===e.request.action?o.a.sendMessage(e.request,r):"getPlayerMetadata"===e.request.action?this.getPlayerMetadata(e.request.extVideoId,e.request.sid,function(e){r(e,1)}):"getRutubeLinks"===e.request.action?O.prepareResponse(e.request,function(e){t.update(e)}):o.a.sendMessage(e.request,function(e){O.prepareResponse(e,function(e){t.update(e)})}):t.update(o.a.i18n.getMessage("noLinksFound"))},appendLinkUnderVideo:function(e,t){var i=e.querySelector(".vp-layer-info_cnt");if(i){var a=i.querySelector(".savefrom_ok_download"),r=y.a.create("span",{className:"savefrom_ok_download",style:{marginLeft:"12px"},on:[["click",function(e){e.stopPropagation()}],["mousedown",function(e){e.stopPropagation()}],["keydown",function(e){e.stopPropagation()}]],append:[y.a.create("a",{href:"#",text:o.a.i18n.getMessage("download"),on:["click",function(i){if(i.preventDefault(),b.a.onRemoveEvent(r,M.hideMenu),M.contextMenu&&M.contextMenu.isShow){if(M.contextMenu.button===this)return void M.hideMenu();M.hideMenu()}var a=M.contextMenu=n.popupMenu.quickInsert(this,o.a.i18n.getMessage("download")+"...","sf-single-video-menu",{parent:e});O.loadLinks(t,a)}]})]});a&&a.parentNode?(a.parentNode.replaceChild(r,a),a=null):i.appendChild(r)}},getPlayerOptions:function(e){var t=Object(g.a)(e,"[data-player-element-id][data-options]"),o=t&&t.dataset.options;if(o){try{o=JSON.parse(o)}catch(e){}var i=o.flashvars;if(i){if(i.metadata){var a=null;try{a=JSON.parse(i.metadata)}catch(e){}if(a)return{metadata:a}}if(i.metadataUrl)return{request:{action:"getOkMetadata",url:decodeURIComponent(i.metadataUrl)}};var r=o.url;if(r){var s=n.embedDownloader.checkUrl(r);if(s)return{request:s};if(-1!==r.indexOf("rutube."))return{request:{action:"getRutubeLinks",links:[r]}}}}}},catchPopup:function(){var e=null;this.lastWaitEl&&this.lastWaitEl.abort(),this.lastWaitEl=this.waitEl(function(){if(e=document.querySelector(".vp_video .vid-card_cnt"))return e},function(){var t=Object(g.a)(e,".vp_video");if(t){var n=O.getPlayerOptions(e);n&&O.appendLinkUnderVideo(t.parentNode,n)}})},rmBtn:function(){for(var e,t=document.querySelectorAll(".savefrom_ok_download"),n=0;e=t[n];n++)e.parentNode.removeChild(e)},lastWaitEl:null,waitEl:function(e,t,n){var o,i=(0,c.default)({abort:function(){clearInterval(i.timeout),i.isAborted=!0}},{delay:500,repeat:12,isAborted:!1,timeout:null},n);return(o=e())?(t(o),i):(function n(){i.repeat--,i.timeout=setTimeout(function(){if(!i.isAborted)return(o=e())?t(o):void(!i.isAborted&&i.repeat&&n())},i.delay)}(),i)}},I={btnClassName:"sf-feed-dl-btn",style:void 0,thumbClassName:"vid-card_img",prepareLinks:function(e,t){if(!e||!e.length)return o.a.i18n.getMessage("noLinksFound");if("string"==typeof e)return e;t=t||"";for(var i,a,r,s,l=[],u=0,d=e.length;u<d;u++){var c=e[u];if("object"==typeof c&&c.url){s=c.url;var f=c.ext;f||(f="MP4",-1!==c.url.indexOf(".mp4")&&(f="MP4"),-1!==s.indexOf(".flv")&&(f="FLV"),-1!==c.url.indexOf(".mov")&&(f="MOV"),-1!==c.url.indexOf(".mpg")&&(f="MPG")),r=(f=f.toLowerCase()).toUpperCase(),a=c.subname||c.quality||c.name||f}else{f="MP4",-1!==(s=c).indexOf(".mp4")&&(f="MP4"),-1!==s.indexOf(".flv")&&(f="FLV"),-1!==s.indexOf(".mov")&&(f="MOV"),-1!==s.indexOf(".mpg")&&(f="MPG"),r=(f=f.toLowerCase()).toUpperCase(),a=f;var p=n.getMatchFirst(e[u],/\.(\d+)\.mp4/i);p&&(a=p)}var m=["mobile","lowest","low","sd","hd","full","quad","ultra"].indexOf(a);-1!==m&&(a=[144,240,360,480,720,1080,1440,"4K"][m]),i={href:s,title:c.title?c.title:t,ext:f,format:r,quality:a,forceDownload:!0},l.push(i)}return l},getPosterData:function(e){var t=Object(g.a)(e,"[hrefattrs]"),o=t&&t.getAttribute("hrefattrs");if(o){var i=Object(s.a)(o,{params:!0}),a=i["st.vpl.sid"],r=i["st.vpl.id"];if(!r){var l=Object(g.a)(e,"[data-id]");if((r=l&&l.dataset.id)&&"c"===r[0])return}if(r&&"OK_"===r.substr(0,3)&&(r=n.getMatchFirst(r,/OK_\d+_(\d+)/)),r)return{request:{sid:a,action:"getPlayerMetadata",extVideoId:r}}}},onBtnClick:function(e){e.preventDefault(),e.stopPropagation();var t=JSON.parse(this.dataset.sfContext);if(b.a.onRemoveEvent(this,M.hideMenu),M.contextMenu&&M.contextMenu.isShow){if(M.contextMenu.button===this)return void M.hideMenu();M.hideMenu()}var i=document.querySelector("#mtLayer.__active #mtLayerMain > div");i||(i=document.getElementById("vv_content")),i||Object(h.a)(this,".js-messages-list "+this.tagName)&&(i=Object(r.a)(this,"js-messages-list"))&&!i.offsetParent&&(i=null),!i&&Object(h.a)(this,"#mainContent "+this.tagName)&&(i=Object(g.a)(this,"#mainContent"));var a=M.contextMenu=n.popupMenu.quickInsert(this,o.a.i18n.getMessage("download")+" ...","sf-popupMenu",{parent:i||void 0});O.loadLinks(t,a)},onImgOver:function(e){var t=Object(h.a)(this,".mdialog_chat_window .d_comment_text_w "+this.tagName),i=null;if(t?i=Object(r.a)(this,"d_comment_text_w"):Object(h.a)(this,".video-card > .video-card_img-w "+this.tagName)?i=Object(r.a)(this,"video-card_img-w"):this.classList.contains("vid-card_cnt")?i=this:Object(h.a)(this,".vid-card_cnt "+this.tagName)&&(i=Object(r.a)(this,"vid-card_cnt")),i&&!i.getElementsByClassName(I.btnClassName).length&&!i.querySelector(".vid-card_live.__active")){var a=Object(h.a)(this,".vid-card_img__link "+this.tagName),s=O.getPlayerOptions(this);if(s||(s=I.getPosterData(this)),s){s.isChat=t;var l={};t&&(0,c.default)(l,{left:"15px",top:"15px"}),a&&(0,c.default)(l,{backgroundColor:"#454648",borderColor:"rgb(53, 53, 53)"});var u=y.a.create("i",{class:[I.btnClassName,"sf-video-feed-bind-on-insert"],style:l,data:{sfContext:(0,d.default)(s)},title:o.a.i18n.getMessage("download")});u.appendChild(y.a.create(n.svg.getSvg("download"),{style:{width:"12px",height:"12px",margin:"4px"}})),i.appendChild(u)}}},injectStyle:function(){this.style?this.style.parentNode||document.head.appendChild(this.style):(this.style=y.a.create("style",{text:Object(m.a)({"div > .sf-feed-dl-btn":{display:"none",border:"1px solid #F8F8F8",width:"20px",height:"20px",padding:0,position:"absolute",top:0,left:0,zIndex:1,cursor:"pointer",backgroundColor:"#F8F8F8"},"div > .sf-feed-dl-btn svg path":{fill:"#eb722e"},"div > .sf-feed-dl-btn:hover svg path":{fill:"#00B75A"},"div > .sf-feed-dl-btn:active":{outline:0,boxShadow:"inset 0 3px 5px rgba(0, 0, 0, 0.125)"},"div:hover > .sf-feed-dl-btn":{display:"block"}})}),document.head.appendChild(this.style))},disable:function(){this.style&&this.style.parentNode&&this.style.parentNode.removeChild(this.style)},rmBtn:function(){for(var e,t=document.querySelectorAll(".sf-feed-dl-btn"),n=0;e=t[n];n++)e.parentNode.removeChild(e);var o=Object(l.a)("sfSkip2"),i=document.querySelectorAll("["+o+"]");for(n=0;e=i[n];n++)e.removeAttribute(o)}},P={style:null,rmCurrentPhotoBtn:function(e){for(var t,n=void 0,o=document.querySelectorAll(".sf-dl-current-photo-btn"),i=0;t=o[i];i++)e&&e.contains(t)?n=t:t.parentNode.removeChild(t);return n},addDlCurrentPhotoBtn:function(e){if(!this.rmCurrentPhotoBtn(e)){var t=M;e.appendChild(y.a.create("a",{class:"sf-dl-current-photo-btn",href:"#",title:o.a.i18n.getMessage("download"),on:["click",function(i){if(i.stopPropagation(),i.preventDefault(),t.contextMenu&&t.contextMenu.isShow&&t.contextMenu.button===this){if(t.contextMenu.button===this)return void t.hideMenu();t.hideMenu()}var a=function e(t){18!==t.keyCode&&17!==t.keyCode&&(r.hide(),document.removeEventListener("keydown",e))},r=t.contextMenu=n.popupMenu.quickInsert(this,o.a.i18n.getMessage("download")+" ...","photoDlMenu",{parent:e,onShow:function(){document.addEventListener("keydown",a)},onHide:function(){document.removeEventListener("keydown",a)}}),s=[],l=e.querySelector("img.photo-layer_img");if(l){var d=l.dataset.fsSrc||l.dataset.nfsSrc||l.src;d&&s.push({href:d,title:"photo_"+parseInt(Date.now()/1e3),quality:o.a.i18n.getMessage("download"),format:" ",ext:"jpg",forceDownload:!0,isBlank:!0,func:function(){r.hide()}})}if(l||(l=e.querySelector("div.gif[data-gifsrc]")),l){var c={webmsrc:"webm",mp4src:"mp4",gifsrc:"gif"};(0,u.default)(c).forEach(function(e){var t=l.dataset[e];if(t){var n=c[e];s.push({href:t,title:"gif_"+parseInt(Date.now()/1e3),quality:o.a.i18n.getMessage("download"),format:n.toUpperCase(),ext:n,forceDownload:!0,isBlank:!0,func:function(){r.hide()}})}})}0!==s.length?r.update(s):r.update(o.a.i18n.getMessage("noLinksFound"))}],append:[y.a.create(n.svg.getSvg("download"),{style:{width:"12px",height:"12px",margin:"4px"}})]}))}},injectStyle:function(){P.style?P.style.parentNode||document.head.appendChild(P.style):(P.style=y.a.create("style",{text:Object(m.a)({"div > .sf-dl-current-photo-btn":{display:"none",border:"1px solid #F8F8F8",width:"20px",height:"20px",padding:0,position:"absolute",backgroundColor:"#F8F8F8",top:"73px",left:"90px",zIndex:100,cursor:"pointer"},"div > .sf-dl-current-photo-btn svg path":{fill:"#eb722e"},"div > .sf-dl-current-photo-btn:hover svg path":{fill:"#00B75A"},"div > .sf-dl-current-photo-btn:active":{outline:0,boxShadow:"inset 0 3px 5px rgba(0, 0, 0, 0.125)"},"div:hover > .sf-dl-current-photo-btn":{display:"block"}})}),document.head.appendChild(P.style))},addCurrentDlBtn:function(e){if("1"!==e.dataset.sfSkip2){e.dataset.sfSkip2="1";var t=e.querySelector("img.photo-layer_img");t&&(t.dataset.fsSrc||t.dataset.nfsSrc||t.src||(t=null)),t||(t=e.querySelector("div.gif[data-gifsrc]")),t&&this.addDlCurrentPhotoBtn(e)}}}})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={7:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([32,0]),n()}({32:function(e,t,n){n.r(t);var o=n(0),i=n(12),a=n(5),r=n(13),s=n(14),l=n(6),u=n(3),p=n(16),m=n(2),h=n(1),g=n(4);n(11).a.isSingle()&&Object(a.b)("mailru",function(e,t){var n=Object(i.a)(t),a=t.preferences,v=a.moduleMailru?1:0,b=o.a.isChrome||o.a.isFirefox||o.a.isGM&&o.a.isTM;o.a.onMessage.addListener(function(t,n,o){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return o({state:v,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return y.changeState(t.state)}"updatePreferences"!==t.action?v&&("downloadMP3Files"===t.action&&(b?x.downloadMP3Files():x.showListOfAudioFiles(!1)),"downloadPlaylist"===t.action&&x.showListOfAudioFiles(!0)):(0,c.default)(a,t.preferences)}),v&&setTimeout(function(){y.run()});var y={contextMenu:null,run:function(){v=1,x.injectStyle(),n.mutationWatcher.isAvailable()&&this.mutationMode.enable()},changeState:function(e){v=e,x.rmBtn(),S.rmBtn(),this.mutationMode.stop(),this.hideMenu(),e&&this.run()},hideMenu:function(){y.contextMenu&&(y.contextMenu.hide(),y.contextMenu=null)},mutationMode:{observer:null,stop:function(){this.observer&&this.observer.stop(),["sfSkip"].forEach(function(e){for(var t,n=Object(l.a)(e),o=document.querySelectorAll("["+n+"]"),i=0;t=o[i];i++)t.removeAttribute(n)})},wrapAudioOnMouseOver:function(){if(v&&!(this.dataset.sfSkip>0)){this.dataset.sfSkip="1";var e=JSON.parse(this.dataset.sfContext);x.onTrackOver(this,e.type)}},enable:function(){if(this.observer)return this.observer.start();this.observer=n.mutationWatcher.run({callback:function(e){var t,n,o,i,a,s,l,u;for(t=e[0],n=0;i=t.added[n];n++)(a={}).type=0,i.dataset.sfContext=(0,d.default)(a),m.a.one(i,"mouseenter",y.mutationMode.wrapAudioOnMouseOver);for(t=e[1],n=0;i=t.added[n];n++)(a={}).type=1,i.dataset.sfContext=(0,d.default)(a),m.a.one(i,"mouseenter",y.mutationMode.wrapAudioOnMouseOver);for(o=2;o<4;o++)for(t=e[o],n=0;i=t.added[n];n++)i.dataset.sfSkip>0||(i.dataset.sfSkip="1",(s=S.getVideoId(i))&&(l=Object(r.a)(i,"b-video__left"))&&(u=l.querySelector(".b-video__info-time"))&&S.insertBtnInPopup(s,u));for(o=4;o<6;o++)for(t=e[o],n=0;i=t.added[n];n++)i.dataset.sfSkip>0||(i.dataset.sfSkip="1",(s=S.getVideoId(i))&&(l=Object(r.a)(i,"sp-video__item-page"))&&(u=l.querySelector(".sp-video__item-page__info__additional"))&&S.insertBtnInPage(s,u,1));for(o=6;o<8;o++)for(t=e[o],n=0;i=t.added[n];n++)i.dataset.sfSkip>0||(i.dataset.sfSkip="1",u=(l=Object(r.a)(i,"sp-video__item-page-new__video-content"))&&l.querySelector(".sp-video__item-page-new__actions"),s=l&&S.getVideoContentVideoId(l),u&&s&&S.insertBtnInPage(s,u,2));for(t=e[0],n=0;i=t.removed[n];n++)m.a.onRemoveListener(i)},queries:[{css:".jp__track",is:"added"},{css:".song-item",is:"added"},{css:".b-video__left .b-video__container object",is:"added"},{css:".b-video__left .b-video__container video",is:"added"},{css:".sp-video__item-page .sp-video__item-page__video-wrapper object",is:"added"},{css:".sp-video__item-page .sp-video__item-page__video-wrapper video",is:"added"},{css:".sp-video__item-page-new .sp-video__item-page-new__video-content video",is:"added"},{css:".sp-video__item-page-new .sp-video__item-page-new__video-content object",is:"added"},{css:"."+m.a.onRemoveClassName,is:"removed"}]})}}},k={tooltip:void 0,updatePos:function(e,t){var o=n.getPosition(e),i=n.getSize(this.tooltip);this.tooltip.style.top=o.top+t.top-i.height+"px";var a=o.left+parseInt(t.width/2)-parseInt(i.width/2),r=document.body.clientWidth+document.body.scrollLeft;r<a+i.width&&(a=r-i.width),this.tooltip.style.left=a+"px"},show:function(e,t){var n=this;return void 0!==this.tooltip?this.hide():(this.tooltip=h.a.create("div",{class:"sf-tooltip",style:(0,c.default)({position:"absolute",display:"none",zIndex:9999,opacity:0,transition:"opacity 0.2s",whiteSpace:"nowrap",fontSize:"12px",color:"#111",fontFamily:"arial, verdana, sans-serif, Lucida Sans"},t.style),on:["mouseenter",function(e){n.hide()}]}),document.body.appendChild(this.tooltip)),this.tooltip.style.display="block",setTimeout(function(){n.updatePos(e,t),n.tooltip.style.opacity=1}),this.tooltip},hide:function(){this.tooltip.style.opacity=0,this.tooltip.style.display="none"}},w=function(){var e=document.title,t=e.indexOf("-");return-1!==t&&(e=e.substr(0,t-1)),g.a.modify(e)},x={className:"sf-audio-panel",lastRow:null,style:void 0,secondsFromDuration:function(e){var t=e.split(":").map(function(e){return parseInt(e)});return 60*t[0]+t[1]},getTitle:function(e){var t=e.querySelector(".jp__track-fullname"),n=e.querySelector(".jp__track-performer");if(null===n&&null!==(n=e.querySelector(".jp__track-name-text"))&&null!==(n=n.querySelector("a:not(.jp__track-fullname)"))){var o=t;t=n,n=o}if(null!==n?(n=n.textContent.trim())||(n="noname"):n="",n?n+=" - ":n="",null!==t){var i=n+(t=t.textContent);return i.replace(/[\r\n\t\s]+/gim," ").replace(/\s+/g," ").trim()}},getTitle2:function(e){var t=e.querySelector(".title"),n=e.querySelector(".name")||e.querySelector(".b-music__songs__row__body__inner__title__name__link"),o=e.querySelector(".author")||e.querySelector(".b-music__songs__row__body__inner__title__author");return n&&((n=n.textContent).length||(n="noname")),o&&(o=o.textContent),(n&&o?o+" - "+n:t?t.textContent:"unknown").replace(/[\r\n\t\s]+/gim," ").replace(/\s+/g," ").trim()},getMp3UrlList:function(e){var t=1,n=document.querySelectorAll(".song-item");0===n.length&&(n=document.querySelectorAll(".jp__track"),t=0);for(var o,i=[],a={},r=function(e){s=s.then(function(){return new f.default(function(n){x.getUrl(e,t,n)})}).then(function(n){if(n&&!a[n]){a[n]=1;var o="",r="";if(0===t?(o=e.querySelector(".jp__track-duration-total"),r=x.getTitle(e)):(o=e.querySelector(".time"),r=x.getTitle2(e)),r){var s=g.a.modify(r)+".mp3",l=o&&x.secondsFromDuration(o.textContent);i.push({url:n,filename:s,title:r,duration:l})}}}).catch(function(e){})},s=f.default.resolve(),l=0;o=n[l];l++)r(o);s.then(function(){e(i)})},showListOfAudioFiles:function(e){x.getMp3UrlList(function(t){0!==t.length&&(e?n.playlist.popupPlaylist(t,w(),!0):n.playlist.popupFilelist(t))})},downloadMP3Files:function(){x.getMp3UrlList(function(e){0!==e.length&&n.downloadList.showBeforeDownloadPopup(e,{type:"audio",folderName:w()})})},onDlBtnOver:function(e){if(!o.a.isSafari){var t=this.dataset.duration;if("mouseenter"===e.type){var i,a=this,r=k.show(a,i={top:-14,width:16,style:{backgroundColor:"#fff",border:"1px solid #ccc",color:"rgb(48, 48, 48)"}});return a.dataset.bitrate?(r.style.padding="2px 5px 3px",void(r.textContent=" ("+a.dataset.size+" ~ "+a.dataset.bitrate+")")):a.dataset.size?(r.style.padding="2px 5px 3px",void(r.textContent=" ("+a.dataset.size+")")):(r.style.padding="2px 2px 0 2px",r.textContent="",r.appendChild(h.a.create("img",{src:"//my9.imgsmail.ru/r/my/preloader_circle_16.gif",height:16,width:16})),void o.a.sendMessage({action:"getFileSize",url:a.href},function(e){if(r.style.padding="2px 5px 3px",!e.fileSize)return r.textContent=o.a.i18n.getMessage("getFileSizeFailTitle"),void k.updatePos(a,i);var s=n.sizeHuman(e.fileSize,2);if(t){var l=Math.floor(e.fileSize/t/125)+" "+o.a.i18n.getMessage("kbps");a.dataset.bitrate=l,a.dataset.size=s,r.textContent=" ("+s+" ~ "+l+")"}else a.dataset.size=s,r.textContent=" ("+s+")";k.updatePos(a,i)}))}k.hide()}},getUrlViaBridge:function(e,t){void 0===x.getUrlViaBridge.index&&(x.getUrlViaBridge.index=0);var o="sf-bridge-item-"+x.getUrlViaBridge.index;x.getUrlViaBridge.index++,e.classList.add(o),n.bridge({args:[{className:o}],func:"function(a,b){var c=a.className,d=document.getElementsByClassName(c)[0];d.classList.remove(c);var e=jQuery(d).data();e&&e.item&&b(e.item.url)}",cb:function(e){t(e)},timeout:300})},getUrlById:function(e){return new f.default(function(t){n.bridge({args:[e],func:'function(a,b){var c="",d=function(a,b){var c="";return a.some(function(a){if(a._attr&&a._attr.file===b)return c=a._attr.url,!0}),c};try{c=d(APP.activePage.collection.items,a)}catch(a){}try{c||(c=d(APP.player.collection.items,a))}catch(a){}b(c)}',cb:t})}).then(function(e){if(!e)throw new Error("Url is not found");return/^\/\//.test(e)&&(e="http:"+e),e})},getUrl:function(e,t,n){var o=e.dataset.url;if(o)return n(o);if(0===t){var i=e.querySelector("a.jp__track-fullname-link");if(null===i)return n();i=i.href;var a=Object(s.a)(i);return a.file&&a.uid?n("https://music.my.mail.ru/file/"+a.file+".mp3?u="+encodeURIComponent(a.uid)):x.getUrlViaBridge(e,function(t){t&&(e.dataset.url=t),n(t)})}if(1===t){var r=e.dataset.file;return x.getUrlById(r).then(function(e){n(e)},function(){n("https://music.my.mail.ru/file/"+r+".mp3")})}},onDlBtnClick:function(e){e.stopPropagation(),n.downloadOnClick(e)},getDlLink:function(e,t,n){return h.a.create("a",{data:{duration:t||""},href:e,style:{position:"relative",display:"inline-block",width:"16px",height:"16px",verticalAlign:"middle"},download:g.a.modify(n+".mp3"),on:[["mouseenter",x.onDlBtnOver],["mouseleave",x.onDlBtnOver],["click",this.onDlBtnClick]]})},addDownloadPanelNew:function(e,t){if(t){var n=x.getTitle2(e);if(n){var o=e.querySelector(".time"),i=o&&x.secondsFromDuration(o.textContent),a=this.getDlLink(t,i,n),r=h.a.create("div",{class:[x.className,"type-2"],append:[a]}),s=e.querySelector(".icons");if(s)s.appendChild(r);else{var l=e.querySelector(".b-music__songs__row__body__inner__controls");l&&(a.classList.add(this.className+"-btn"),h.a.create(r,{class:[this.className,"type-3"],style:{background:"none",verticalAlign:"top"},append:[a]}),l.appendChild(r))}}}},addDownloadPanel:function(e,t){var n=e.querySelector(".jp__track-duration-total");if(null!==n&&void 0!==t){var o=x.getTitle(e);if(o){n=x.secondsFromDuration(n.textContent);var i=h.a.create("div",{class:[x.className,"type-0"],append:[this.getDlLink(t,n,o)]}),a=e.querySelector(".jp__track-management");a&&(a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i))}}},onTrackOver:function(e,t){0===e.getElementsByClassName(x.className).length&&x.getUrl(e,t,function(n){1===t?x.addDownloadPanelNew(e,n):x.addDownloadPanel(e,n)})},injectStyle:function(){this.style?this.style.parentNode||document.head.appendChild(this.style):(this.style=h.a.create("style",{text:Object(u.a)([{selector:"."+this.className,style:{display:"none",left:"22px",backgroundImage:"url("+n.svg.getSrc("download","#168DE2")+")",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"16px"}},{selector:"."+this.className+"-btn",style:{backgroundImage:"url("+n.svg.getSrc("download","#168DE2")+")",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"16px"}},{selector:".jp__track:hover ."+this.className,style:{display:"block",opacity:.5}},{selector:".jp__track:hover ."+this.className+".type-0",style:{display:"inline-block",marginLeft:"-16px",position:"relative",left:"-2px"}},{selector:".jp__track.jp__track-plays ."+this.className,style:{left:"-18px"}},{selector:"."+this.className+":hover",style:{opacity:"1 !important"}},{selector:"."+this.className+".type-2",style:{marginRight:"5px",marginLeft:"5px"}},{selector:".song-item:hover ."+this.className+".type-2",style:{display:"inline-block",opacity:.5}},{selector:".b-music__section__content--songs ."+this.className+".type-3",style:{marginTop:"18px"}},{selector:".b-music__section__content--songs .b-music__songs--inline ."+this.className+".type-3",style:{marginTop:"9px"}}])}),document.head.appendChild(this.style))},rmBtn:function(){x.style&&(x.style.parentNode.removeChild(x.style),x.style=void 0);for(var e,t=document.querySelectorAll("."+x.className),n=0;e=t[n];n++)e.parentNode.removeChild(e)}},S={btnIndex:0,domCache:{},className:"sf-video-btn",prepareLinks:function(e){for(var t,n=[],o=0;t=e[o];o++){var i=t.url,a="FLV";-1!==i.indexOf(".mp4")&&(a="MP4"),-1!==i.indexOf(".mov")&&(a="MOV"),-1!==i.indexOf(".mpg")&&(a="MPG"),t.quality||(t.quality="-?-");var r=t.quality.toUpperCase(),s=["1080P","720P","480P","360P","272P"].indexOf(r);-1!==s&&(r=["1080","720","480","360","272"][s]);var l=a.toLowerCase(),u={href:i,title:t.title,ext:l,format:a,quality:r,forceDownload:!0};n.push(u)}if(0!==n.length)return n},showLinkList:function(e,t,i){if(e||(e=o.a.i18n.getMessage("noLinksFound")),i){if(!y.contextMenu)return;y.contextMenu.update(e)}else y.contextMenu&&y.contextMenu.isShow?y.hideMenu():y.contextMenu=n.popupMenu.quickInsert(t,e,"video-links-popup",{parent:Object(r.a)(t,"b-video__main")})},appendPageBtn:function(e,t,i){if(null===e.querySelector("."+S.className)){var a=null,r=h.a.create("span",{class:S.className,append:[a=h.a.create("a",{data:{index:t},href:"#",on:["click",function(e){e.preventDefault(),m.a.onRemoveEvent(this,y.hideMenu),S.readDomCache(this.dataset.index,this)}]})]});if(1===i?(a.style.marginLeft="15px",a.textContent=o.a.i18n.getMessage("download")):2===i&&(h.a.create(a,{style:{fontSize:0,lineHeight:0,padding:"6px",boxShadow:"inset 0 0 0 1px #ccc",borderRadius:"3px",display:"inline-block"}}),a.appendChild(n.svg.getSvg("download","#666",18,18))),2===i)e.appendChild(r);else if(1===i){var s=e.lastChild;e.insertBefore(r,s),s=null}}},appendBtn:function(e,t){if(null===e.querySelector("."+S.className)){var n=void 0,i={};e.childNodes.length>1?n=e.childNodes[1]:(n=e.lastChild,i.marginRight="5px");var a=h.a.create("span",{class:e.lastChild.getAttribute("class")+" "+S.className,append:[h.a.create("a",{data:{index:t},text:o.a.i18n.getMessage("download"),href:"#",on:["click",function(e){e.preventDefault(),m.a.onRemoveEvent(this,y.hideMenu),S.readDomCache(this.dataset.index,this)}],style:i})]});e.insertBefore(a,n),n=null}},readDomCache:function(e,t){S.showLinkList(o.a.i18n.getMessage("download"),t);var i=function(){S.showLinkList(void 0,t,1)},r=function(e){if("getRutubeLinks"===e.action){if(!a.showUmmyItem)return i();S.showLinkList(n.popupMenu.prepareLinks.rutube(e.links),t,1)}else"getMailruLinks"===e.action?S.showLinkList(n.popupMenu.prepareLinks.mailru(e.links,e.title),t,1):S.showLinkList(S.prepareLinks(e.links),t,1)},s=S.domCache[parseInt(e)];if(s.links)r(s);else if(s.metadataUrl){var l=s.metadataUrl;/^\/\//.test(l)&&(l="http:"+l),Object(p.a)({url:l,withCredentials:!0,json:!0,localXHR:!0},function(e,t){!function(e){e&&"object"==typeof e?S.readMeta(e,function(e){e.links?(s.links=e.links,s.action=e.action,r(s)):i()}):i()}(e?null:t.body)})}else s.url?o.a.sendMessage({action:"getMailruLinks",extVideoId:s.url},function(e){e.links?(s.title=e.title,s.links=e.links,s.action=e.action,r(s)):i()}):i()},readMeta:function(e,t){var n,i=[];if("UPLOADED"===e.provider){if(n=e.movie?e.movie.title:void 0,!e.videos)return t();e.videos.forEach(function(e){i.push({quality:e.name,url:e.url,title:n})})}if("ugc"===e.provider){if(n=e.meta?e.meta.title:void 0,!e.videos)return t();e.videos.forEach(function(e){i.push({quality:e.key,url:e.url,title:n})})}return"pladform"===e.provider?(n=e.meta?e.meta.title:void 0,void o.a.sendMessage({action:"getPladformVideo",extVideoId:{playerId:e.meta.playerId,videoId:e.meta.videoId}},function(e){if(!e)return t();var o=e.links;if(!o)return t();o.forEach(function(e){"object"==typeof e&&void 0===e.title&&(e.title=n)}),t(e)})):0===i.length?t():t({links:i})},getFlashVars:function(e){if(e){var t=e.querySelector('param[name="flashvars"]');if(t){var n=t.value,o=Object(s.a)(n,{params:!0});return o.metadataUrl?{metadataUrl:o.metadataUrl}:void 0}}},matchUrl:function(e){var t=e.match(/\/([^\/]+)\/([^\/]+)\/video\/(.+).html/);return t||(t=e.match(/embed\/([^\/]+)\/([^\/]+)\/(.+).html/)),t},getVideoId:function(e){"OBJECT"!==e.tagName&&(e=e.querySelector('object[name="b-video-player"]'));var t=this.getFlashVars(e);if(t)return t;var n=document.querySelector('[data-type="album-json"]');if(n)try{if((n=JSON.parse(n.textContent)).signVideoUrl)return{metadataUrl:n.signVideoUrl}}catch(e){}var o=this.matchUrl(location.pathname);return o?{metadataUrl:"http://api.video.mail.ru/videos/"+o[1]+"/"+o[2]+"/"+o[3]+".json"}:void 0},getVideoContentVideoId:function(e){var t=null,n=e.querySelector(".sp-video__item-page-new__share__item[data-share-type][data-location]");return n&&(t={url:n.dataset.location}),t},insertBtnInPage:function(e,t,n){e.metadataUrl?(e.metadataUrl=decodeURIComponent(e.metadataUrl),S.domCache[S.btnIndex]={metadataUrl:e.metadataUrl}):S.domCache[S.btnIndex]=(0,c.default)({},e),S.appendPageBtn(t,S.btnIndex,n),S.btnIndex++},insertBtnInPopup:function(e,t){e.metadataUrl&&(e.metadataUrl=decodeURIComponent(e.metadataUrl),S.domCache[S.btnIndex]={metadataUrl:e.metadataUrl}),S.appendBtn(t,S.btnIndex),S.btnIndex++},rmBtn:function(){for(var e,t=document.querySelectorAll("."+S.className),n=0;e=t[n];n++)e.parentNode.removeChild(e)}}})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={8:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([33,0]),n()}({33:function(e,t,n){n.r(t);var o=n(0),i=n(12),a=n(5),r=n(13),s=n(14),l=n(6),p=n(3),m=n(8),h=n(9),g=n(16),v=n(2),b=n(1),y=n(4),k=n(10),w=n(11),x=n(20),S=Object(k.a)("facebook_com");w.a.isSingle()&&Object(a.b)("facebook",function(e,t){var n=Object(i.a)(t),a=t.preferences,k=a.moduleFacebook?1:0;o.a.onMessage.addListener(function(t,n,o){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return o({state:k,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return w.changeState(t.state)}"updatePreferences"!==t.action?k&&"updateLinks"===t.action&&(w.changeState(0),w.changeState(1)):(0,c.default)(a,t.preferences)}),k&&setTimeout(function(){w.run()});var w={contextMenu:null,className:"savefrom_fb_download",isMutation:!1,run:function(){if(k=1,L.addStyle(),_.injectStyle(),n.mutationWatcher.isAvailable())return this.isMutation=!0,this.initEmbedDownloader(),void this.mutationMode.enable()},changeState:function(e){w.hideMenu(),k=e,A.disable(),_.rmCurrentPhotoBtn(),_.rmDataAttrs(),L.rmBtn(),M.rmBtn(),w.mutationMode.stop(),e&&w.run()},initEmbedDownloader:function(){n.addStyleRules("."+n.embedDownloader.linkClass+" img",{opacity:".5"}),n.embedDownloader.init()},mutationMode:{observer:null,stop:function(){this.observer&&this.observer.stop(),["sfSkip"].forEach(function(e){for(var t,n=Object(l.a)(e),o=document.querySelectorAll("["+n+"]"),i=0;t=o[i];i++)t.removeAttribute(n)})},wrapVideoGetLinks:function(e){switch(e.tagName){case"EMBED":M.getLinksFromEmbed(e,function(e){M.appendLinks(e&&e.links)});break;case"VIDEO":M.getLinksFromVideo(e,function(e){M.appendLinks(e&&e.links)})}},wrapVideoFeedOnLinkHover:function(){k&&L.onLinkHover.apply(this)},wrapPhotoOnHover:function(e){k&&_.addCurrentDlBtn(this)},wrapExternalMediaMouseEnter:function(){k&&(this.dataset[A.linkDataAttr]?clearTimeout(A.timer):A.handle(this)?(A.lastLink&&A.lastLink!==this&&A.removeBtn(A.lastLink),n.embedDownloader.hidePanel(),A.lastLink=this):(v.a.off(this,"mouseenter",w.mutationMode.wrapExternalMediaMouseEnter),v.a.off(this,"mouseleave",w.mutationMode.wrapExternalMediaMouseLeave)))},wrapExternalMediaMouseLeave:function(){if(k){var e=this;e.dataset[A.linkDataAttr]&&(clearTimeout(A.timer),A.timer=setTimeout(function(){A.removeBtn(e)},1500))}},wrapExternalMedia:function(e){v.a.on(e,"mouseenter",w.mutationMode.wrapExternalMediaMouseEnter),v.a.on(e,"mouseleave",w.mutationMode.wrapExternalMediaMouseLeave)},enable:function(){if(this.observer)return this.observer.start();var e=this;this.observer=n.mutationWatcher.run({callback:function(t){var o,i,a,r;for(a=0;a<2;a++)for(o=t[a],i=0;r=o.added[i];i++){var s=!1;Object(m.a)(r,"#fbxPhotoContentContainer .videoStage "+r.tagName)&&(s=!0),s?e.wrapVideoGetLinks(r):v.a.one(r,"mouseenter",e.wrapVideoFeedOnLinkHover)}for(o=t[2],i=0;r=o.added[i];i++)if(w.hideMenu(),!(r.dataset.sfSkip>0)){r.dataset.sfSkip="1";var l=n.getParentByClass(r,"stageWrapper");v.a.one(l,"mouseenter",e.wrapPhotoOnHover)}for(o=t[3],i=0;r=o.added[i];i++)r.sfSkip>0||(r.sfSkip="1",e.wrapExternalMedia(r));for(o=t[4],i=0;r=o.removed[i];i++)v.a.onRemoveListener(r)},queries:[{css:"embed",is:"added"},{css:"video",is:"added"},{css:[".fbPhotoSnowliftContainer .stageWrapper .stage img.spotlight",".fbPhotoSnowliftContainer .stageWrapper .stage .videoStage video"],is:"added"},{css:"a",is:"added"},{css:"."+v.a.onRemoveClassName,is:"removed"}]})}},hideMenu:function(){w.contextMenu&&(w.contextMenu.hide(),w.contextMenu=null)}},A={linkDataAttr:"savefromEd",timer:0,lastLink:null,re:[/https?:\/\/(?:[a-z]+\.)?youtube\.com\/(?:#!?\/)?watch\?[^\s\"\'\<\>]*v=([\w\-]+)/i,/https?:\/\/(?:[a-z0-9]+\.)?youtube\.com\/(?:embed|v)\/([\w\-]+)/i,/https?:\/\/(?:[a-z]+\.)?youtu\.be\/([\w\-]+)/i,/https?:\/\/(?:[\w\-]+\.)?vimeo\.com\/(\d+)(?:\?|$)/i],thumbnail:{youtube:{re:[/ytimg\.com(?:\/|%2F)vi(?:\/|%2F)([\w\-]+)(?:\/|%2F)/i],url:"http://www.youtube.com/watch?v={vid}"}},disable:function(){var e=n.embedDownloader.panel;e&&(e.style.display="none")},removeBtn:function(e){if(e&&"object"==typeof e){var t=e.querySelector("."+w.className);t&&(t.parentNode.removeAttribute(Object(l.a)(A.linkDataAttr)),t.parentNode.removeChild(t)),e.removeAttribute(Object(l.a)(A.linkDataAttr)),e==this.lastLink&&(this.lastLink=null)}},checkUrl:function(e,t){if(!t&&e.search(/https?:\/\/([\w\-]+\.)?facebook\.com\/l\.php/i)>-1)return this.checkUrl(decodeURIComponent(e),!0);for(var n=0,o=this.re.length;n<o;n++){var i=e.match(this.re[n]);if(i&&i.length>0)return i[0]}},handle:function(e){var t=e.querySelector("img");if(t){var o=t.parentNode;if(t.src&&"relative"==n.getStyle(o,"position")){var i=e.getAttribute("ajaxify");if(i&&i.search(/\/flash\/expand_inline/i)>-1){var a=this.getThumbnailUrl(t.src);if(a)return this.createButton(a,o,e,{display:"block",position:"absolute",bottom:"3px",right:"3px",zIndex:9999,margin:0,width:"16px",height:"16px"},{display:"block"})}else if(this.checkUrl(e.href))return this.createButton(e.href,o,e,{display:"block",position:"absolute",bottom:"3px",right:"3px",zIndex:9999,margin:0,width:"16px",height:"16px"},{display:"block"})}return!1}return this.createButton(e.href,e,e)},getThumbnailUrl:function(e){for(var t in this.thumbnail)for(var o=0;o<this.thumbnail[t].re.length;o++){var i=n.getMatchFirst(e,this.thumbnail[t].re[o]);if(i)return this.thumbnail[t].url.replace(/\{vid\}/gi,i)}return""},createButton:function(e,t,i,a,r){if(!(e=this.checkUrl(e)))return!1;var s=document.createElement("a");s.className=w.className,s.href="http://savefrom.net/?url="+encodeURIComponent(e),s.setAttribute(n.embedDownloader.dataAttr,e),s.title=o.a.i18n.getMessage("download"),n.setStyle(s,{marginLeft:"7px",verticalAlign:"middle"}),a&&n.setStyle(s,a);var l=document.createElement("img");return l.className="icon",l.src=n.svg.getSrc("download","#a2db16"),n.setStyle(l,{display:"inline-block",width:"16px",height:"16px",verticalAlign:"middle",cursor:"pointer"}),r&&n.setStyle(l,r),s.appendChild(l),i.dataset[this.linkDataAttr]=1,t.appendChild(s),!0}},M={getLinksFromEmbed:function(e,t){if(!e)return t(null);var n=e.getAttribute("flashvars");if(null===n)return t(null);var o=Object(s.a)(n).params;if(!o)return t(null);var i=null;try{i=JSON.parse(o).video_data}catch(e){}if(!i)return t(null);i.progressive&&(i=i.progressive);var a={},r={sd_src:"SD",hd_src:"HD"};Array.isArray(i)||(i=[i]);for(var l,u=0;l=i[u];u++)["sd_src","hd_src"].forEach(function(e){l[e]&&(a[l[e]]=r[e])});return t({links:a})},requestLocalVideoLinks:function(e){return new f.default(function(e,t){n.bridge({func:'function(a){var b=null,c=null;try{c=window.require("DTSGInitialData").token}catch(a){b=a.message}a([b,c])}',cb:function(n){var o=null,i=null;!n||n[0]?o=new Error("Get token timeout"):i=n[1],o?t(o):e(i)}})}).then(function(t){return new f.default(function(n,o){Object(g.a)({method:"POST",url:"https://www.facebook.com/video/tahoe/async/"+e+"/?"+x.stringify({payloadtype:"all"}),data:x.stringify({__a:1,fb_dtsg:t})},function(e,t,i){e||!i?o(new Error("Request data error")):n(i)})})}).then(function(t){return new f.default(function(n,i){o.a.sendMessage({action:"getFacebookLinksFromData",extVideoId:e,data:t},function(e){e&&e.links?n(e):i(new Error("Get links from data error"))})})}).catch(function(e){throw S.error("get local links error",e),e})},requestBgVideoLinks:function(e){return new f.default(function(t,n){o.a.sendMessage({action:"getFacebookLinks",extVideoId:e},function(e){e&&e.links?t(e):n(new Error("Get links error"))})}).catch(function(e){throw S.error("get links error",e),e})},requestVideoLinksById:function(e){return f.default.resolve().then(function(){return M.requestLocalVideoLinks(e)}).catch(function(){return M.requestBgVideoLinks(e)})},requestVideoLinks:function(e,t){return M.requestVideoLinksById(e).then(function(e){t(e.links,e.title)},function(e){t()})},getLinksFromVideo:function(e,t){if(!e)return t(null);var o,i={},a={},s=null;if(!s){var l=Object(h.a)(e,"div[data-ft]"),d=null;try{d=JSON.parse(l.dataset.ft)}catch(e){}if(d){var c=d.mf_story_key;c&&(s=c,i.popup_1=!0)}}if(!s){var f=Object(h.a)(e,".uiStreamStory[data-story-id]"),p=/:(\d+)$/.exec(f&&f.dataset.storyId);(p=p&&p[1])&&(s=p)}if(!s&&(o=Object(r.a)(e,"fbUserContent"))){var m=o.querySelector("a[data-video-id]");m&&(y=m&&m.dataset.videoId)&&(s=y)}if(!s&&(o=Object(h.a)(e,".userContentWrapper"))){var g=o.querySelector('div[id^="feed_subtitle_"] a[data-video-channel-id]');if(g){var v=/\/videos\/(\d+)/.exec(g.href);(y=v&&v[1])&&(s=y)}else{var b=o.querySelectorAll('a.profileLink, a[rel="theater"], #fbPhotoSnowliftTimestamp > a[href]'),y=null;[].slice.call(b).some(function(e){var t=/\/videos\/(\d+)/.exec(e.href);return y=t&&t[1]}),y&&(s=y)}}if(!s){var k=!1,w=!1,x=document.getElementById("stream_pagelet"),S=x&&x.previousElementSibling;if(S&&S.contains(e)&&(k=!0),!k){var A=document.querySelector(".uiStreamStory"),_=A&&A.parentNode;(_=_&&_.parentNode)&&_.contains(e)&&(w=!0)}(k||w)&&(y=M.getVideoIdFromUrl())&&(s=y)}if(!s&&Object(h.a)(e,"#pagelet_group_permalink")&&(v=/video_id:"?([^,"]+)/.exec(document.body.innerHTML),(y=v&&v[1])&&(s=y)),s&&(a.id=s),e.src&&/^https?:/.test(e.src)){var L=n.getFileExtension(e.src,"mp4");a[e.src]=L.toUpperCase()}var C=e.querySelectorAll("source");if(C&&C.length>0)for(var O=0;O<C.length;O++)L=n.getFileExtension(C[O].src,"mp4"),a[C[O].src]=L.toUpperCase();return(0,u.default)(a).length?(i.links=a,t(i)):t(null)},getVideoIdFromUrl:function(){var e=null;return n.embedDownloader.hostings.facebook.re.some(function(t){var n=t.exec(location.href);if(n)return e=n[1],!0}),e},getFileName:function(e){var t=n.getFileName(e);if(t)return t;var o=n.dateToObj();return"facebook_"+o.year+"-"+o.month+"-"+o.day+"_"+o.hour+"-"+o.min+"."+n.getFileExtension(e,"mp4")},prepareLinks:function(e,t){var n=[];for(var i in e){var a=this.getFileName(i),r=a.lastIndexOf("."),s=a.substr(r+1),l={href:i,title:a=t||a.substr(0,r),format:s.toUpperCase(),quality:e[i],forceDownload:!0};n.push(l)}return 0===n.length&&(n=o.a.i18n.getMessage("noLinksFound")),n},appendLinks:function(e){if(e){var t=document.getElementById("fbPhotoPageMediaInfo");if(null!==t){var i=document.querySelector("h2.uiHeaderTitle");if(i&&(i=i.textContent),t&&!t.querySelector("."+w.className)){var a=document.createElement("div");a.className=w.className;var r=b.a.create("div",{title:o.a.i18n.getMessage("download"),style:{display:"inline-block",width:"16px",height:"16px",backgroundImage:"url("+n.svg.getSrc("download","#a2db16")+")",backgroundRepeat:"no-repeat",backgroundPosition:"center center",verticalAlign:"middle",cursor:"pointer"}});a.appendChild(r);var s=null;r.addEventListener("click",function(){if(w.contextMenu&&w.contextMenu.isShow)w.hideMenu();else{var t=w.contextMenu=n.popupMenu.quickInsert(this,o.a.i18n.getMessage("download")+" ...",w.className+"_popup");if(s)t.update(s);else if(e.id){var a=e.id;delete e.id,M.requestVideoLinks(a,function(o,i){s=o?n.popupMenu.prepareLinks.facebook(o,i):M.prepareLinks(e),t.update(s)})}else s=M.prepareLinks(e,i),t.update(s)}}),t.appendChild(a),t=null,a=null,r=null}}}},rmBtn:function(){for(var e,t=document.querySelectorAll("."+w.className),n=0;e=t[n];n++)e.parentNode.removeChild(e)}},_={style:null,getFilenameFromUrl:function(e){return n.getMatchFirst(e,/\/([^\/]+\.[a-z0-9]{3,4})(?:\?|$)/i)},getPhotoIdFromUrl:function(){var e=null,t=Object(s.a)(location.href);return t.fbid&&(e=t.fbid),e},prepPhotoUrl:function(e){return e&&(/[?&]dl=1/.test(e)||(e+=(/\?/.test(e)?"&":"?")+"dl=1")),e},rmCurrentPhotoBtn:function(e){for(var t,n=void 0,o=document.querySelectorAll(".sf-dl-current-photo-btn"),i=0;t=o[i];i++)e&&e.contains(t)?n=t:t.parentNode.removeChild(t);return n},injectStyle:function(){this.style?this.style.parentNode||document.head.appendChild(this.style):(this.style=b.a.create("style",{text:Object(p.a)({"div > .sf-dl-current-photo-btn":{display:"none",position:"absolute",top:"10px",left:"10px",width:"28px",height:"24px",border:0,zIndex:100,cursor:"pointer",backgroundColor:"#000",padding:0,borderRadius:"2px",opacity:.4,transition:"opacity 100ms linear",lineHeight:0},"div > .sf-dl-current-photo-btn svg":{margin:"4px"},"div > .sf-dl-current-photo-btn:hover":{opacity:.8},"div > .sf-dl-current-photo-btn:hover svg path":{fill:"#00B75A"},"body:not(.fullScreen) div:hover > .sf-dl-current-photo-btn":{display:"block"}})}),document.head.appendChild(this.style))},getPhotoUrlFromCtr:function(e){var t=[],n=e.querySelector("img.spotlight")||e.querySelector("img.fbPhotoImage");return n&&t.push(n.src),t},getVideoUrlFromPhotoCtr:function(e){var t=null,n=e.querySelector(".stage .videoStage video");if(n){var o=Object(h.a)(n,".fbPhotoSnowliftPopup");if(o){var i=o.querySelector('div[id^="feed_subtitle_"] a[data-video-channel-id]');if(i){var a=/\/videos\/(\d+)/.exec(i.href);a&&(t=a[1])}}}return t},getLinksFromPhotoCtr:function(e){return Object(m.a)(e,".stageWrapper.showVideo")?f.default.resolve().then(function(){var t=M.getVideoIdFromUrl();if(t||(t=_.getVideoUrlFromPhotoCtr(e)),t)return M.requestVideoLinksById(t)}).then(function(e){return n.popupMenu.prepareLinks.facebook(e.links,e.title)}):f.default.resolve().then(function(){var e=_.getPhotoIdFromUrl();if(e)return new f.default(function(t,n){o.a.sendMessage({action:"getFacebookPhotoUrl",fbid:e},function(e){e&&e.length?t(e):n(new Error("getFacebookPhotoUrl can't get url"))})});throw new Error("Can't get photo id from url")}).catch(function(t){return _.getPhotoUrlFromCtr(e)}).then(function(e){if(!e||!e.length)throw new Error("Photo url not found");return e.map(function(e){var t=_.prepPhotoUrl(e),n=y.a.modify(_.getFilenameFromUrl(t)),i=/(.+)\.([^.]+)$/.exec(n),a="jpg",r=n;return i&&(a=i[1],r=i[2]),{href:t,title:r,quality:o.a.i18n.getMessage("download"),format:" ",ext:a,isBlank:!0}})})},addDlCurrentPhotoBtn:function(e){if(!this.rmCurrentPhotoBtn(e)){var t=b.a.create("a",{class:"sf-dl-current-photo-btn",href:"#",title:o.a.i18n.getMessage("download"),append:[n.svg.getSvg("download","#FFF",16)],on:["click",function(t){if(t.stopPropagation(),t.preventDefault(),w.contextMenu&&w.contextMenu.isShow)w.hideMenu();else{var i=function e(t){18!==t.keyCode&&17!==t.keyCode&&(a.hide(),document.removeEventListener("keydown",e))},a=w.contextMenu=n.popupMenu.quickInsert(this,o.a.i18n.getMessage("download")+" ...","photoDlMenu",{parent:e,onShow:function(){w.isMutation||document.addEventListener("keydown",i)},onHide:function(){w.isMutation||document.removeEventListener("keydown",i)}});_.getLinksFromPhotoCtr(e).then(function(e){e.forEach(function(e){e.func=function(){a.hide()}}),a.update(e)}).catch(function(e){S.debug("Get photo links error",e),a.update(o.a.i18n.getMessage("noLinksFound"))})}}]});e.appendChild(t)}},addCurrentDlBtn:function(e){e.dataset.sfSkip>0||(e.dataset.sfSkip="1",this.addDlCurrentPhotoBtn(e))},rmDataAttrs:function(){for(var e,t=Object(l.a)("sfSkip"),n=document.querySelectorAll("*["+t+"]"),o=0;e=n[o];o++)e.removeAttribute(t)}},L={style:null,addStyle:function(){this.style?this.style.parentNode||document.head.appendChild(this.style):(this.style=b.a.create("style",{class:"sfFeedStyle",text:Object(p.a)([{selector:"."+w.className+"-feed.sf-feed",style:{display:"none",width:"20px",height:"20px",padding:0,position:"absolute",background:"url("+n.svg.getSrc("download","#a2db16")+") center no-repeat transparent",backgroundSize:"16px",top:"5px",left:"5px",zIndex:1,cursor:"pointer"}},{selector:'div[role="dialog"] .'+w.className+"-feed.sf-feed",style:{top:"40px"}},{selector:"body:not(.fullScreen) div:hover > ."+w.className+"-feed.sf-feed",style:{display:"block"}},{selector:"."+w.className+"-feed.sf-feed:active",style:{outline:0}}])}),document.head.appendChild(this.style))},onDlBtnClick:function(e){if(e.preventDefault(),e.stopPropagation(),w.contextMenu&&w.contextMenu.isShow)w.hideMenu();else{try{var t=JSON.parse(this.dataset.sfDlLinks)}catch(e){return}var i=w.contextMenu=n.popupMenu.quickInsert(this,o.a.i18n.getMessage("download")+" ...",w.className+"_popup");if(t.id){var a=t.id;delete t.id,M.requestVideoLinks(a,function(e,o){var a;a=e?n.popupMenu.prepareLinks.facebook(e,o):M.prepareLinks(t),i.update(a)})}else{var r=M.prepareLinks(t);i.update(r)}}},addDownloadBtn:function(e,t){var n=e.querySelector("."+w.className+"-feed");n&&n.parentNode.removeChild(n),e.appendChild(b.a.create("a",{data:{sfDlLinks:(0,d.default)(t)},title:o.a.i18n.getMessage("download"),class:[w.className+"-feed","sf-feed"],href:"#",on:["click",L.onDlBtnClick]}))},onLinkHover:function(){var e=this;if(!(this.dataset.hasSfFeedBtn>1)){this.dataset.hasSfFeedBtn="1";var t=this;return"VIDEO"===t.tagName&&(t=t.querySelector("embed")||this),new f.default(function(e){"EMBED"===t.tagName?M.getLinksFromEmbed(t,e):"VIDEO"===t.tagName&&M.getLinksFromVideo(t,e)}).catch(function(e){return S("getLinks error",e),null}).then(function(t){var n=t&&t.links;if(n)if(t&&t.popup_1)L.addDownloadBtn(e.parentNode,n);else if(Object(m.a)(e,".uiStreamStory "+e.tagName)||Object(m.a)(e,".fbPhotoSnowliftContainer "+e.tagName))Object(h.a)(e,".fbPhotoSnowliftPopup .stageWrapper")||L.addDownloadBtn(e.parentNode,n);else{var o=document.getElementById("pagelet_timeline_main_column")||document.getElementById("stream_pagelet")||document.getElementById("mainContainer");if(o&&o.contains(e))L.addDownloadBtn(e.parentNode,n);else{var i=document.getElementById("stream_pagelet"),a=i&&i.previousElementSibling;if(a&&a.contains(e))L.addDownloadBtn(e.parentNode,n);else{var r=document.querySelector(".uiStreamStory"),s=r&&r.parentNode;(s=s&&s.parentNode)&&s.contains(e)&&L.addDownloadBtn(e.parentNode,n)}}}else e.dataset.hasSfFeedBtn=0})}},rmBtn:function(){for(var e=Object(l.a)("hasSfFeedBtn"),t=document.querySelectorAll("*["+e+"]"),n=0;o=t[n];n++)o.removeAttribute(e);var o,i=document.querySelectorAll("."+w.className+"-feed");for(n=0;o=i[n];n++)o.parentNode.removeChild(o)}}})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={9:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([34,0]),n()}({34:function(e,t,n){n.r(t);var o=n(0),i=n(12),a=n(5),r=n(7),s=n(2),l=n(1),u=n(4);n(11).a.isSingle()&&Object(a.b)("savefrom",function(e,t){var n=Object(i.a)(t),a=t.preferences;o.a.onMessage.addListener(function(e,t,n){"updatePreferences"!==e.action||(0,c.default)(a,e.preferences)}),setTimeout(function(){r.run()});var r={name:e,scriptId:"savefrom__ext_script",dataAttr:"data-extension-disabled",run:function(){if(r.setExtParams(),location.href.search(/\/(update-helper|userjs-setup)\.php/i)>-1){var e=document.getElementById("js-not-remind");e&&e.addEventListener("click",function(e){0===e.button&&o.a.sendMessage({action:"hideUserjsMigrationInfo"})})}else{var t=document.getElementById("sf_form");t&&(t.addEventListener("submit",function(e){var i=t.sf_url.value;if(i&&"1"!=t.getAttribute(r.dataAttr)){var a={getVKLinks:[/^https?:\/\/(?:[a-z]+\.)?(?:vk\.com|vkontakte\.ru)\/(video-?\d+_-?\d+)/i,/^https?:\/\/(?:[a-z]+\.)?(?:vk\.com|vkontakte\.ru)\/video_ext.php\?(.*oid=-?\d+.*)$/i,/^https?:\/\/(?:[a-z]+\.)?(?:vk\.com|vkontakte\.ru)\/[\w\-\.]+\?.*z=(video-?\d+_-?\d+)/i],getYoutubeLinks:[/^https?:\/\/(?:[a-z]+\.)?youtube\.com\/(?:#!?\/)?watch\?.*v=([\w\-]+)/i,/^https?:\/\/(?:[a-z0-9]+\.)?youtube\.com\/(?:embed|v)\/([\w\-]+)/i,/^https?:\/\/(?:[a-z]+\.)?youtu\.be\/([\w\-]+)/i],getVimeoLinks:[/^https?:\/\/(?:[\w\-]+\.)?vimeo\.com\/(?:\w+\#)?(\d+)/i,/^https?:\/\/player\.vimeo\.com\/video\/(\d+)/i,/^https?:\/\/(?:[\w\-]+\.)?vimeo\.com\/channels\/(?:[^\/]+)\/(\d+)$/i,/^https?:\/\/(?:[\w\-]+\.)?vimeo\.com\/[^\/]+\/review\/(\d+)\/(?:\d+)/i],getDailymotionLinks:[/^http:\/\/(?:www\.)?dai\.ly\/([a-z0-9]+)_?/i,/^https?:\/\/(?:[\w]+\.)?dailymotion\.com(?:\/embed|\/swf)?\/video\/([a-z0-9]+)_?/i],getFacebookLinks:[/^https?:\/\/(?:[\w]+\.)?facebook\.com(?:\/video)?\/video.php.*[?&]{1}v=([0-9]+).*/i,/^https?:\/\/(?:[\w]+\.)?facebook\.com\/.+\/videos(?:\/\w[^\/]+)?\/(\d+)/i],getMailruLinks:[/^https?:\/\/my\.mail\.ru\/([^\/]+\/[^\/]+\/[^\/]+\/[^\/]+\/[^\/]+\.html).*/i,/^https?:\/\/videoapi\.my\.mail\.ru\/videos\/(embed\/[^\/]+\/[^\/]+\/[^\/]+\/[^\/]+\.html).*/i]};for(var s in a)for(var l=0;l<a[s].length;l++){var u=i.match(a[s][l]);if(u&&u.length>1){u=u[1];var d=n.getMatchFirst(i,/list=([\w\-]+)/i);e.preventDefault(),e.stopPropagation();var c={extVideoId:u,action:s,checkSubtitles:!0,checkLinks:!0};return"getVimeoLinks"===s&&(c.url=i),o.a.sendMessage(c,function(e){r.setLinks(e.action,e.extVideoId,e.links,e.title,null,e.subtitles,d,e.duration,e.thumb,e.checkLinks)}),!1}}}},!1),document.body.addEventListener("click",function(e){var t=e.target;if("I"===t.tagName&&t.classList.contains("file-info-btn"))r.onInfoBtnClick.call(t,e);else{if("A"!=t.tagName){if("A"!=t.parentNode.tagName)return;t=t.parentNode}if((o.a.isChrome||o.a.isFirefox)&&t.classList.contains("link-download")&&!t.classList.contains("disabled")&&t.getAttribute("download"))return t.classList.contains("ga_track_events")&&t.getAttribute("data-ga-event")&&s.a.trigger(t,"sendstats",{bubbles:!0,cancelable:!1}),n.downloadOnClick(e,null);var i=t.getAttribute("data-video-id");if(i&&"1"!=t.getAttribute(r.dataAttr)){var a={vk:"getVKLinks",yt:"getYoutubeLinks"};if(2==(i=i.split(":",2)).length&&a[i[0]]){e.preventDefault(),e.stopPropagation(),t.style.display="none",t.id||(t.id=i[0]+"_"+i[1]+"_"+1e3*Math.random()+"_"+(new Date).getTime());var l={extVideoId:i[1],action:a[i[0]],checkSubtitles:!0,checkLinks:!0};return o.a.sendMessage(l,function(e){r.setLinks(e.action,e.extVideoId,e.links,e.title,t,e.subtitles,null,e.duration,e.thumb,e.checkLinks)}),!1}}}},!0))}},onInfoBtnClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.classList.contains("sf-clicked")){this.classList.add("sf-clicked");var t="sf-btn"+function(){for(var e=Date.now(),t=e;e===t;)t=Date.now();return t}();this.classList.add(t);var i=function(){var e=document.getElementsByClassName("sf-script")[0];void 0!==e&&e.parentNode.removeChild(e)};i(),document.body.appendChild(l.a.create("script",{class:"sf-script",text:'(function(a){try{var b=document.getElementsByClassName(a),c=$(b);c.unbind("click").removeAttr("onclick").addClass("active"),b.onclick&&(b.onclick=null);var d=c.closest(".result-box").find(".meta")[0];if(!d)return;var e="file_info"+a,f=sf.append(d,"div",{id:e,class:"media-info"});sf.append(f,"span",{id:e+"_busy"}),sf.busy(e+"_busy",!0)}catch(a){}})('+(0,d.default)(t)+")"}));var a=this.nextElementSibling.href,r=this.nextElementSibling.textContent;o.a.sendMessage({action:"getFileSize",url:a},function(e){var a=e.fileSize,s={size:{name:{trans:o.a.i18n.getMessage("size")},value:n.sizeHuman(a)}};i(),document.body.appendChild(l.a.create("script",{class:"sf-script",text:'(function(a,b,c){try{var d=document.getElementById("file_info"+a+"_busy");$(d).slideUp();var e=document.getElementsByClassName(a);sf.fileInfo.show(c,b,e,d.parentNode)}catch(a){}})('+[(0,d.default)(t),(0,d.default)(r),(0,d.default)(s)].join(",")+")"}))})}},setExtParams:function(){var e=l.a.create("script",{id:"savefrom__ext_params",type:"text/javascript"}),t={id:a.sfHelperName,version:a.version,enable:1};e.textContent='(function(a){try{window.setBrowserExtension&&"function"==typeof setBrowserExtension&&setBrowserExtension(a)}catch(a){}})('+(0,d.default)(t)+")",document.body.appendChild(e)},setLinks:function(e,t,n,o,i,a,s,l,u,d){if(!1!==d)switch(e){case"getYoutubeLinks":r.setYoutubeLinks(t,n,o,i,a,s,l,u);break;case"getVKLinks":r.setVKLinks(t,n,o,i,l,u);break;case"getVimeoLinks":r.setVimeoLinks(t,n,o,i,l,u);break;case"getDailymotionLinks":r.setDailymotionLinks(t,n,o,i,l,u);break;case"getFacebookLinks":r.setFacebookLinks(t,n,o,i,l,u);break;case"getMailruLinks":r.setMailruLinks(t,n,o,i,l,u)}else r.handleError(i)},handleError:function(e){if(e)e&&(e.style.display="",e.setAttribute(r.dataAttr,"1"),e.click());else{var t=document.getElementById("sf_form");t&&(t.setAttribute(r.dataAttr,"1"),t.submit(),t.removeAttribute(r.dataAttr))}},showVideoResult:function(e,t){if(e&&e.url&&e.url.length){var n,o=document.getElementById(r.scriptId);o&&o.parentNode.removeChild(o),o=l.a.create("script",{id:r.scriptId,type:"text/javascript"}),n=t?'(function(a,b){try{var c=document.getElementById(a);sf.result.replaceAjaxResult(b,!0,!0,c)}catch(a){}})("'+t.id+'",'+(0,d.default)(e)+")":"(function(a){try{sf.finishRequest(!0),sf.videoResult.show(a)}catch(a){}})("+(0,d.default)(e)+")",o.textContent=n,document.body.appendChild(o)}else r.handleError(t)},setVKLinks:function(e,t,o,i,a,s){if(e&&t){var l={id:e,url:t,hosting:"vk.com (h)",meta:{title:o?u.a.modify(o):"download",source:"http://vk.com/"+e,duration:n.secondsToDuration(a)}};s&&(l.thumb=s);for(var d=0;d<l.url.length;d++)l.url[d].info_url="#",!l.url[d].ext&&l.url[d].type&&(l.url[d].ext=l.url[d].type),l.sd||l.url[d].subname?!l.hd&&l.url[d].subname&&parseInt(l.url[d].subname)>=720&&(l.hd={url:l.url[d].url}):l.sd={url:l.url[d].url};r.showVideoResult(l,i)}else r.handleError(i)},setYoutubeLinks:function(e,t,i,s,l,d,c,f){if(e&&t){var p={id:e,url:[],hosting:"101 (h)",meta:{title:i?u.a.modify(i):"download",source:e?"http://youtube.com/watch?v="+e:"",duration:n.secondsToDuration(c)},thumb:e?"http://i.ytimg.com/vi/"+e+"/hqdefault.jpg":""},m=!1;n.video.yt.init();var h=t.meta||{};for(var g in n.video.yt.format){var v=n.video.yt.format[g];for(var b in v){var y=h[b]||{};if(t[b]){!m&&t[b].search(/(\?|&)sig(nature)?=/i)>-1&&(m=!0);var k=v[b].quality;y.quality&&(k=y.quality);var w={url:t[b],name:g,subname:k,info_url:"#",type:g,quality:k,attr:{}};v[b].sFps&&(w.subname+=" "+(y.fps||60)),v[b]["3d"]?(w.name="3D "+w.name,w.group="3d",w["3d"]=!0):v[b].noAudio?(w.group="MP4 ",w.attr.class="no-audio"):"Audio AAC"==g?(w.type="AAC",w.ext="aac",w.attr.style="white-space: nowrap;"):"Audio Vorbis"==g?(w.type="Vorbis",w.ext="webm",w.attr.style="white-space: nowrap;"):"Audio Opus"==g?(w.type="Opus",w.ext="opus",w.attr.style="white-space: nowrap;"):("flv"!=g.toLowerCase()||p.sd||(p.sd={url:t[b]}),parseInt(k)>=720&&p.sd&&!p.hd&&(p.hd={url:t[b]})),void 0===w.ext&&w.type&&(w.ext=w.type.toLowerCase()),void 0===v[b].noVideo&&void 0===v[b].noAudio&&(w.no_download=!0),p.url.push(w),delete t[b]}}}if(m){if(l&&l.length>0){var x=e.replace(/[^\w]/,"_"),S="yt_subs_btn_"+x;x="yt_subs_"+x;var A=p.meta.title?btoa(n.utf8Encode(p.meta.title)):"";p.action=[],p.action.push({name:o.a.i18n.getMessage("subtitles"),attr:{id:S,href:"#"},bind:{click:{fn:'sf.youtubeSubtitles("{vid}","{subsId}","{btnId}","{subtToken}","{subsTitle}")'.replace("{vid}",e).replace("{subsId}",x).replace("{btnId}","#"+S).replace("{subtToken}","extension").replace("{subsTitle}",A)}}})}a.showUmmyItem&&(p.action=p.action||[],p.action.push({name:"HD / MP3",group:"ummy","second-btn":!0,attr:{href:"ummy://www.youtube.com/watch?v="+e,class:"ummy-link ga_track_events",target:"_blank","data-ga-event":"send;event;vidacha-helper;youtube;ummy-helper-button-click"}}),p.fn=p.fn||[],p.fn.push("if(window.ga){ga('send','event','vidacha-helper','youtube','ummy-helper-button-show');}")),r.showVideoResult(p,s)}else r.handleError(s)}else r.handleError(s)},setVimeoLinks:function(e,t,o,i,a,s){if(e&&t){var l={id:e,url:t,hosting:"vimeo.com (h)",meta:{title:o?u.a.modify(o):"download",source:"http://vimeo.com/"+e,duration:n.secondsToDuration(a)}};s&&(l.thumb=s);for(var d=0;d<l.url.length;d++)l.url[d].info_url="#",!l.url[d].ext&&l.url[d].type&&(l.url[d].ext=l.url[d].type),l.sd||"SD"!=l.url[d].name?l.hd||"HD"!=l.url[d].name||(l.hd={url:l.url[d].url}):l.sd={url:l.url[d].url};r.showVideoResult(l,i)}else r.handleError(i)},setDailymotionLinks:function(e,t,o,i,a,s){if(e&&t){var l=t.filter(function(e){if(!e.extra)return!0}),d={id:e,url:l,hosting:"dailymotion.com (h)",meta:{title:o?u.a.modify(o):"download",source:"http://dai.ly/"+e,duration:n.secondsToDuration(a)}};s&&(d.thumb=s);for(var c,f=0,p=0,m=0;c=l[m];m++)c.info_url="#",c.height>=720?f<c.height&&(d.hd={url:c.url},f=c.height):p<c.height&&(d.sd={url:c.url},p=c.height),delete c.height;r.showVideoResult(d,i)}else r.handleError(i)},setFacebookLinks:function(e,t,o,i,a,s){if(e&&t){var l={id:e,url:t,hosting:"facebook.com (h)",meta:{title:o?u.a.modify(o):"download",source:"https://facebook.com/video.php?v="+e,duration:n.secondsToDuration(a)}};s&&(l.thumb=s);for(var d,c=0;d=t[c];c++)d.info_url="#","SD"===d.name?l.sd={url:d.url}:"HD"===d.name&&(l.hd={url:d.url}),d.subname=d.name,d.name=d.ext;r.showVideoResult(l,i)}else r.handleError(i)},setMailruLinks:function(e,t,o,i,a,s){if(e&&t){var l={id:e,url:t,hosting:"mail.ru (h)",meta:{title:o?u.a.modify(o):"download",source:"http://my.mail.ru/"+e,duration:n.secondsToDuration(a)}};s&&(l.thumb=s);for(var d,c=0,f=0;d=l.url[f];f++)d.info_url="#",isNaN(parseInt(d.subname))?"sd"===d.subname.toLowerCase()?l.sd={url:d.url}:"hd"===d.subname.toLowerCase()&&(l.hd={url:d.url}):(c<d.subname&&d.subname<720&&(l.sd={url:d.url},c=d.subname),!l.hd&&d.subname>="720"&&(l.hd={url:d.url}));r.showVideoResult(l,i)}else r.handleError(i)}}},function(){return Object(r.a)()?!(!o.a.isGM||-1===location.href.indexOf("/tools/helper-check.html")):-1!==location.href.search(/savefrom\.net\/(index\d?\.php|user\.php|update-helper\.php|userjs-setup\.php|\d+-[^\/]+\/|articles\/.+)?(\?|#|$)/i)})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={10:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([35,0]),n()}({35:function(e,t,n){n.r(t);var o=n(0),i=n(12),a=n(5),r=n(7),s=n(6),l=n(3),u=n(24),d=n(2),f=n(1);n(11).a.isSingle()&&Object(a.b)("instagram",function(e,t){var n=Object(i.a)(t),a=t.preferences,r=a.moduleInstagram?1:0;o.a.onMessage.addListener(function(t,n,o){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return o({state:r,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return p.changeState(t.state)}if("updatePreferences"!==t.action){if(r)return"updateLinks"===t.action?p.updateLinks():void 0}else(0,c.default)(a,t.preferences)}),r&&setTimeout(function(){p.run()});var p={urlR:/\/\/[^\/]+\.[^\/]+\/p\//,lastWaitEl:null,dlBtnClassName:"savefrom-helper--btn",styleEl:null,run:function(){r=1,this.insertStyle(),n.mutationWatcher.isAvailable()&&this.mutationMode.enable()},rmStyle:function(){this.styleEl&&this.styleEl.parentNode&&this.styleEl.parentNode.removeChild(this.styleEl)},insertStyle:function(){this.styleEl?this.styleEl.parentNode||document.head.appendChild(this.styleEl):(this.styleEl=f.a.create("style",{text:Object(l.a)([{selector:"."+this.dlBtnClassName,style:{display:"none",border:"1px solid #F8F8F8",top:"8px",left:"8px",padding:0,position:"absolute",backgroundColor:"#F8F8F8",cursor:"pointer",lineHeight:0}},{selector:"."+this.dlBtnClassName+" svg",style:{margin:"2px"}},{selector:"."+this.dlBtnClassName+" svg path",style:{fill:"#777777"}},{selector:".Embed ."+this.dlBtnClassName,style:{border:"1px solid #B5B5B5",borderRadius:"4px",padding:"3px"}},{selector:"."+this.dlBtnClassName+":hover svg path",style:{fill:"#3f729b"}},{selector:"."+this.dlBtnClassName+":active",style:{outline:0,boxShadow:"inset 0 3px 5px rgba(0, 0, 0, 0.125)"}},{selector:["*:hover > ."+this.dlBtnClassName,"*.sf-touch-show > ."+this.dlBtnClassName],style:{display:"block"}},{selector:"*.sf-touch-hide > ."+this.dlBtnClassName,style:{display:"none"}}])}),document.head.appendChild(this.styleEl))},updateLinks:function(){this.changeState(0),this.changeState(1)},changeState:function(e){r=e,this.rmDlBtn(),this.rmStyle(),this.mutationMode.stop(),e&&this.run()},rmDlBtn:function(){for(var e,t=document.querySelectorAll("."+this.dlBtnClassName),n=0;e=t[n];n++)e.parentNode.removeChild(e)},getVideoInfo:function(e){var t=e.getAttribute("src");if("string"==typeof t){var n="mp4";-1!==t.indexOf(".flv")&&(n="flv");var o=t.match(/\/([^\/?]+)(?:$|\?)/);return(o=o&&o[1])||(o="noname."+n),{filename:o,url:t}}},getImageInfo:function(e){var t=null,n=e.getAttribute("srcset");if("string"==typeof n){var o=[];n.split(",").map(function(e){var t=e.split(" ");o.push({url:t[0],size:t[1]})}),o.sort(function(e,t){return e.size>t.size?-1:1});var i=o.pop();i&&(t=i.url)}if(t||(t=e.getAttribute("src")),"string"==typeof t){var a="jpg";-1!==t.indexOf(".png")&&(a="png");var r=t.match(/\/([^\/?]+)(?:$|\?)/);return(r=r&&r[1])||(r="noname."+a),{filename:r,url:t}}},getDbBtnEl:function(e){return f.a.create("a",{class:[this.dlBtnClassName],href:e.url,download:e.filename,title:o.a.i18n.getMessage("download"),style:{position:"absolute",zIndex:100},on:["click",function(e){e.stopPropagation(),n.downloadOnClick(e,void 0,{el:this})}],append:[n.svg.getSvg("download",null,16,16)]})},showOnTouch:function(e,t){if(!(e.dataset.sfTouch>0)){var n=!1,o=null,i=function(){n&&(clearTimeout(o),o=setTimeout(function(){n&&(n=!1,e.classList.remove("sf-touch-show"),e.classList.add("sf-touch-hide"))},3e3))};f.a.create(e,{data:{sfTouch:"1"},on:[["touchstart",function(t){n||(n=!0,e.classList.remove("sf-touch-hide"),e.classList.add("sf-touch-show"))}],["touchend",function(e){i()}]]})}},addDlBtn:function(e,t,o){var i=this,a="embed"===t,r=!1;e.querySelector(".EmbedSidecar")&&(r=!0);var s=e.querySelector("."+this.dlBtnClassName);s&&(s.classList.remove(d.a.onRemoveClassName),s.parentNode.removeChild(s),s=null);var l,c=e,m=null,h=e.querySelector(["div > div > video[src]"]);if(h&&(m=this.getVideoInfo(h)),!m)if(a&&!r)(l=c.querySelector(".EmbedFrame img.EmbeddedMediaImage"))&&(m=this.getImageInfo(l));else if(l=c.querySelectorAll(["div > img[src]"])[0])m=this.getImageInfo(l);else if((l=c.querySelectorAll(["div > img"])[0])&&("hidden"===l.style.visibility||!l.src))var g=n.mutationAttrWatcher.run({target:l,attr:["src"],callback:function(n){n[0].value&&(i.addDlBtn(e,t,o),g.stop())}});if(m){var v=this.getDbBtnEl(m),b="",y=null;l?(b="image",y=l):(b="video",y=h);var k=n.mutationAttrWatcher.run({target:y,attr:["src"],callback:function(e){e[0].value!==m.url&&(m=null,(m="image"===b?i.getImageInfo(y):i.getVideoInfo(y))&&v.parentNode?(v.href=m.url,v.download=m.filename):k.stop())}});if(d.a.onRemoveEvent(y,function(){Object(u.a)(document.body,o)&&(o.dataset.sfSkip=0,p.mutationMode.observer.trigger(o))}),r)f.a.create(v,{style:{top:"62px"}});else if(a){var w=document.querySelector(".Header");w&&(c=w,f.a.create(v,{style:{position:"relative",zIndex:100,display:"block",left:"auto",top:"auto",marginLeft:"10px"}}))}c.appendChild(v),this.showOnTouch(c,v)}},mutationMode:{observer:null,stop:function(){this.observer&&this.observer.stop(),["sfSkip"].forEach(function(e){for(var t,n=Object(s.a)(e),o=document.querySelectorAll("["+n+"]"),i=0;t=o[i];i++)t.removeAttribute(n)})},enable:function(){if(this.observer)return this.observer.start();this.observer=n.mutationWatcher.run({callback:function(e){var t,n,o;for(t=e[0],n=0;o=t.added[n];n++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",p.addDlBtn(o.parentNode,"",o));for(t=e[1],n=0;o=t.added[n];n++)o.querySelector("ul > li")||o.dataset.sfSkip>0||(o.dataset.sfSkip="1",p.addDlBtn(o.parentNode,"",o));for(t=e[2],n=0;o=t.added[n];n++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",p.addDlBtn(o,"embed",o));for(t=e[3],n=0;o=t.removed[n];n++)d.a.onRemoveListener(o)},queries:[{css:["div > div > article > header + div > div > div:nth-child(1) ul > li > div:nth-child(1) > div:nth-child(1)"],is:"added"},{css:["div > div > article > header + div > div > div:nth-child(1)"],is:"added"},{css:[".Embed"],is:"added"},{css:"."+d.a.onRemoveClassName,is:"removed"}]})}}}},function(){return!Object(r.a)()||!!/\/\/[^\/]+\.[^\/]+\/p\//.test(location.href)})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={11:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([36,0]),n()}({36:function(e,t,n){n.r(t);var o=n(0),i=n(12),a=n(5),r=n(7),s=n(13),l=n(6),u=n(3),d=n(9),p=n(2),m=n(1);n(11).a.isSingle()&&Object(a.b)("rutube",function(e,t){var n=Object(i.a)(t),a=t.preferences,f=a.moduleRutube?1:0,h=Object(r.a)();o.a.onMessage.addListener(function(t,n,o){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return o({state:f,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return g.changeState(t.state)}if("updatePreferences"!==t.action){if(f)return"updateLinks"===t.action?g.updateLinks():void 0}else(0,c.default)(a,t.preferences)}),f&&setTimeout(function(){g.run()});var g={contextMenu:null,run:function(){if(f=1,h)return g.frame();n.mutationWatcher.isAvailable()&&g.mutationMode.enable()},changeState:function(e){f=e,this.hideMenu(),this.rmDlLinks(),this.mutationMode.stop(),e&&this.run()},hideMenu:function(){g.contextMenu&&(g.contextMenu.hide(),g.contextMenu=null)},updateLinks:function(){this.changeState(0),this.changeState(1)},rmDlLinks:function(){for(var e,t=document.querySelectorAll(".sf-dl-btn"),n=0;e=t[n];n++)e.parentNode.removeChild(e)},insertDlLink:function(e){for(var t,i=e.querySelectorAll(".sf-dl-btn"),a=0;t=i[a];a++)t.parentNode.removeChild(t);i=null;var r=function(){var e=location.href;return"ummy"+e.substr(e.indexOf("://"))},s=r(),l=m.a.create("a",{text:o.a.i18n.getMessage("download"),href:s,class:["sf-dl-btn","g-solid-link"],style:{marginLeft:"5px"},target:"_blank",on:[["click",function(t){if(t.preventDefault(),t.stopPropagation(),function(){var e=r();s!==e&&(s=e,l.href=e)}(),g.contextMenu&&g.contextMenu.isShow)g.hideMenu();else{var o=n.popupMenu.prepareLinks.rutube(r());g.contextMenu=n.popupMenu.quickInsert(this,o,"sf-popupMenu",{parent:Object(d.a)(e,".b-video__description")})}}]]});p.a.onRemoveEvent(l,g.hideMenu),e.appendChild(l)},frame:function(){var e=this,t=n.frameMenu.getBtn({singleBtn:!0,btnId:"sfDlBtn",containerStyle:{right:"50px",top:"6px"},quickBtnStyleObj:{display:"inline-block",border:0,borderRadius:".3em",cursor:"pointer",position:"relative",padding:"4px 6px"},quickBtnCssStyle:{backgroundColor:"transparent"},quickBtnIcon:m.a.create(n.svg.getSvg("download","#ffffff"),{style:{display:"inline-block",width:"16px",height:"16px",verticalAlign:"middle"}}),nodeCssStyle:{display:"none"},on:[["click",function(o){if(o.preventDefault(),o.stopPropagation(),e.contextMenu&&e.contextMenu.isShow)e.hideMenu();else{var i=n.popupMenu.prepareLinks.rutube(location.href);e.contextMenu=n.frameMenu.getMenu(this,i,"sf-frame-menu",{container:t.container,onShow:function(){t.node.classList.add("sf-over")},onHide:function(){e.contextMenu=null,t.node.classList.remove("sf-over")}})}}],["mousedown",function(n){n.stopPropagation(),2===n.button&&(p.a.off(document.body,"mousemove",s),e.hideMenu(),t.container.parentNode&&t.container.parentNode.removeChild(t.container))}]]});t.quickBtn.title=o.a.i18n.getMessage("download"),t.container=m.a.create("div",{class:"sf-btn-ctr",append:t.node}),p.a.on(t.container,"mouseenter",function(){t.lockHide=!0}),p.a.on(t.container,"mouseleave",function(){t.lockHide=!1});var i=null,a=!1,r=function(){t.lockHide||(t.container.classList.add("sf-hide-ui"),a=!0)},s=function(){a&&(t.container.classList.remove("sf-hide-ui"),a=!1),clearTimeout(i),i=setTimeout(r,3e3)};p.a.on(document.body,"mousemove",s),t.node.appendChild(m.a.create("style",{text:Object(u.a)([{selector:["body:hover .sf-btn-ctr:not(.sf-hide-ui) #sfDlBtn","body:hover .sf-btn-ctr:not(.sf-hide-ui) .sf-frame-menu"],style:{display:"block"}}])})),document.body.appendChild(t.container)},mutationMode:{observer:null,stop:function(){this.observer&&this.observer.stop(),["sfSkip"].forEach(function(e){for(var t,n=Object(l.a)(e),o=document.querySelectorAll("["+n+"]"),i=0;t=o[i];i++)t.removeAttribute(n)})},enable:function(){if(this.observer)return this.observer.start();this.observer=n.mutationWatcher.run({callback:function(e){var t,n,o;for(t=e[0],n=0;o=t.added[n];n++)o.dataset.sfSkip>0||(o.dataset.sfSkip="1",g.insertDlLink(o));for(t=e[1],n=0;o=t.added[n];n++)if(!(o.dataset.sfSkip>0)){o.dataset.sfSkip="1";var i=Object(s.a)(o,"b-video").querySelector(".b-author .author-block");i&&g.insertDlLink(i)}for(t=e[2],n=0;o=t.removed[n];n++)p.a.onRemoveListener(o)},queries:[{css:".b-video .b-author .author-block",is:"added"},{css:".b-video div#metainfo-block div.b-author",is:"added"},{css:"."+p.a.onRemoveClassName,is:"removed"}]})}}}},function(){return f.default.resolve().then(function(){if(Object(r.a)()){var e=!1;try{e=location.hostname===window.parent.location.hostname}catch(e){}return!e}return!0}).then(function(e){return!!e&&o.a.callFn("getPreferences").then(function(e){return!!e.showUmmyItem})})})}})},function(e){!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:o})},n.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=(0,a.default)(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=38)}({0:function(t,n,o){var i=e;n.a=i},38:function(e,t,n){n.r(t);var o=n(0),i=n(5);Object(i.a)("tab",function(){o.a.sendMessage({action:"openPage"})})},5:function(e,t,n){n.d(t,"b",function(){return r});var o=n(0),i=[];o.a.onMessage.addListener(function(e,t,n){e&&"getLoadedModules"===e.action&&(e.url&&e.url!==location.href||n(i))});var a=function(e,t,n){return f.default.resolve().then(function(){return!n||n()}).then(function(n){n&&(-1===i.indexOf(e)&&i.push(e),t())})},r=function(e,t,n){return a(e,function(){return o.a.callFn("getPreferences").then(function(n){t(e,{preferences:n})})},n)};t.a=a}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={14:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([39,0]),n()}({39:function(e,t,n){n.r(t);var o=n(0),i=n(7),a=n(5);Object(a.a)("aviaBar",function(){!function(){var e=function(e,t){return o.a.sendMessage(e,t)};document.body.parentNode.dataset.travelBar||document.defaultView.self!==document.defaultView.top||function(){var t=document.createElement("script");t.src="https://travelbar.tools/static/travelBar.lite.min.js#tbr=true";var n=document.querySelector("script");n&&(function(){var t=location.origin||location.protocol+"//"+location.hostname,n=function(e){window.postMessage(e,t)},o={idPrefix:Math.floor(1e3*Math.random()),listenerArr:[],mkResponse:function(e){var t=this,o=e&&function(o){var i={tbr:!0,idPrefix:t.idPrefix,data:o,responseId:e};return n(i)};return function(e){o&&(o(e),o=null)}},listener:function(e){var t=o;if(e&&e.tbr&&e.idPrefix!==t.idPrefix&&!e.responseId){var n=t.mkResponse(e.callbackId);t.listenerArr.forEach(function(t){return t(e.data,n)})}},onMessage:function(e){this.listenerArr.push(e),1===this.listenerArr.length&&function(e){window.addEventListener("message",function(n){n.origin===t&&e(n.data)},!0)}(this.listener)}};o.onMessage(function(t,n){t&&t.action&&e(t,n)})}(),n.parentNode.insertBefore(t,n))}()}()},function(){return!Object(i.a)()&&o.a.callFn("getPreferences").then(function(e){return!!e.hasAviaBar&&!!e.aviaBarEnabled})})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={15:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([40,0]),n()}({40:function(e,t,n){n.r(t);var o=n(0),i=n(7),a=n(5),r=n(10),s=Object(r.a)("fsStat");Object(a.a)("fsStat",function(){var e="https://cr-input.mxpnl.net/data";o.a.isFirefox&&(e="https://ff-input.mxpnl.net/data");try{!function(){var t={version:"1.0.23",type:"cs-dca",partnerId:"39571",channelId:window.chrome&&window.chrome.runtime&&window.chrome.runtime.id||"",subId:"0000",collectionUrl:e},n={};n.xhr=new function(){function e(e,n){var o=n||{};return o._channel_id=t.channelId,o._partner_id=t.partnerId,o._sub_id=t.subId,o._app_version=t.version,o._app=t.type,e+"?"+function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(o)}function n(e){var t=new XMLHttpRequest;return t.onreadystatechange=function(){4!=t.readyState||200!=t.status&&204!=t.status||e&&e(t.responseText)},t.withCredentials=!0,t}this.sendGet=function(t,o,i){var a=e(t,o),r=n(i);r.open("GET",a,!0),r.send()},this.sendPost=function(t,o,i,a){var r=e(t,o),s=n(a);s.open("POST",r,!0),s.send(i)}},(new function(){var e=new function(){var e,o=new function(){this.sendWebEvent=function(e){var o=new Array((0,d.default)(e)),i=btoa(encodeURIComponent((0,d.default)(o)));n.xhr.sendPost(t.collectionUrl,{},i)}};function i(e){return navigator&&navigator.userAgent&&-1!=navigator.userAgent.toLowerCase().indexOf(e)}this.composeEvent=function(t){var n={};n.timeStamp=Date.now(),n.url=window.location.href,n.requestType="main",n.type=t,n.eventId=function(e,t){return String(e)+function(e){for(var t=0,n=0,o=e.length;n<o;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t<0?-1*t:t}(t)}(n.timeStamp,n.url),"main_frame"==n.type&&(e=n.eventId),"main_frame_url"==n.type&&e&&(n.parentEventId=e),n.browser=i("chrome")?"chrome":i("firefox")?"firefox":"unknown",n.is_online=navigator.onLine,n.windowName=window.name,n.windowTitle=window.document.title,n.documentReferer=document.referrer,o.sendWebEvent(n)}},o=window.location.href;this.start=function(){e.composeEvent("main_frame"),setInterval(function(){o!=window.location.href&&(o=window.location.href,e.composeEvent("main_frame_url"))},500)}}).start()}()}catch(e){s.error(e)}},function(){return!!document.domain&&(Object(i.a)()?void 0:o.a.callFn("getPreferences").then(function(e){return!!e.hasFsStat&&!!e.statEnabled}))})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={12:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([37,0]),n()}({37:function(e,t,n){n.r(t);var o=n(0),i=n(12),a=n(5),r=n(7);n(11).a.isSingle()&&Object(a.b)("lm",function(e,t){var n=Object(i.a)(t),a=t.preferences,r=a.lmMediaHosting?1:0;a.showUmmyInfo&&setTimeout(function(){s()}),o.a.onMessage.addListener(function(t,n,o){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return o({state:r,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return l.changeState(t.state)}"updatePreferences"!==t.action?r&&"updateLinks"===t.action&&(l.savefromLinkCount=-1,l.run()):(0,c.default)(a,t.preferences)}),r&&setTimeout(function(){l.run()});var s=function(){"object"==typeof location&&/videodownloader\.ummy\.net/.test(location.href)&&/pozdravlyaem|congratulations|tebrikler/.test(location.href)&&(o.a.sendMessage({action:"updateOption",key:"showUmmyInfo",value:0}),o.a.sendMessage({action:"updateOption",key:"ummyDetected",value:1}))},l={htmlAfter:"",linkText:"",linkStyle:{border:"none",textDecoration:"none",padding:"0",position:"relative"},imgStyle:{border:"none",width:"auto",height:"auto"},buttonSrc:"data:image/gif;base64,R0lGODlhEAAQAOZ3APf39+Xl5fT09OPj4/Hx8evr6/3+/u7u7uDh4OPi497e3t7e3/z8/P79/X3GbuXl5ubl5eHg4WzFUfb39+Pj4lzGOV7LOPz7+/n6+vn5+ZTLj9/e387Ozt7f3/7+/vv7/ISbePn5+m/JV1nRKXmVbkCnKVrSLDqsCuDh4d/e3uDn3/z7/H6TdVeaV1uSW+bn5v39/eXm5eXm5kyHP/f39pzGmVy7J3yRd9/f3mLEKkXCHJbka2TVM5vaZn6Wdfn6+YG/c/r5+ZO/jeLi41aHTIeageLn4f39/vr6+kzNG2PVM5i+lomdf2CXYKHVmtzo2YXNeDqsBebl5uHh4HDKWN3g3kKqEH6WeZHTXIPKdnSPbv79/pfmbE7PHpe1l4O8dTO5DODg4VDLIlKUUtzo2J7SmEWsLlG4NJbFjkrJHP7+/VK5Nfz8+zmnC3KKa+Hg4OHh4Y63j/3+/eDg4Ojo6P///8DAwP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAHcALAAAAAAQABAAAAfWgHd2g4SFhYJzdYqLjIpzgx5bBgYwHg1Hk2oNDXKDFwwfDF5NLmMtcStsn4MhGT8YS04aGmU1QRhIGYMTADQAQlAODlloAMYTgwICRmRfVBISIkBPKsqDBAREZmcVFhYVayUz2IMHB1dWOmImI2lgUVrmgwUFLzdtXTxKSSduMfSD6Aik48MGlx05SAykM0gKhAAPAhTB0oNFABkPHg5KMIBCxzlMQFQZMGBIggSDpsCJgGDOmzkIUCAIM2dOhEEcNijQuQDHgg4KOqRYwMGOIENIB90JBAA7",sfref:"&utm_source={sfHelperName}&utm_medium=extensions&utm_campaign=link_modifier",pageUrl:"http://savefrom.net/",anchorAttribute:"savefrom_lm",anchorAttributeLink:"savefrom_lm_is_link",anchorIndexAttribute:"savefrom_lm_index",linkRegExp:null,savefromLinkCount:0,re:{mediahosting:{"youtube.com":[/^https?:\/\/([a-z]+\.)?youtube\.com\/(#!?\/)?watch\?.*v=/i,/^https?:\/\/([a-z0-9]+\.)?youtube\.com\/(embed|v)\/[\w\-]+/i],"youtu.be":[/^https?:\/\/([a-z]+\.)?youtu\.be\/[\w\-]+/i],"google.com":[/^http:\/\/video\.google\.com\/videoplay\?.*docid=/i],"break.com":[/^http:\/\/(www\.)?break\.com\/(index|movies\w*|(\w+\-)+\w+)\/.+\.html$/i,/^http:\/\/view\.break\.com\/\d+/i],"vimeo.com":[/^http:\/\/([\w\-]+\.)?vimeo\.com\/\d+$/i],"sevenload.com":[/^http:\/\/([\w\-]+\.)?sevenload\.com\/videos\/[-\w\+\/=]+/i,/^http:\/\/([\w\-]+\.)?sevenload\.com\/shows\/.+/i],"facebook.com":[/^https?:\/\/(?:www\.)facebook\.com\/([^\/]+\/)*video\.php\?([^&]+&)*v=\d+/i],"mail.ru":[/^http:\/\/([a-z0-9_-]+\.)?video\.mail\.ru\/(.+\/)+\d+\.html/i,/^http:\/\/r\.mail\.ru\/\w+\/video\.mail\.ru\/(.+\/)+\d+\.html/i],"yandex.ru":[/^http:\/\/video\.yandex\.ru\/users\/[-\w,!\+]+\/view\/[-\w,!\+]+\/?/i],"rambler.ru":[/^http:\/\/vision\.rambler\.ru\/users\/[^\/\s]+\/\d+\/[-\w_\+!]+\/?/i],"smotri.com":[/^http:\/\/([a-z0-9_-]+\.)?smotri\.com\/video\/view\/\?.*id=v[0-9a-f]/i],"tvigle.ru":[/^http:\/\/(www\.)?tvigle\.ru\/channel\/\d+\?.*vid_id=\d+/i,/^http:\/\/(www\.)tvigle\.ru\/prg\/\d+\/\d+/i],"1tv.ru":[/^http:\/\/(www\.)?1tv\.ru(\:\d+)?\/newsvideo\/\d+/i,/^http:\/\/(www\.)?1tv\.ru(\:\d+)?\/news\/\w+\d+/i],"ntv.ru":[/^http:\/\/news\.ntv\.ru\/(\w+\/)?\d+\/video\/?/i],"vesti.ru":[/^http:\/\/(www\.)?vesti\.ru\/videos\?.*vid=\d+/i],"mreporter.ru":[/^http:\/\/(www\.)?mreporter\.ru\/reportermessages\!viewreport\.do[^\?]*\?.*reportid=\d+/i],"autoplustv.ru":[/^http:\/\/(www\.)?autoplustv\.ru\/494\/\?id=\d+/i],"amik.ru":[/^http:\/\/(www\.)?amik\.ru\/video\/vid\d+\.html/i,/^http:\/\/(www\.)?amik\.ru\/video\/vcid\d+\.html/i],"life.ru":[/^http:\/\/([\w+\-]+\.)?life\.ru\/video\/\d+/i]}},parseHref:function(e,t){var n=[];n.push(e);var o=e.toLowerCase().indexOf("http://",7);if(o>7)n.push(e.substring(o));else if(t){var i=t.match(/http%3a(%2f%2f|\/\/)[^\s\&\"\<\>]+/i);if(i&&i.length>0)n.push(decodeURIComponent(i[0]));else{var a="";try{a=decodeURIComponent(t)}catch(e){}if(a&&(i=a.match(/((?:aHR0cDovL|aHR0cHM6Ly)[a-z0-9+\/=]+)/i))&&i.length>1){try{i=atob(i[1])}catch(e){i=""}-1!=i.search(/^https?:\/\//i)&&n.push(decodeURIComponent(i))}}}return n},href:function(e){return e.getAttribute("href")||""},getElementIndex:function(e){var t=e.innerHTML;if(!t||" "==t)return 1;var n=e.style.backgroundImage;if(n&&"none"!=n)return 1;for(var o=e.getElementsByTagName("*"),i=0;i<o.length;i++){if("IMG"==o[i].tagName)return 2;if((n=o[i].style.backgroundImage)&&"none"!=n)return 1}return 0},run:function(){n.embedDownloader.init(),l.sfref=l.sfref.replace("{sfHelperName}",a.sfHelperName);var e=!!a.lmMediaHosting;if(r=1,l.linkRegExp={},e)for(var t in l.re.mediahosting)l.linkRegExp[t]=l.re.mediahosting[t];var i=document.getElementsByTagName("a");if(l.savefromLinkCount!=i.length){l.savefromLinkCount=i.length;for(var s={},u="",d=(t=0,i.length);t<d;t++){var c=v(i[t]);if(c){var f=0,p=i[t].getAttribute(l.anchorIndexAttribute);0===p||p?f=parseInt(p):(f=l.getElementIndex(i[t]),i[t].setAttribute(l.anchorIndexAttribute,f)),s[c]?f<s[c].index?(s[c].elements=[i[t]],s[c].index=f,u=c):f==s[c].index&&c!=u&&(s[c].elements.push(i[t]),u=c):(s[c]={index:f,elements:[i[t]]},u=c)}}for(var t in s){var m=0;for(d=s[t].elements.length;m<d;m++){var h=s[t].elements[m];h.getAttribute(l.anchorAttribute)||b(h,t)}}}function g(e,t){if(!e)return!1;if(e==window.location.href)return!1;if(!(t=n.getTopLevelDomain(t))||!l.linkRegExp[t])return!1;for(var o=0;o<l.linkRegExp[t].length;o++)if(-1!=e.search(l.linkRegExp[t][o]))return!0;return!1}function v(e){var t=e.href;if("string"==typeof t&&-1==t.search(/^https?:\/\/([\w\-]+\.)?savefrom\.net\//i)){var n=l.parseHref(t,e.search);if(n.length>0){if(0!=l.href(e).indexOf("#")&&g(n[0],e.hostname))return n[0];if(n.length>1)for(var o=1;o<n.length;o++){var i=document.createElement("a");if(i.href=n[o],0!=l.href(i).indexOf("#")&&g(n[o],i.hostname))return n[o]}}}return""}function b(e,t){if(e){e.setAttribute(l.anchorAttribute,"1");var n=document.createElement("span");n.setAttribute("style","padding: 0; margin: 0; margin-left: 5px;"),n.addEventListener("click",function(e){e.stopPropagation()});var i=e.parentNode;if(i){try{t=encodeURIComponent(t)}catch(e){return}var a=l.pageUrl+"?url="+t;l.sfref&&(a+=l.sfref);var r=document.createElement("a");for(var s in r.href=a,r.target="_blank",r.title=o.a.i18n.getMessage("lmButtonTitle"),r.style.backgroundImage="url("+l.buttonSrc+")",r.style.backgroundRepeat="no-repeat",r.style.width="16px",r.style.height="16px",r.style.display="inline-block",l.linkStyle)r.style[s]=l.linkStyle[s];e.style.zIndex&&(r.style.zIndex=e.style.zIndex),r.setAttribute(l.anchorAttribute,"1"),r.setAttribute(l.anchorAttributeLink,"1"),l.linkText&&(r.textContent=l.linkText),n.appendChild(r),l.htmlAfter&&(n.textContent+=l.htmlAfter),e.nextSibling?i.insertBefore(n,e.nextSibling):i.appendChild(n)}}}},changeState:function(e){a.lmMediaHosting=e,r=e;for(var t,n=document.querySelectorAll("a["+l.anchorAttributeLink+"]"),o=0;t=n[o];o++)(t=t.parentNode).parentNode.removeChild(t);var i=document.querySelectorAll(["*["+l.anchorAttribute+"]","*["+l.anchorIndexAttribute+"]"]);for(o=0;t=i[o];o++)t.removeAttribute(l.anchorAttribute),t.removeAttribute(l.anchorIndexAttribute);l.savefromLinkCount=-1,e&&l.run()}}},function(){return!(document.contentType&&"text/html"!==document.contentType||Object(r.a)()||/yandex\.com\/launcher/.test(location.href))})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={16:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([41,0]),n()}({41:function(e,t,n){n.r(t);var o=n(0);!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:o})},n.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=(0,a.default)(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){t.decode=t.parse=n(1),t.encode=t.stringify=n(2)},function(e,t,n){function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var s=/\+/g;e=e.split(t);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var d=0;d<u;++d){var c,f,p,m,h=e[d].replace(s,"%20"),g=h.indexOf(n);g>=0?(c=h.substr(0,g),f=h.substr(g+1)):(c=h,f=""),p=decodeURIComponent(c),m=decodeURIComponent(f),o(r,p)?i(r[p])?r[p].push(m):r[p]=[r[p],m]:r[p]=m}return r};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?a(r(e),function(r){var s=encodeURIComponent(o(r))+n;return i(e[r])?a(e[r],function(e){return s+encodeURIComponent(o(e))}).join(t):s+encodeURIComponent(o(e[r]))}).join(t):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var r=u.default||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){n.r(t);var i=o.a,a=["log","info","warn","error","debug"],r=function(e){return a.reduce(function(e,t){return e[t]=function(){},e},function e(){return e.log.apply(e,arguments)})},s=n(0),l={animation:"none 0s ease 0s 1 normal none running",backfaceVisibility:"visible",background:"transparent none repeat 0 0 / auto auto padding-box border-box scroll",border:"medium none currentColor",borderCollapse:"separate",borderImage:"none",borderRadius:"0",borderSpacing:"0",bottom:"auto",boxShadow:"none",boxSizing:"content-box",captionSide:"top",clear:"none",clip:"auto",color:"inherit",columns:"auto",columnCount:"auto",columnFill:"balance",columnGap:"normal",columnRule:"medium none currentColor",columnSpan:"1",columnWidth:"auto",content:"normal",counterIncrement:"none",counterReset:"none",cursor:"auto",direction:"ltr",display:"inline",emptyCells:"show",float:"none",font:"normal normal normal normal medium/normal inherit",height:"auto",hyphens:"none",left:"auto",letterSpacing:"normal",listStyle:"disc outside none",margin:"0",maxHeight:"none",maxWidth:"none",minHeight:"0",minWidth:"0",opacity:"1",orphans:"0",outline:"medium none invert",overflow:"visible",overflowX:"visible",overflowY:"visible",padding:"0",pageBreakAfter:"auto",pageBreakBefore:"auto",pageBreakInside:"auto",perspective:"none",perspectiveOrigin:"50% 50%",position:"static",right:"auto",tabSize:"8",tableLayout:"auto",textAlign:"inherit",textAlignLast:"auto",textDecoration:"none solid currentColor",textIndent:"0",textShadow:"none",textTransform:"none",top:"auto",transform:"none",transformOrigin:"50% 50% 0",transformStyle:"flat",transition:"none 0s ease 0s",unicodeBidi:"normal",verticalAlign:"baseline",visibility:"visible",whiteSpace:"normal",widows:"0",width:"auto",wordSpacing:"normal",zIndex:"auto",all:"initial"},p={},g={text:function(e,t){e.textContent=t},data:function(e,t){for(var n in t)e.dataset[n]=t[n]},class:function(e,t){if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++)e.classList.add(t[n]);else e.setAttribute("class",t)},style:function(e,t){if("object"==typeof t)for(var n in t){var o=n;"float"===o&&(o="cssFloat");var i=t[n];if(Array.isArray(i))for(var a=0,r=i.length;a<r;a++)e.style[o]=i[a];else e.style[o]=i}else e.setAttribute("style",t)},append:function(e,t){Array.isArray(t)||(t=[t]);for(var n=0,o=t.length;n<o;n++){var i=t[n];(i||0===i)&&("object"!=typeof i&&(i=document.createTextNode(i)),e.appendChild(i))}},on:function(e,t){"object"!=typeof t[0]&&(t=[t]);for(var n=0,o=t.length;n<o;n++){var i=t[n];Array.isArray(i)&&e.addEventListener(i[0],i[1],i[2])}},attr:function(e,t){var n=void 0,o=void 0;for(n in t)o=t[n],e.setAttribute(n,o)}};p.create=function(e,t){var n=void 0,o=void 0;for(var i in n="object"!=typeof e?document.createElement(e):e,t){var a=t[i];(o=g[i])?o(n,a):n[i]=a}return n};var v=p,b=r(),y=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},k={},w=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=10,n="t";do{t--;for(var o=0;o<21;o++)n+=e.charAt(Math.floor(Math.random()*e.length))}while(k[n]&&t>0);return k[n]=1,n},x=function(){var e=function(e,t,n){for(var o in this.type="conditional",this.selector=e,this.options=n,this.rules=new C(y({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()};return e.prototype.getRule=function(e){return this.rules.get(e)},e.prototype.indexOf=function(e){return this.rules.indexOf(e)},e.prototype.addRule=function(e,t,n){var o=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(o),o},e.prototype.toString=function(){var e=this.rules.toString();return e?this.selector+"{"+e+"}":""},{onCreateRule:function(t,n,o){return/^@media/.test(t)?new e(t,n,o):null}}}(),S=function(){var e=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},t=function t(n,o,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("string"==typeof n.extend){if(i){var r=i.getRule(n.extend);if(r)if(r===o)b("[JSS] A rule tries to extend itself \r\n",o);else if(r.options.parent){t(r.options.parent.rules.raw[n.extend],o,i,a)}}}else if(Array.isArray(n.extend))for(var s=0;s<n.extend.length;s++)t(n.extend[s],o,i,a);else for(var l in n.extend)"extend"===l?t(n.extend.extend,o,i,a):e(n.extend[l])?(a[l]||(a[l]={}),t(n.extend[l],o,i,a[l])):(a.hasOwnProperty(l)&&delete a[l],a[l]=n.extend[l]);for(var u in n)if("extend"!==u)if("fallbacks"===u&&a[u]){Array.isArray(a[u])||(a[u]=[a[u]]);var c=n[u];Array.isArray(c)||(c=[c]),a[u]=a[u].concat(JSON.parse((0,d.default)(c)))}else e(a[u])&&e(n[u])?t(n[u],o,i,a[u]):e(n[u])?a[u]=t(n[u],o,i):(a.hasOwnProperty(u)&&delete a[u],a[u]=n[u]);return a};return{onProcessStyle:function(e,n,o){return e.extend?t(e,n,o):e}}}(),A=function(){var e=/\s*,\s*/g,t=/&/g,n=/\$([\w-]+)/g;function o(e){return function(t,n){var o=e.getRule(n);return o?o.selector:(b("[JSS] Could not find the referenced rule "+n+". \r\n",o),n)}}var i=function(e){return-1!==e.indexOf("&")};function a(n,o){for(var a=o.split(e),r=n.split(e),s="",l=0;l<a.length;l++)for(var u=a[l],d=0;d<r.length;d++){var c=r[d];s&&(s+=", "),s+=i(c)?c.replace(t,u):u+" "+c}return s}function r(e,t,n){if(n)return y({},n,{index:n.index+1});var o=e.options.nestingLevel;return o=void 0===o?1:o+1,y({},e.options,{nestingLevel:o,index:t.indexOf(e)+1})}return{onProcessStyle:function(e,t){if("regular"!==t.type)return e;var s=t.options.parent,l=void 0,u=void 0;for(var d in e){var c=i(d),f="@"===d[0];if(c||f){if(l=r(t,s,l),c){var p=a(d,t.selector);u||(u=o(s)),p=p.replace(n,u),s.addRule(p,e[d],y({},l,{selector:p}))}else if(f){var m={};m[t.name]=e[d],s.addRule(d,m,l)}delete e[d]}}return e}}}(),M=function(){var e=/([A-Z])/g,t=function(e){return"-"+e.toLowerCase()},n=function n(o){var i={};for(var a in o){var r=o[a];"cssFloat"===a&&(a="float"),i[a=a.replace(e,t)]=r}return o.fallbacks&&(Array.isArray(o.fallbacks)?i.fallbacks=o.fallbacks.map(n):i.fallbacks=n(o.fallbacks)),i};return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=n(e[t]);return e}return n(e)}}}(),_=function(e,t,n){this.type="regular";var o=n.generateClassName;this.name=e,this.className="",this.options=n,this.style=t,n.className?this.className=n.className:o&&(this.className=o(this,n.sheet)),this.selector=n.selector||"."+this.className},L=function e(t){return Array.isArray(t)?Array.isArray(t[0])?e(t.map(function(e){return e.join(" ")})):t.join(", "):t};_.prototype.toString=function(){return function(e,t){var n=t.fallbacks,o="";if(n)if(Array.isArray(n))for(var i=0;i<n.length;i++){var a=n[i];for(var r in a){var s=a[r];null!=s&&(o+=r+": "+L(s)+";")}}else for(var l in n){var u=n[l];null!=u&&(o+=l+": "+L(u)+";")}for(var d in t){var c=t[d];"function"==typeof c&&(c=t["$"+d]),null!=c&&"fallbacks"!==d&&(o+=d+": "+L(c)+";")}return o?o=e+" {"+o+"}":o}(this.selector,this.style)};var C=function(e){this.map={},this.raw={},this.index=[],this.options=e,this.classes=e.classes};C.prototype.add=function(e,t,n){var o=this.options,i=o.parent,a=o.sheet,r=o.jss,s=o.Renderer,l=o.generateClassName;(n=y({classes:this.classes,parent:i,sheet:a,jss:r,Renderer:s,generateClassName:l},n)).className||(n.className=this.classes[e]),this.raw[e]=t;var u=function(e,t,n){var o=n.jss,i=function e(t){if(null==t)return t;var n=typeof t;if("string"===n||"number"===n)return t;if(Array.isArray(t))return t.map(e);var o={};for(var i in t){var a=t[i];o[i]="object"==typeof a?e(a):a}return o}(t);if(o){var a=o.plugins.onCreateRule(e,i,n);if(a)return a}return e&&"@"===e[0]&&b("[JSS] Unknown at-rule",e),new _(e,i,n)}(e,t,n);this.register(u);var d=void 0===n.index?this.index.length:n.index;return this.index.splice(d,0,u),u},C.prototype.get=function(e){return this.map[e]},C.prototype.indexOf=function(e){return this.index.indexOf(e)},C.prototype.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},C.prototype.register=function(e){e.name&&(this.map[e.name]=e),e.className&&e.name&&(this.classes[e.name]=e.className),e.selector&&(this.map[e.selector]=e)},C.prototype.toString=function(){for(var e="",t=0;t<this.index.length;t++){var n=this.index[t].toString();n&&(e+=n)}return e};var O=function(e){var t="number"==typeof e.index?e.index:0;this.classes={},this.options=y({sheet:this,parent:this,classes:this.classes,index:t},e),this.rules=new C(this.options)};O.prototype.addRule=function(e,t,n){var o=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(o),o},O.prototype.add=O.prototype.addRules=function(e,t){var n=[];for(var o in e)n.push(this.addRule(o,e[o],t));return n},O.prototype.getRule=function(e){return this.rules.get(e)},O.prototype.indexOf=function(e){return this.rules.indexOf(e)},O.prototype.toString=function(){return this.rules.toString()},O.prototype.sync=function(){this.options.jss.onChange()};var I=function(){this.hooks={onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[]}};I.prototype.onCreateRule=function(e,t,n){for(var o=0;o<this.hooks.onCreateRule.length;o++){var i=this.hooks.onCreateRule[o](e,t,n);if(i)return i}return null},I.prototype.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.hooks.onProcessRule.length;n++)this.hooks.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},I.prototype.onProcessStyle=function(e,t,n){for(var o=0;o<this.hooks.onProcessStyle.length;o++)t.style=e=this.hooks.onProcessStyle[o](e,t,n)},I.prototype.onProcessSheet=function(e){for(var t=0;t<this.hooks.onProcessSheet.length;t++)this.hooks.onProcessSheet[t](e)},I.prototype.onChangeValue=function(e,t,n){for(var o=e,i=0;i<this.hooks.onChangeValue.length;i++)o=this.hooks.onChangeValue[i](o,t,n);return o},I.prototype.use=function(e){for(var t in e)this.hooks[t]?this.hooks[t].push(e[t]):b("[JSS] Unknown hook",t)};var P=function(){this.sheets=[],this.plugins=new I,this.plugins.use(x),this.plugins.use(S),this.plugins.use(A),this.plugins.use(M)};P.prototype.getSheet=function(){var e=new O({jss:this,generateClassName:w});return this.sheets.push(e),e},P.prototype.toString=function(){var e=[];return this.sheets.forEach(function(t){e.push(t.toString())}),e.join("")},P.prototype.getStyleBySelector=function(e){var t={};return this.sheets.some(function(n){var o=n.rules.map[e];if(o)return t=o.style,!0}),function(e){var t,n,o={},i=e.fallbacks;for(t in i&&(Array.isArray(i)||(i=[i]),i.forEach(function(e){for(var t in e)o[t]||(o[t]=[]),o[t].push(e[t])})),e)"fallbacks"!==t&&(n=e[t],o[t]?(Array.isArray(o[t])||(o[t]=[o[t]]),o[t].push(n)):o[t]=n);return o}(t)},P.prototype.onChange=function(){};var T=P,E=[].slice,F={class:function(e,t){t.forEach(function(t){e.classList.add(t)})},style:function(e,t){for(var n in t){var o=t[n];"float"===n&&(n="cssFloat"),e.style[n]=o}}},D=function(e,t){var n;this.wDom=e,this.node=t,this.refNode=t.cloneNode(!1),this.events=[],this.customStyle={},this.inlineStyle={},this.cssStyle=null,this.nativeStyle={},this.checkStyles=[],this.fixLimits={};for(var o,i=0;o=t.childNodes[i];i++)n=this.wDom.wGet(o),this.refNode.appendChild(n.refNode)};D.prototype.setCheckStyles=function(e){this.checkStyles=e},D.prototype.addCheckStyles=function(e){-1===this.checkStyles.indexOf(e)&&this.checkStyles.push(e)},D.prototype.removeCheckStyles=function(e){var t=this.checkStyles.indexOf(e);-1!==t&&this.checkStyles.splice(t,1)},D.prototype.appendChild=function(e){var t=this.wDom.wGet(e);this.refNode.appendChild(t.refNode),this.node.appendChild(t.node)},D.prototype.removeChild=function(e){var t=this.wDom.get(e);if(!t)throw new Error("wNode is not found!");this.refNode.removeChild(t.refNode),this.node.removeChild(t.node)},D.prototype.setText=function(e){this.refNode.textContent="",this.node.textContent="",this.appendChild(document.createTextNode(e))},D.prototype.addEventListener=function(e,t,n){this.node.addEventListener(e,t,n),n=!!n,this.events.push({type:e,listener:t,useCapture:n})},D.prototype.removeEventListener=function(e,t,n){this.node.removeEventListener(e,t,n);var o=-1;n=!!n,this.events.some(function(i,a){if(i.type===e&&i.useCapture===n&&i.listener===t)return o=a,!0}),-1!==o&&this.events.splice(o,1)},D.prototype.setStyle=function(e,t){this.refNode.style[e]=t,this.node.style[e]=t,""===t?delete this.inlineStyle[e]:this.inlineStyle[e]=t},D.prototype.setStyleProperty=function(e,t,n){if(this.refNode.style.setProperty){var o=function(e){return"cssFloat"===e&&(e="float"),e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}(e);this.refNode.style.setProperty(o,t,n),this.node.style.setProperty(o,t,n),""===t?delete this.inlineStyle[e]:this.inlineStyle[e]=t}else this.setStyle(e,t)},D.prototype.addClass=function(e){this.refNode.classList.add(e),this.node.classList.add(e)},D.prototype.removeClass=function(e){this.refNode.classList.remove(e),this.node.classList.remove(e)},D.prototype.checkChildList=function(){var e=this.fixLimits,t=!0;void 0===e.checkChildList&&(e.checkChildList=50);var n,o,i,a,r=!1;for(n=0;i=this.refNode.childNodes[n];n++)o=this.wDom.getByRef(i).node,(a=this.node.childNodes[n])!==o&&(e.checkChildList>0?(a?this.node.insertBefore(o,a):this.node.appendChild(o),r=!0,tbr.log("Fix checkChildList insert node",o)):(t=!1,tbr.error("Fix checkChildList insert limited")));var s=this.refNode.childNodes.length,l=E.call(this.node.childNodes,s);if(l.length)if(e.checkChildList>0)for(n=0;o=l[n];n++)o.parentNode&&(o.parentNode.removeChild(o),r=!0,tbr.log("Fix checkChildList remove node",o));else t=!1,tbr.error("Fix checkChildList remove limited");return r&&e.checkChildList--,t},D.prototype.checkAttributes=function(e){var t=this.fixLimits,n="checkAttributes_"+e;void 0===t[n]&&(t[n]=50);var o=!0,i=this.node.getAttribute(e),a=this.refNode.getAttribute(e);return a!==i&&(t[n]-- >0?(null===a?this.node.removeAttribute(e):this.node.setAttribute(e,a),tbr.log("Fix attributes",e,i,">",a)):(o=!1,tbr.error("Fix attributes limited"))),o},D.prototype.checkCharacterData=function(){var e=this.fixLimits,t="checkCharacterData";void 0===e[t]&&(e[t]=50);var n=!0,o=this.node.textContent,i=this.refNode.textContent;return o!==i&&(e[t]-- >0?(this.node.textContent=this.refNode.textContent,tbr.log("Fix characterData",o,">",i)):(n=!1,tbr.error("Fix characterData limited"))),n},D.prototype.fixStyleProperty=function(e,t,n){var o=this,i=o.fixLimits,a="fixStyleProperty"+e,r=!0;return i[a]?(r=!1,tbr.error("Fix styleProperty limited")):(i[a]=!0,n.forEach(function(i){o.setStyleProperty(e,i,"important"),tbr.log("Fix styleProperty",e,t,">",n)})),r},D.prototype.getNode=function(){return this.node},D.prototype.buildNode=function(){var e,t,n,o=this.refNode.cloneNode(!1);for(e=0;n=this.refNode.childNodes[e];e++)t=this.wDom.getByRef(n),o.appendChild(t.buildNode());return this.events.forEach(function(e){o.addEventListener(e.type,e.listener,e.useCapture)}),o};var N=function(){this.wElements=[],this.refElements=[],this.elements=[]};N.prototype.createElement=function(e,t,n){for(var o,i=function(e,t){var n,o,i=document.createElement(e);for(var a in t)o=t[a],(n=F[a])?n(i,o):i[a]=o;return i}(e,t),a=E.call(arguments,2),r=0;o=a[r];r++)"object"!=typeof o&&(o=document.createTextNode(o)),i.appendChild(o);return this.wGet(i)},N.prototype.get=function(e){var t=null,n=this.elements.indexOf(e);return-1!==n&&(t=this.wElements[n]),t},N.prototype.getByRef=function(e){var t=null,n=this.refElements.indexOf(e);return-1!==n&&(t=this.wElements[n]),t},N.prototype.wrap=function(e){return new D(this,e)},N.prototype.wGet=function(e){var t=this.get(e);return null===t&&(t=this.wrap(e),this.addWNode(t)),t},N.prototype.addWNode=function(e){this.elements.push(e.node),this.refElements.push(e.refNode),this.wElements.push(e)},N.prototype.removeWNode=function(e){var t=this.wElements.indexOf(e);-1!==t&&(this.elements.splice(t,1),this.refElements.splice(t,1),this.wElements.splice(t,1))},N.prototype.destroy=function(){this.elements.splice(0),this.refElements.splice(0),this.wElements.splice(0)};var B=N,j={},R=function(e,t){var n=e.wDom.wGet(e.body.node),o=document.body.parentNode,i=null,a=null;try{i=getComputedStyle(o),a=getComputedStyle(document.body)}catch(e){}var r=[i,a].some(function(e){return e&&-1!==["absolute","relative","fixed","sticky"].indexOf(e.position)});t?(j.marginTop=o.style.marginTop,j.transition=o.style.transition,o.style.transition="margin-top 0.2s",n.removeCheckStyles("marginTop"),n.setStyle("marginTop","-55px"),n.setStyle("transition","margin-top 0.2s"),setTimeout(function(){o.style.marginTop="55px",n.setStyle("marginTop",""),o.style.setProperty&&o.style.setProperty("margin-top","55px","important"),r&&n.setStyle("top","-55px"),setTimeout(function(){o.style.transition=j.transition,n.setStyle("transition","");document.addEventListener("mousemove",function e(){document.removeEventListener("mousemove",e),setTimeout(function(){n.addCheckStyles("marginTop")},250)})},250)},0)):o.style.marginTop=j.marginTop},q=n(0),V=r();t.default=new(function(){function e(){(0,m.default)(this,e),this.run()}return(0,h.default)(e,[{key:"run",value:function(){return!(window.top!==window.self)&&i.callFn("promoBarGetHash",[location.hostname]).then(function(e){if(e){var t=function(t){return i.callFn("promoBarAddInBlackList",[e,t])};return function(e){return new f.default(function(t,n){!function(e,t){var n=function(e,n){if(t){r.timeoutTimer&&clearTimeout(r.timeoutTimer);var o={statusCode:d.status,statusText:d.statusText,body:n};e&&(0,c.default)(e,o),t(e,o),t=null}},o=e.url,i=e.method||"GET";i=i.toUpperCase();var a=e.body;"string"!=typeof a&&(a=s.stringify(a)),e.headers=e.headers||{},a&&(e.headers["Content-Type"]=e.contentType||e.headers["Content-Type"]||"application/x-www-form-urlencoded; charset=UTF-8");var r={};r.url=o,r.method=i,a&&(r.body=a),e.json&&(r.json=!0),e.timeout&&(r.timeout=e.timeout),(0,u.default)(e.headers).length&&(r.headers=e.headers),r.timeout>0&&(r.timeoutTimer=setTimeout(function(){n(new Error("ETIMEDOUT")),d.abort()},r.timeout));var l={0:200,1223:204},d=new XMLHttpRequest;d.open(r.method,r.url,!0),d.onload=function(){var e=l[d.status]||d.status;try{if(e>=200&&e<300||304===e){var t=d.responseText;return r.json&&(t=JSON.parse(t)),n(null,t)}throw new Error(d.status+" "+d.statusText)}catch(e){return n(e)}};var f=d.onerror=function(){n(new Error(d.status+" "+d.statusText))},p=null;void 0!==d.onabort?d.onabort=f:p=function(){4===d.readyState&&setTimeout(function(){return f()})},p&&(d.onreadystatechange=p);try{d.send(r.body||null)}catch(e){setTimeout(function(){return n(e)})}}(e,function(e,o){e?n(e):t(o)})})}({url:location.protocol+"//promobar.tools/api/v1/getOffer?"+q.stringify({url:location.href,v:2}),json:!0}).then(function(e){var t=e.body;if(!t.ok)throw new Error("Bad response");return t.result}).then(function(e){if(e){var n=function(t){var n=null,o=e.simpleRate||{},a=o.id,r=o.rate;return f.default.resolve().then(function(){return null!==n?n:!(a&&r<1)||i.callFn("promoBarInRate",[a,r])}).then(function(o){if(n=o){var a=e.track||{},r=a.category,s=a.action,l=a.label,u=a.counter;i.sendMessage({action:"track",t:"event",ec:r||"bar",ea:s||t,el:l||location.hostname,tid:u||"UA-119781451-12"})}})},o=new(function(){function e(t,n){(0,m.default)(this,e),this.options=t,this.events=n,this.wDom=new B,this.wSheets=new T,this.create()}return(0,h.default)(e,[{key:"create",value:function(){var e=document.createDocumentFragment(),t=this.getBody(),n=this.getContent();this.body=t,this.content=n,this.wDom.wGet(t.content).appendChild(n.node);var o=this.getStyle();this.style=o,e.appendChild(t.node),e.appendChild(o.node),this.wDom.wGet(e),this.wDom.wGet(o.node)}},{key:"getBody",value:function(){var e=this,t=e.wDom,n=e.wSheets.getSheet();n.add({body:{extend:l,backgroundColor:"#fcefb4",color:"#000",cursor:"pointer",marginTop:"0px",display:"table !important",opacity:"1 !important",position:"absolute",top:"0px",left:"0px",fontWeight:"normal",font:"normal normal 14px Arial, sans-serif",width:"100%",height:"55px",lineHeight:"normal",zIndex:"2147483647","&:hover":{backgroundColor:"#ffeb91"}},itemLeft:{display:"table-cell",verticalAlign:"middle"},itemLeftCloseBtn:{marginLeft:"4px",marginTop:"10px"},itemMiddle:{display:"table-cell",verticalAlign:"middle",textAlign:"center"},content:{maxWidth:"1100px",display:"inline-block",width:"100%",textAlign:"left",position:"relative"},contentChild:{fallbacks:[{display:"block"},{WebkitAlignItems:"center",WebkitFlexDirection:"row",display:"-webkit-flex"}],display:"flex",alignItems:"center",flexDirection:"row",whiteSpace:"pre"},closeBtn:{width:"45px",opacity:"0.3",display:"block",height:"45px",textAlign:"center",cursor:"pointer","&:hover":{opacity:"0.7"}},rightPadding:{width:"45px",display:"table-cell",verticalAlign:"middle"},"@media only screen and (max-width: 1150px)":{content:{maxWidth:"960px"}},"@media only screen and (max-width: 1050px)":{content:{maxWidth:"810px"},closeBtn:{width:"24px"},rightPadding:{width:"24px"}},"@media only screen and (max-width: 850px)":{content:{maxWidth:"700px"}}});var o=v.create("div",{class:n.classes.contentChild}),i=v.create("div",{class:n.classes.body,style:{position:"absolute",top:"0px",left:"0px",display:"table",width:"100%",height:"55px",lineHeight:"normal",opacity:"1",zIndex:"2147483647"},on:["click",function(t){t.stopPropagation(),t.preventDefault(),window.open(e.options.button.link),e.events.onClick()}],append:[v.create("div",{class:n.classes.itemLeft,append:v.create("a",{class:n.classes.closeBtn,href:"#close",on:["click",function(t){t.preventDefault(),t.stopPropagation(),t.isTrusted&&(e.close(!0),e.events.onClose())}],append:v.create(function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=e.namespaceURI;e.setAttribute("width","24"),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 80 80");var n=document.createElementNS(t,"path");return e.appendChild(n),n.setAttribute("fill","#000"),n.setAttribute("d","M56.971 52.729L44.243 40l12.728-12.728-4.242-4.243L40 35.757 27.272 23.029l-4.243 4.243L35.757 40 23.029 52.729l4.243 4.242L40 44.243l12.729 12.728z"),e}(),{class:n.classes.itemLeftCloseBtn})})}),v.create("div",{class:n.classes.itemMiddle,append:v.create("div",{class:n.classes.content,append:o})}),v.create("div",{class:n.classes.rightPadding})]});t.wGet(i).setCheckStyles(["display","position","top","left","marginTop","marginLeft","marginRight","marginBottom","opacity","zIndex","transform","visibility"]);var a=function(e){e.stopPropagation()},r=[!1,!0];return["pointerdown","pointerenter","pointerleave","pointermove","pointerout","pointerover","pointerup"].concat(["mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseout","mouseup"]).forEach(function(e){r.forEach(function(t){"mouseenter"===e&&t||i.addEventListener(e,a,t)})}),{node:i,content:o}}},{key:"getContent",value:function(){var e=this,t=e.wSheets.getSheet(),n=document.createDocumentFragment();t.add({cell:{fallbacks:{display:"inline-block"}}});var o="16px";e.options.text.length>90&&(o="14px"),t.add({title:{extend:"cell",fontSize:o,fontWeight:"bold",margin:"auto 10px",lineHeight:"23px",verticalAlign:"middle",fontFamily:"Arial, sans-serif",flexGrow:1,overflow:"hidden",textOverflow:"ellipsis"},"@media only screen and (max-width: 1050px)":{title:{fontSize:"14px",marginLeft:"5px",marginRight:"5px"}}}),n.appendChild(v.create("div",{class:t.classes.title,title:e.options.text,append:[e.options.text]})),t.add({openBtn:{extend:"cell",verticalAlign:"middle",fontSize:"16px",fontWeight:"bold",color:"#FFF !important",margin:"auto 10px",padding:"10px 25px",backgroundColor:"#4b9f00 !important",borderRadius:"19px",textDecoration:"none !important",fontFamily:"Arial, sans-serif","&:hover":{backgroundColor:"#66ad26 !important",color:"#FFF !important"}},"@media only screen and (max-width: 1050px)":{openBtn:{fontSize:"14px",marginLeft:"5px",marginRight:"5px",paddingLeft:"10px",paddingRight:"10px"}}});var i=v.create("a",{class:t.classes.openBtn,href:e.options.button.link,target:"_blank",append:[e.options.button.text]});return function(e,t){var n=e.href,o=function(e){e.preventDefault(),e.stopPropagation(),window.open(n),t&&t()};e.addEventListener("click",function(e){o(e)}),e.addEventListener("mouseup",function(e){(1===e.button||2===e.which)&&o(e)})}(i,function(t){e.events.onClick()}),n.appendChild(i),{node:n,moreBtn:i}}},{key:"getStyle",value:function(){var e=this,t=e.wDom.createElement("style",{},e.wSheets.toString());return e.wSheets.onChange=function(){t.setText(e.wSheets.toString())},{node:t.getNode()}}},{key:"insertBody",value:function(e){document.body.appendChild(e)}},{key:"insertStyle",value:function(e){document.head.appendChild(e)}},{key:"insert",value:function(){var e=this.body,t=this.style;R(this,!0),this.insertBody(e.node),this.insertStyle(t.node),this.events.onShow()}},{key:"close",value:function(){this.isClosed||(this.isClosed=!0,this.remove(),R(this,!1))}},{key:"remove",value:function(){if(!this.isRemoved){this.isRemoved=!0,this.destroy();var e=this.body.node.parentNode;e&&e.removeChild(this.body.node);var t=this.style.node.parentNode;t&&t.removeChild(this.style.node)}}},{key:"fadeIn",value:function(){this.insert()}},{key:"fadeOut",value:function(){this.close()}},{key:"destroy",value:function(){this.wDom.destroy()}}]),e}())(e,{onClick:function(){n("click"),t(),o.fadeOut()},onClose:function(){n("hide"),t(e.closeTime),o.fadeOut()},onShow:function(){n("show")}});o.fadeIn()}else V.debug("Bar is empty")})}V.debug("Not matched, skip")}).catch(function(e){V.error("Init error",e)})}}]),e}())}])}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={17:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([43,0]),n()}({43:function(e,t,n){n.r(t);var o=n(0),i=n(7),a=n(5),r=function(e){return function(t){return e.some(function(e){return function(e,t){var n=e.matches.test(t);return n&&e.exclude_matches&&(n=!e.exclude_matches.test(t)),n&&e.include_globs&&(n=e.include_globs.test(t)),n&&e.exclude_globs&&(n=!e.exclude_globs.test(t)),n}(e,t)})}}([{matches:/^(?:https?|file|ftp):\/\/[^\\/]*\.ozon\.travel\/.*$|^(?:https?|file|ftp):\/\/ozon\.travel\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.onetwotrip\.com\/.*$|^(?:https?|file|ftp):\/\/onetwotrip\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.onetravel\.com\/.*$|^(?:https?|file|ftp):\/\/onetravel\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.aeroflot\.ru\/.*$|^(?:https?|file|ftp):\/\/aeroflot\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.anywayanyday\.com\/.*$|^(?:https?|file|ftp):\/\/anywayanyday\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.svyaznoy\.travel\/.*$|^(?:https?|file|ftp):\/\/svyaznoy\.travel\/.*$|^(?:https?|file|ftp):\/\/avia\.tickets\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.s7\.ru\/.*$|^(?:https?|file|ftp):\/\/s7\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.kupibilet\.ru\/.*$|^(?:https?|file|ftp):\/\/kupibilet\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.trip\.ru\/.*$|^(?:https?|file|ftp):\/\/trip\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.trip\.com\/.*$|^(?:https?|file|ftp):\/\/trip\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.ctrip\.com\/.*$|^(?:https?|file|ftp):\/\/ctrip\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.tutu\.ru\/.*$|^(?:https?|file|ftp):\/\/tutu\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.uralairlines\.ru\/.*$|^(?:https?|file|ftp):\/\/uralairlines\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.flyredwings\.com\/.*$|^(?:https?|file|ftp):\/\/flyredwings\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.airastana\.com\/.*$|^(?:https?|file|ftp):\/\/airastana\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.airmoldova\.md\/.*$|^(?:https?|file|ftp):\/\/airmoldova\.md\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.sindbad\.ru\/.*$|^(?:https?|file|ftp):\/\/sindbad\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.aviakassa\.ru\/.*$|^(?:https?|file|ftp):\/\/aviakassa\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.aviakassa\.com\/.*$|^(?:https?|file|ftp):\/\/aviakassa\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.biletix\.ru\/.*$|^(?:https?|file|ftp):\/\/biletix\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.utair\.ru\/.*$|^(?:https?|file|ftp):\/\/utair\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.orbitz\.com\/.*$|^(?:https?|file|ftp):\/\/orbitz\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.travelocity\.com\/.*$|^(?:https?|file|ftp):\/\/travelocity\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.travelocity\.ca\/.*$|^(?:https?|file|ftp):\/\/travelocity\.ca\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.expedia-cn\.com\/.*$|^(?:https?|file|ftp):\/\/expedia-cn\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.priceline\.com\/.*$|^(?:https?|file|ftp):\/\/priceline\.com\/.*$|^(?:https?|file|ftp):\/\/booking\.airasia\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.ryanair\.com\/.*$|^(?:https?|file|ftp):\/\/ryanair\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hotels\.com\/.*$|^(?:https?|file|ftp):\/\/hotels\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.ostrovok\.ru\/.*$|^(?:https?|file|ftp):\/\/ostrovok\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.travel\.ru\/.*$|^(?:https?|file|ftp):\/\/travel\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.oktogo\.ru\/.*$|^(?:https?|file|ftp):\/\/oktogo\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.roomguru\.ru\/.*$|^(?:https?|file|ftp):\/\/roomguru\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.tripadvisor\.ru\/.*$|^(?:https?|file|ftp):\/\/tripadvisor\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hilton\.ru\/.*$|^(?:https?|file|ftp):\/\/hilton\.ru\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hilton\.com\/.*$|^(?:https?|file|ftp):\/\/hilton\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.marriott\.com\/.*$|^(?:https?|file|ftp):\/\/marriott\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hostelworld\.com\/.*$|^(?:https?|file|ftp):\/\/hostelworld\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.tiket\.com\/.*$|^(?:https?|file|ftp):\/\/tiket\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hotelsclick\.com\/.*$|^(?:https?|file|ftp):\/\/hotelsclick\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hotelscombined\.com\/.*$|^(?:https?|file|ftp):\/\/hotelscombined\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.wizzair\.com\/.*$|^(?:https?|file|ftp):\/\/wizzair\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.emirates\.com\/.*$|^(?:https?|file|ftp):\/\/emirates\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.delta\.com\/.*$|^(?:https?|file|ftp):\/\/delta\.com\/.*$|^(?:https?|file|ftp):\/\/booking\.etihad\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.budget\.com\/.*$|^(?:https?|file|ftp):\/\/budget\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.hertz\.com\/.*$|^(?:https?|file|ftp):\/\/hertz\.com\/.*$|^(?:https?|file|ftp):\/\/[^\\/]*\.europcar\.com\/.*$|^(?:https?|file|ftp):\/\/europcar\.com\/.*$/i},{matches:/^(?:https?|file|ftp):\/\/[^\\/]*\/.*$/i,include_globs:/^[^:]*:\/\/skyscanner\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.skyscanner\.[^\\/]*\/.*$|^[^:]*:\/\/momondo\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.momondo\.[^\\/]*\/.*$|^[^:]*:\/\/kayak\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.kayak\.[^\\/]*\/.*$|^[^:]*:\/\/booking\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.booking\.[^\\/]*\/.*$|^[^:]*:\/\/agoda\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.agoda\.[^\\/]*\/.*$|^[^:]*:\/\/expedia\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.expedia\.[^\\/]*\/.*$|^[^:]*:\/\/avis\.[^\\/]*\/.*$|^[^:]*:\/\/[^\\/]*\.avis\.[^\\/]*\/.*$/i}]);Object(a.b)("sovetnik",function(e,t){var n=t.preferences,a=document.domain;/^www./.test(a)&&(a=a.slice(4));var r="//dl.metabar.ru/static/js/sovetnik.min.js?mbr=true&settings="+encodeURIComponent((0,d.default)({affId:1020,clid:2210496,applicationName:"SaveFrom",aviaEnabled:!0,offerEnabled:!0})),s=function(e,t){return o.a.storage.get(e,t)},l=function(e,t){return 1===n.sovetnikEnabled&&(!0===e.sovetnikRemoved?o.a.sendMessage({action:"updateOption",key:"sovetnikEnabled",value:0}):!1===e.sovetnikOfferAccepted&&o.a.sendMessage({action:"updateOption",key:"sovetnikEnabled",value:0})),o.a.storage.set(e,t)},u=function(e,t){return o.a.storage.remove(e,t)},c={inject:function(){if(!Object(i.a)()){var e=document.createElement("script");e.async=1,e.src=r,e.setAttribute("charset","UTF-8"),document.body&&(document.body.appendChild(e),function(){var e=30,t=[].slice,n=setInterval(function(){var o=null,a=t.call(document.querySelectorAll("body style+div[id^=m]>div[class]:not([id])>img[src]")).some(function(e){if(/^data:image\/png;/.test(e.src)){var t=e.parentNode&&e.parentNode.parentNode;if(t&&/^m/.test(t.id))return t.querySelector("div>a[title][id^=m]~a[title][id^=m]~a[title][id^=m]")?(o="#"+t.id,!0):void 0}});(--e<0||a)&&clearInterval(n),a&&i(o)},1e3),i=function(e){var t=document.querySelector(e);t&&(o.a.sendMessage({action:"track",t:"event",ec:"sovetnik",ea:"show",el:"bar",tid:"UA-67738130-3"}),t.addEventListener("mousedown",function(e){if(0===e.button){for(var n=e.target;n&&"A"!==n.tagName&&("TR"!==n.tagName||!n.dataset.typeShop);)(n=n.parentNode)&&n===t&&(n=null);if(n){var i=null;if("TR"===n.tagName&&(i=n.dataset.typeShop),"A"===n.tagName){var a=n.previousElementSibling,r=n.nextElementSibling;r&&"A"===r.tagName&&r.querySelector("span")||(r=null),r&&r.nextElementSibling&&(r=null);var s=n.parentNode;s&&s.parentNode!==t&&(s=null),s&&2!==s.childElementCount&&(s=null),s&&!a&&r&&(i="Show button")}i&&o.a.sendMessage({action:"track",t:"event",ec:"sovetnik",ea:"click",el:i,tid:"UA-67738130-3",ev:2})}}}))}}())}},canInject:function(e,t){this.listenScriptMessages(),s(["sovetnikBlacklist","sovetnikRemoved","sovetnikUpdateTime","sovetnikDisabled"],function(n){n.sovetnikBlacklist&&n.sovetnikBlacklist[e]||n.sovetnikRemoved||n.sovetnikDisabled||t(),n.sovetnikUpdateTime=n.sovetnikUpdateTime||0,Date.now()-n.sovetnikUpdateTime>6048e5&&l({sovetnikUpdateTime:Date.now(),sovetnikRemoved:!1,sovetnikBlacklist:{}})})},addToBlacklist:function(e){s("sovetnikBlacklist",function(t){t.sovetnikBlacklist=t.sovetnikBlacklist||{},t.sovetnikBlacklist[e]=!0,l(t)})},setSovetnikRemovedState:function(e){void 0===e?u("sovetnikRemoved"):l({sovetnikRemoved:e})},setOfferState:function(e){void 0===e?u("sovetnikOfferAccepted"):l({sovetnikOfferAccepted:e})},onScriptMessage:function(e){switch(e.command){case"blacklist":this.addToBlacklist(e.value);break;case"removed":this.setSovetnikRemovedState(e.value);break;case"offerAccepted":this.setOfferState(e.value)}},listenScriptMessages:function(){window.addEventListener("message",function(e){e&&e.data&&"MBR_ENVIRONMENT"===e.data.type&&this.onScriptMessage(e.data)}.bind(this),!1)}};c.canInject(a,c.inject.bind(c))},function(){return!Object(i.a)()&&(!function(e,t){for(var n=void 0;-1!==(n=e.indexOf("."));){if(-1!==t.indexOf(e))return!0;e=e.substr(n+1)}return!1}(location.hostname,["vk.com","youtube.com","odnoklassniki.ru","ok.ru","privet.ru","facebook.com","news.sportbox.ru","play.google.com","roem.ru","linkedin.com","ex.ua","instagram.com","rutube.ru","e.mail.ru","fotki.yandex.ru","support.kaspersky.ru","vimeo.com","club.foto.ru","garant.ru","webmaster.yandex.ru","support.kaspersky.ru","fotki.yandex.ru","mk.ru","metrika.yandex.ru","images.yandex.ru","disk.yandex.ru","maps.yandex.ru","help.yandex.ru","www.yaplakal.com","www.facebook.com","my.mail.ru","aviasales.ru"])&&!function(e){return r(e)}(location.protocol+"//"+location.hostname+"/")&&o.a.callFn("getPreferences").then(function(e){return!!e.hasSovetnik&&!!e.sovetnikEnabled&&(window.SF_ddblAdv?void 0:(window.SF_ddblAdv=!0,!0))}))})}})},function(e){!function(e){function t(t){for(var o,a,r=t[0],s=t[1],l=t[2],d=0,c=[];d<r.length;d++)a=r[d],i[a]&&c.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(m&&m(t);c.length;)c.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(u.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},i={18:0},u=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:n})},d.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=(0,a.default)(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var c=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var m=f;u.push([42,0]),n()}({42:function(e,t,n){n.r(t);var a=n(0),r=n(7),s=n(5),l=n(10),u=Object(l.a)("swStat");Object(s.a)("swStat",function(){function e(){return window.location.href}function t(e){return"a"===e.tagName.toLowerCase()?e.getAttribute("href"):e.parentNode&&e.parentNode!==document?t(e.parentNode):null}var n={pid:function(e){var t=new Uint8Array(16);return window.crypto.getRandomValues(t),(0,i.default)(t).map(function(e){return e.toString(16)}).join("")}(),lastFocusedUrl:null,prev:null};document.addEventListener;var a=function(){function t(){(0,m.default)(this,t),this.handlers=[],this.lastH=e()}return(0,h.default)(t,[{key:"addListener",value:function(e){return this.handlers.push(e),this}},{key:"listen",value:function(){var e=this;return setInterval(function(){e._checkChange()},1e3),this}},{key:"_checkChange",value:function(){var e=this,t=500*Math.random();setTimeout(function(){e._singleCheck()},t)}},{key:"_singleCheck",value:function(){var t=e();this.lastH!==t&&(this.triggerChange(t,this.lastH),this.lastH=t)}},{key:"triggerChange",value:function(e,t){this.handlers.forEach(function(n){return n(e,t)})}}]),t}(),r=new(function(){function e(){(0,m.default)(this,e),this.global.uid&&(this.global.pid=this.global.uid)}return(0,h.default)(e,[{key:"shared",get:function(){return GM_getValue("dprm",null)},set:function(e){GM_setValue("dprm",this._valueOf(e))}},{key:"global",get:function(){return this._global?this._global:this._global=this._getGlobal()},set:function(e){GM_setValue("sdc_data",this._valueOf(e))}}]),(0,h.default)(e,[{key:"_getGlobalRaw",value:function(){return GM_getValue("sdc_data",null)}},{key:"_getGlobal",value:function(){var e=this._getGlobalRaw();return e?JSON.parse(e):n}},{key:"_valueOf",value:function(e){switch(typeof e){case"number":case"string":return e;case"object":return(0,d.default)(e);default:return null}}},{key:"_commit",value:function(){this.global=this.global}},{key:"activate",value:function(e){this.global._active=e,this._commit()}},{key:"fixChange",value:function(e){this.global.prev=this.global._active,this.global.q=e,this.global.hreferer=document.referrer,this.global._active=e,delete this.global.meta;var t=function(){var e=window.location.href;if(e.match(/www\.google\..+\/search?/g)&&-1===e.indexOf("&tbm=")){var t=function(){var e=[],t=[],n=0;function o(e,t){return{title:e.querySelector("h3").innerText,href:e.querySelectorAll("cite")[0].href,index:t}}function i(e){return{url:e.href,label:e.title,position:e.index}}return document.querySelectorAll("#tads ol li.ads-ad").forEach(function(t){e.push(o(t,n++))}),document.querySelectorAll("#res [class='g']").forEach(function(e){t.push(function(e,t){var n;return{title:(n=e.querySelector("a")).innerText,href:n.href,index:t}}(e,n++))}),document.querySelectorAll("#bottomads ol li.ads-ad").forEach(function(t){e.push(o(t,n++))}),{org:t.map(i),ads:e.map(i)}}();return(0,d.default)([{type:"serp",data:t}])}return null}();t&&this.addSerptember(t),this._commit()}},{key:"markAjax",value:function(){this.global.meta=["ajax"],this._commit()}},{key:"recordManualHard",value:function(e){this.global._manualHard=e,this._commit()}},{key:"recordManualSoft",value:function(e){this.global._manualSoft=e,this._commit()}},{key:"assignManual",value:function(){this.global.et=this.global._manualHard||this.global._manualSoft}},{key:"cleanUpOptionals",value:function(){delete this.global._manualSoft,delete this.global._manualHard,delete this.global.et,delete this.global.meta,delete this.global.ses,delete this.global.browserName,delete this.global.tgt,delete this.global.ht,delete this.global.uid}},{key:"addSerptember",value:function(e){this.global.ht=e,this._commit()}}]),e}()),s=new(function(){function n(e,t){(0,m.default)(this,n),this.source=e,this.sync=t}return(0,h.default)(n,[{key:"init",value:function(){this._initOnload(this._handleOnLoad.bind(this)),this._initOnFocus(this._handleOnFocus.bind(this)),this._initOnLinkHard(this._handleOnLinkHard.bind(this)),this._initOnUrlChange(this._handleOnUrlChange.bind(this)),this._initOnLinkSoft(this._handleOnLinkSoft.bind(this))}},{key:"push",value:function(){this._prePush(),this.sync.map=this.source.global,this.sync.resync(),this._afterPush()}},{key:"_prePush",value:function(){this.source.assignManual()}},{key:"_afterPush",value:function(){this.source.cleanUpOptionals()}},{key:"_initOnload",value:function(e){e.apply(this)}},{key:"_handleOnLoad",value:function(){this.source.fixChange(e()),this.push()}},{key:"_initOnFocus",value:function(e){window.addEventListener("focus",e)}},{key:"_handleOnFocus",value:function(){this.source.activate(e())}},{key:"_initOnLinkHard",value:function(e){document.addEventListener("click",e)}},{key:"_handleOnLinkHard",value:function(e){var n=t(e.target);n&&this.source.recordManualHard(n)}},{key:"_initOnLinkSoft",value:function(e){["contextmenu","auxclick"].forEach(function(t){return document.addEventListener(t,e)})}},{key:"_handleOnLinkSoft",value:function(e){var n=t(e.target);n&&this.source.recordManualSoft(n)}},{key:"_initOnUrlChange",value:function(e){(new a).addListener(e).listen()}},{key:"_handleOnUrlChange",value:function(e){this.source.fixChange(e),this.source.markAjax(),this.push()}}]),n}())(r,new(function(){function e(){(0,m.default)(this,e),this._settings={relatedUrl:"https://savefr.com/related",sourceId:"a0c58c182"},this._common={s:this._settings.sourceId,tmv:"3.0",sub:GM_info.script.version,md:21}}return(0,h.default)(e,[{key:"map",get:function(){return this._map},set:function(e){this._map=e}}]),(0,h.default)(e,[{key:"_pack",value:function(){return["e",[(0,o.default)((0,c.default)(this._common,this.map)).filter(function(e){return 0!=e[0].indexOf("_")&&!!e[1]}).map(function(e){return e[0]+"="+encodeURIComponent(e[1])}).join("&")]].map(encodeURIComponent).join("=")+"&decode=0"}},{key:"resync",value:function(){GM_xmlhttpRequest({method:"POST",url:this._settings.relatedUrl,data:this._pack(),headers:{"Content-Type":"application/x-www-form-urlencoded"},onload:function(e){}})}}]),e}()));try{!function(){var e=r.shared;e?(new Date).getTime()-e>1836e5&&window==top&&s.init():r.shared=(new Date).getTime()}()}catch(e){u(e)}},function(){if("undefined"!=typeof GM_getValue&&document.domain&&!Object(r.a)())return a.a.callFn("getPreferences").then(function(e){return!(!e.hasSwStat||!e.statEnabled)})})}})}],e.loadedContentScripts=[],e.contentScriptMono=null,e}return(0,v.default)(t,e),(0,h.default)(t,[{key:"createMonoInstance",value:function(e){throw new Error("Instance type ("+e+") is not found")}},{key:"addMonoInstance",value:function(e){var t=this;e.onDestroy.addListener(function(){var n=t.monoInstances.indexOf(e);-1!==n&&t.monoInstances.splice(n,1)}),this.monoInstances.push(e)}},{key:"getContentScriptMono",value:function(){return this.contentScriptMono||(this.contentScriptMono=this.createMonoInstance("contentScript")),this.contentScriptMono}},{key:"inject",value:function(){var e=this,t=[],n=[],o=[];this.contentScripts.forEach(function(e){x(e)&&e.js.forEach(function(i){"document_start"===e.run_at?-1===n.indexOf(i)&&n.push(i):"document_end"===e.run_at?-1===t.indexOf(i)&&t.push(i):-1===o.indexOf(i)&&o.push(i)})}),n.length&&this.runWhenDocumentStart(function(){e.executeContentScripts(n)}),t.length&&this.runWhenDocumentEnd(function(){e.executeContentScripts(t)}),o.length&&this.runWhenDocumentIdle(function(){e.executeContentScripts(o)})}},{key:"runWhenDocumentStart",value:function(e){e()}},{key:"runWhenDocumentEnd",value:function(e){this.runWhenDocumentStart(function(){if(-1!==["interactive","complete"].indexOf(document.readyState))e();else{var t=function t(){-1!==["interactive","complete"].indexOf(document.readyState)&&(document.removeEventListener("DOMContentLoaded",t),window.removeEventListener("load",t),e&&e(),e=null)};document.addEventListener("DOMContentLoaded",t),window.addEventListener("load",t)}})}},{key:"runWhenDocumentIdle",value:function(e){this.runWhenDocumentEnd(function(){try{if(!window.requestIdleCallback)throw new Error("requestIdleCallback in not supported");window.requestIdleCallback(e)}catch(t){setTimeout(e,1)}})}},{key:"executeScript",value:function(e){var t=this;"document_start"===e.runAt?this.runWhenDocumentStart(function(){t.executeContentScripts([t.contentScriptMap[e.file]])}):"document_end"===e.runAt?this.runWhenDocumentEnd(function(){t.executeContentScripts([t.contentScriptMap[e.file]])}):this.runWhenDocumentIdle(function(){t.executeContentScripts([t.contentScriptMap[e.file]])})}},{key:"isLoadedFile",value:function(e){return-1!==this.loadedContentScripts.indexOf(this.contentScriptMap[e])}},{key:"executeContentScripts",value:function(e){var t=this;return this.executeScripts(e.map(function(e){return-1===t.loadedContentScripts.indexOf(e)&&t.loadedContentScripts.push(e),t.contentScriptIndex[e]}),this.getContentScriptMono())}},{key:"executeScripts",value:function(e,t){e.forEach(function(e){try{e(t)}catch(e){k.error("executeScript error",e)}})}}]),t}((0,b.default)(function(){return function e(){(0,m.default)(this,e)}}())),x=function(e){if("boolean"==typeof e._isMatch)return e._isMatch;var t=window.top===window.self||!0===e.all_frames;return t&&(t=new RegExp(e.matches,"i").test(location.href)),t&&e.exclude_matches&&(t=!new RegExp(e.exclude_matches,"i").test(location.href)),t&&e.include_globs&&(t=new RegExp(e.include_globs,"i").test(location.href)),t&&e.exclude_globs&&(t=!new RegExp(e.exclude_globs,"i").test(location.href)),e._isMatch=t};t.default=w},function(e,t,n){e.exports={default:n(141),__esModule:!0}},function(e,t,n){n(142),e.exports=n(5).Object.entries},function(e,t,n){var o=n(8),i=n(143)(!0);o(o.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){var o=n(21),i=n(14),a=n(31).f;e.exports=function(e){return function(t){for(var n,r=i(t),s=o(r),l=s.length,u=0,d=[];l>u;)a.call(r,n=s[u++])&&d.push(e?[n,r[n]]:r[n]);return d}}},function(e,t,n){n(145),e.exports=n(5).Object.assign},function(e,t,n){var o=n(8);o(o.S+o.F,"Object",{assign:n(146)})},function(e,t,n){"use strict";var o=n(21),i=n(53),a=n(31),r=n(27),s=n(64),l=Object.assign;e.exports=!l||n(20)(function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=o})?function(e,t){for(var n=r(e),l=arguments.length,u=1,d=i.f,c=a.f;l>u;)for(var f,p=s(arguments[u++]),m=d?o(p).concat(d(p)):o(p),h=m.length,g=0;h>g;)c.call(p,f=m[g++])&&(n[f]=p[f]);return n}:l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(15)),i=u(n(1)),a=u(n(0)),r=u(n(4)),s=u(n(2)),l=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var d=n(148).preferredLanguages;t.default=function(e){return function(e){function t(){(0,a.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.defaultLocale="en",e.localeMap={de:{extName:{message:"SaveFrom.net Helfer"},extDescription:{message:"Laden Sie von YouTube, Facebook, VK.com und mehr als 40 anderen Seiten mit einem Klick herunter."},extNameLite:{message:"SaveFrom.net Helfer Lite"},extDescriptionLite:{message:"Herunterladen von Facebook, VK.com und mehr als 40 weiteren Seiten mit einem Klick herunter."},lang:{message:"de"},titleDefault:{message:"SaveFrom.net Helfer"},titleDesabled:{message:"SaveFrom.net Helfer deaktiviert"},menuEnable:{message:"Aktivieren"},menuDisable:{message:"Deaktivieren"},showButton:{message:"Erweiterungs Knopf anzeigen"},copy:{message:"Kopie"},download:{message:"Herunterladen"},downloadTitle:{message:"Klicken Sie den Link während Sie die Alt/Einstellung oder Ctrl/Strg Taste drücken zum Herunterladen der Dateien."},noLinksFound:{message:"Keine Links wurden gefunden"},more:{message:"Mehr"},close:{message:"Schließen"},kbps:{message:"kbps"},withoutAudio:{message:"without audio"},size:{message:"größe"},subtitles:{message:"Untertitel"},playlist:{message:"Wiedergabliste"},filelist:{message:"List of files"},downloadWholePlaylist:{message:"Die komplette Wiedergabliste herunterladen"},getFileSizeTitle:{message:"Dateigröße bestimmen"},getFileSizeFailTitle:{message:"Fehler bei bestimmung der Dateigröße. Bitte versuchen Sie es erneut."},lmButtonTitle:{message:"Holen Sie sich einen direkten Link."},downloadFromCurrentPage:{message:"Zu SaveFrom.net"},updateLinks:{message:"Links aktualisieren"},updateLinksNotification:{message:"Links aktualisiert"},downloadMP3Files:{message:"Download Audiodateien"},downloadPlaylist:{message:"Download Playlist"},downloadPhotos:{message:"Download Bilder"},installFullVersion:{message:"Install full version"},disable:{message:"Deaktivieren"},showOptions:{message:"Einstellungen"},reportBug:{message:"Fehler melden"},openPoll:{message:"Become better"},disableModule:{message:"Auf dieser Webseite deaktivieren"},enableModule:{message:"Auf dieser Webseite aktivieren"},enableDisableModule:{message:"Ein/Aus auf dieser Webseite"},showHideButton:{message:"Erweitern Ein-/Ausblenden"},updateTo:{message:"Update auf %d"},aboutPage:{message:"Über"},aboutTitle:{message:"SaveFrom.net Helfer"},aboutVersion:{message:"Version"},aboutDescription:{message:"Hilft den Nutzern direkte Links zu Herunterladen von mehr als 40 Webseiten, inklusive Dailymotion.com, YouTube.com, VK.com und weiteren zu bekommen."},aboutDescriptionLite:{message:"Hilft den Nutzern direkte Links zu Herunterladen von mehr als 40 Webseiten, inklusive Dailymotion.com, VK.com und weiteren zu bekommen."},aboutSupported:{message:"Unterstützte Ressourcen"},homePage:{message:"Homepage"},optionsTitle:{message:"SaveFrom.net Helfer - Einstellungen"},optionsHandleLinks:{message:"Links handhaben"},optionsMediaHostings:{message:"Zu Medienhoster"},optionsModules:{message:"Module"},optionsYoutube:{message:"YouTube"},optionsYTHideLinks:{message:"Links ausblenden"},optionsDailymotion:{message:"Dailymotion"},optionsVimeo:{message:"Vimeo"},optionsFacebook:{message:"Facebook"},optionsSoundcloud:{message:"SoundCloud"},optionsVkontakte:{message:"VK"},optionsOdnoklassniki:{message:"Odnoklassniki"},optionsMailru:{message:"Moy Mir"},optionsInstagram:{message:"Instagram"},optionsRutube:{message:"Rutube"},optionsBitrate:{message:"Bitrate sofort zeigen"},optionsSovetnikEnabled:{message:"Advisor"},optionsShowUmmyInfo:{message:"Tipps für UVD einblenden"},optionsGmNativeDownload:{message:"Erweiterter Download-Modus"},optionsShowUmmyBtn:{message:"Schaltfläche Ummy anzeigen"},optionsAviaBarEnabled:{message:"Cheap Flights Advisor"},optionsSaveAsDialog:{message:"Jedes Mal nachfragen, wo eine Datei gespeichert werden soll"},menuDownloadFromCurrentPage:{message:"Laden Sie die Dateien mit SaveFrom.net von der aktuellen Seite"},menuUpdateLinks:{message:"Hier klicken, wenn die Download-Taste nicht erscheint"},menuDownloadMP3Files:{message:"Alle auf dieser Seite gefundenen Audiodateien herunterladen"},menuDownloadPlaylist:{message:"Playliste mit den Links zu den Audiodateien generieren und downloaden"},menuDownloadPhotos:{message:"Alle auf der aktuellen Seite gefundenen Bilder herunterladen"},menuReportBug:{message:"Schreiben Sie uns, wenn Probleme auftreten"},menuShowOptions:{message:"AN/AUS unterstützte Ressourcen und Helperoptionen"},menuEnableExtension:{message:""},menuOpenPoll:{message:""},quality:{message:"Qualität"},qualityNote:{message:"Wenn es nicht um Qualität geht, wird das nächste verfügbare Video heruntergeladen."},filelistTitle:{message:"Die Liste der gefundenen dateien"},filelistInstruction:{message:"['Zum Herunterladen aller datien kopieren Sie die liste der Links in Ihren ',{a:{href:'http://en.wikipedia.org/wiki/Download_manager',text:'Download Manager'}},'. Wenn Sie noch keinen Download Manager haben we empfehlen wir Ihnen die Installation des ',{a:{href:'http://www.freedownloadmanager.org/',text:'Free Download Manager'}},'.']"},playlistTitle:{message:"Wiedergabliste"},playlistInstruction:{message:"Zur Wiedergabe Ihrer gespeicherten Wiedergabliste kann es nun mit einem Musik-Player geöffnet werden."},ummySfTitle:{message:"HD oder MP3"},ummyMenuItem:{message:"[{span:{}},' mithilfe von Ummy herunterladen']"},ummyMenuInfo:{message:"[{p:{text:'Schnell und einfach HD Videos und MP3 über Ummy Video Downloader herunterladen!'}},{p:{class:'center',append:[{a:{class:'green-btn-2 arrow',href:'{url}',target:'_blank',text:'Jetzt installieren'}}]}},{p:{append:['Nach der Installation startet jederzeit ein Download, wenn Sie auf ',{img:{src:'#'}},' klicken']}}]"},warningPopupTitle:{message:"Überprüfen Sie die Browsereinstellungen"},warningPopupDesc:{message:'Die Option "Jedes Mal nachfragen, wo eine Datei gespeichert werden soll" muss deaktiviert sein.'},readMore:{message:"Mehr"},noWarning:{message:"Nicht benachrichtigen"},cancel:{message:"Abbrechen"},continue:{message:"Fortsetzen"},beforeDownloadPopupWarn:{message:"Achtung! Der Download kann nicht abgebrochen oder angehalten werden."},vkInfo:{message:"Info"},vkInfoTitle:{message:"Dateigröße und Bitrate"},vkMp3LinksNotFound:{message:"Links zu MP3 Dateien wurden nicht gefunden"},vkPhotoLinksNotFound:{message:"Photos are not found"},vkDownloadPhotoAlbum:{message:"Album herunterladen"},vkDownloadAllPhotoAlbums:{message:"Alle Alben herunterladen"},vkFoundPhotos:{message:"Gefundene Fotos"},vkNotAvailablePhotos:{message:"%d Foto(s) vorübergehend nicht verfügbar"},vkFoundLinks:{message:"Gefundene Links"},vkFoundOf:{message:"von"},vkShowAs:{message:"Zeigen als"},vkListOfLinks:{message:"Liste der Links"},vkListOfLinksInstruction:{message:"['Um alle Fotos herunterzuladen, kopieren Sie die Links aus der Liste und fügen Sie diese in Ihren ',{a:{href:'http://en.wikipedia.org/wiki/Download_manager',text:'Download Manager'}},' ein. Wenn Sie noch keinen Download Manager haben we empfehlen wir Ihnen die Installation des ',{a:{href:'http://www.freedownloadmanager.org/',text:'Free Download Manager'}},'.']"},vkTableOfThumbnails:{message:"Tabelle der Thumbnails"},vkListOfPhotos:{message:"Liste der Fotos"},vkListOfPhotosInstruction:{message:"Klicken Sie auf ein Foto um es herunterzuladen."},vkKbps:{message:"kbps"},vkFileSizeByte:{message:"B"},vkFileSizeKByte:{message:"kB"},vkFileSizeMByte:{message:"MB"},vkFileSizeGByte:{message:"GB"},vkFileSizeTByte:{message:"TB"},vkDownloadFromYoutube:{message:"['Herunterladen: Öffnen Sie ',{a:{href:'{url}',text:'die Video Seite'}},' und drücken Sie den \"Herunterladen\" Knopf über dem Video-Spieler']"},vkFoundFiles:{message:"Dateien gefunden: %d"},shareIn:{message:"In %w teilen"},socialDesc:{message:"Der SaveFrom.net Helper ermöglicht es Ihnen Dateien YouTube.com, Facebook.com, VK.com und mehr als 40 andere Seiten mit einem Klick herunterzuladen"},tutorialS1Title:{message:"Gute Nachrichten!"},tutorialS1Main:{message:"['SaveFrom.net Helper ',{img: {src: '#logo'}},' wurde erfolgreich installiert. Jetzt kannst due jedes Video mit einem Klick von YouTube herunterladen']"},tutorialS1Arrow:{message:"['Wie das geht?',{br:{}},'Hier erfährst du es']"},tutorialS2Main:{message:'Wähle das Format des Videos, das du herunterladen möchtest und klicken auf "Herunterladen"'},tutorialS3History:{message:"Historie"},tutorialS3Main:{message:"['Du möchtest ein Video aus Historie herunterladen? Klicken einfach in der Vorschau des zuletzt gesehenen Videos auf ', {img: {src: '#arrow'}}]"},tutorialS4Main:{message:"['Du musst dir das Video nicht ansehen — klicke einfach auf ', {img: {src: '#arrow'}}, ', wähle die Qualität und lade es herunter. Ganz einfach, oder?']"},tutorialS5Title:{message:"Viel Spaß mit SaveFrom.net Helper!"},tutorialS5Main:{message:"['Noch Fragen? Vorschläge? Willkommen auf unserer ', {a: {text: 'Support-Seite', href: '#support'}} ,'. Schließe dich uns bei ', {a: {text: 'Facebook', href: '#fb'}} ,' an']"},tutorialTooltipText:{message:"['Klicken Sie zum ',{b: {text: 'Download'}},', einfach auf die Schaltfläche']"},ummyTooltipConfirm:{message:"['Hatten Sie ',{img:{}},' Ummy Video Downloader bereits zuvor installiert?']"},yes:{message:"Ja"},no:{message:"Nein"},tooltipHide:{message:"Diese Meldung nicht wieder anzeigen"}},en:{extName:{message:"SaveFrom.net helper"},extDescription:{message:"Download YouTube, Facebook, VK.com and 40+ sites in one click."},extNameLite:{message:"SaveFrom.net helper lite"},extDescriptionLite:{message:"Download Facebook, VK.com and 40+ sites in one click."},lang:{message:"en"},titleDefault:{message:"SaveFrom.net helper"},titleDesabled:{message:"SaveFrom.net helper disabled"},menuEnable:{message:"Enable"},menuDisable:{message:"Disable"},showButton:{message:"Show extension button"},copy:{message:"Copy"},download:{message:"Download"},downloadTitle:{message:"Click the link while holding Alt/Option or Ctrl key to download the file."},noLinksFound:{message:"No links were found"},more:{message:"More"},close:{message:"Close"},kbps:{message:"kbps"},withoutAudio:{message:"without audio"},size:{message:"size"},subtitles:{message:"Subtitles"},playlist:{message:"Playlist"},filelist:{message:"List of files"},downloadWholePlaylist:{message:"Download the whole playlist"},getFileSizeTitle:{message:"Get file size"},getFileSizeFailTitle:{message:"Unable to get the file size. Please try again."},lmButtonTitle:{message:"Get a direct link"},downloadFromCurrentPage:{message:"Go to SaveFrom.net"},updateLinks:{message:"Refresh links"},updateLinksNotification:{message:"Links updated"},downloadMP3Files:{message:"Download audio files"},downloadPlaylist:{message:"Download a playlist"},downloadPhotos:{message:"Download pictures"},installFullVersion:{message:"Install full version"},disable:{message:"Disable"},showOptions:{message:"Settings"},reportBug:{message:"Report a bug"},openPoll:{message:"Become better"},disableModule:{message:"Disable on this website"},enableModule:{message:"Enable on this website"},enableDisableModule:{message:"Turn On/Off on this website"},showHideButton:{message:"Show/hide extension button"},updateTo:{message:"Update to %d"},aboutPage:{message:"About"},aboutTitle:{message:"SaveFrom.net Helper"},aboutVersion:{message:"Version"},aboutDescription:{message:"Helps users to get direct links to download from more than 40 websites, including Dailymotion.com, YouTube.com, VK.com and others."},aboutDescriptionLite:{message:"Helps users to get direct links to download from more than 40 websites, including Dailymotion.com, VK.com and others."},aboutSupported:{message:"Supported resources"},homePage:{message:"Home page"},optionsTitle:{message:"SaveFrom.net Helper - Preferences"},optionsHandleLinks:{message:"Handle links"},optionsMediaHostings:{message:"To mediahostings"},optionsModules:{message:"Modules"},optionsYoutube:{message:"YouTube"},optionsYTHideLinks:{message:"Hide links"},optionsDailymotion:{message:"Dailymotion"},optionsVimeo:{message:"Vimeo"},optionsFacebook:{message:"Facebook"},optionsSoundcloud:{message:"SoundCloud"},optionsVkontakte:{message:"VK"},optionsOdnoklassniki:{message:"Odnoklassniki"},optionsMailru:{message:"Moy Mir"},optionsInstagram:{message:"Instagram"},optionsRutube:{message:"Rutube"},optionsBitrate:{message:"Show bitrate instantly"},optionsSovetnikEnabled:{message:"Advisor"},optionsShowUmmyInfo:{message:"Show tips for Ummy Video Downloader"},optionsGmNativeDownload:{message:"Advanced download mode"},optionsShowUmmyBtn:{message:"Show the Ummy button"},optionsAviaBarEnabled:{message:"Cheap Flights Advisor"},optionsSaveAsDialog:{message:"Always ask me where to save files"},menuDownloadFromCurrentPage:{message:"Download files from the current page using SaveFrom.net"},menuUpdateLinks:{message:"Press if Download button doesn't appear"},menuDownloadMP3Files:{message:"Download all audio files found on the current page"},menuDownloadPlaylist:{message:"Generates and downloads the playlist consisting of links to audio files"},menuDownloadPhotos:{message:"Download all pictures found on the current page"},menuReportBug:{message:"Let us know if you have any problems"},menuShowOptions:{message:"ON/OFF supported resources and Helper options"},menuEnableExtension:{message:""},menuOpenPoll:{message:"We work hard to become better. Please, give us a hand!"},quality:{message:"Quality"},qualityNote:{message:"The best available video will be downloaded If there is no chosen quality."},filelistTitle:{message:"The list of the found files"},filelistInstruction:{message:"['To download all files copy the list of links and paste it into the ',{a:{href:'http://en.wikipedia.org/wiki/Download_manager',text:'download manager'}},'. If you do not have a download manager installed we recommend installing ',{a:{href:'http://www.freedownloadmanager.org/',text:'Free Download Manager'}},'.']"},playlistTitle:{message:"Playlist"},playlistInstruction:{message:"To playback the saved playlist it may be now opened in the music player."},ummySfTitle:{message:"HD or MP3"},ummyMenuItem:{message:"[{span:{}},' via Ummy']"},ummyMenuInfo:{message:"[{p:{text:'Fast and easy download HD videos and MP3 via Ummy Video Downloader!'}},{p:{class:'center',append:[{a:{class:'green-btn-2 arrow',href:'{url}',target:'_blank',text:'Install Now'}}]}},{p:{append:['When installed, a download will start anytime you click on ',{img:{src:'#'}}]}}]"},warningPopupTitle:{message:"Check browser settings"},warningPopupDesc:{message:'The option "Always ask me where to save files" must be turned off.'},readMore:{message:"More"},noWarning:{message:"Don't notify"},cancel:{message:"Cancel"},continue:{message:"Continue"},beforeDownloadPopupWarn:{message:"Warning! Downloading cannot be canceled or suspended."},vkInfo:{message:"Info"},vkInfoTitle:{message:"File size and bitrate"},vkMp3LinksNotFound:{message:"Links to MP3 files are not found"},vkPhotoLinksNotFound:{message:"Photos are not found"},vkDownloadPhotoAlbum:{message:"Download album"},vkDownloadAllPhotoAlbums:{message:"Download all albums"},vkFoundPhotos:{message:"Found photos"},vkNotAvailablePhotos:{message:"%d photos are temporarily unavailable"},vkFoundLinks:{message:"Found links"},vkFoundOf:{message:"of"},vkShowAs:{message:"Show as"},vkListOfLinks:{message:"List of links"},vkListOfLinksInstruction:{message:"['To download all photos copy the list of links and paste it into the ',{a:{href:'http://en.wikipedia.org/wiki/Download_manager',text:'download manager'}},'. If you do not have a download manager installed we recommend installing ',{a:{href:'http://www.freedownloadmanager.org/',text:'Free Download Manager'}},'.']"},vkTableOfThumbnails:{message:"Table of thumbnails"},vkListOfPhotos:{message:"List of photos"},vkListOfPhotosInstruction:{message:"Click on the photo to download it."},vkKbps:{message:"kbps"},vkFileSizeByte:{message:"B"},vkFileSizeKByte:{message:"kB"},vkFileSizeMByte:{message:"MB"},vkFileSizeGByte:{message:"GB"},vkFileSizeTByte:{message:"TB"},vkDownloadFromYoutube:{message:"['Download: open ',{a:{href:'{url}',text:'the video page'}},' and press the \"Download\" button above the player']"},vkFoundFiles:{message:"Files found: %d"},shareIn:{message:"Share on %w"},socialDesc:{message:"SaveFrom.net helper enables you to download files from YouTube.com, Facebook.com, VK.com and more than 40 other just in one click for free"},tutorialS1Title:{message:"Good news!"},tutorialS1Main:{message:"['SaveFrom.net Helper ',{img: {src: '#logo'}},' has been successfully installed and now you can download any video from YouTube in one click']"},tutorialS1Arrow:{message:"['Want to know how?',{br:{}},'Click here']"},tutorialS2Main:{message:'To download a video choose a format and click the "Download" button'},tutorialS3History:{message:"History"},tutorialS3Main:{message:"['Do you want to download a video from History?',{br:{}},'Just click ', {img: {src: '#arrow'}},' on the preview of the previously watched video']"},tutorialS4Main:{message:"['No need to watch a video — just click on ', {img: {src: '#arrow'}},', choose the quality, and download. Quite easy, isn’t it?']"},tutorialS5Title:{message:"Enjoy SaveFrom.net Helper!"},tutorialS5Main:{message:"['Still have questions? Want to share your ideas? Welcome to ',{a: {text: 'our support page', href: '#support'}},' or join us on ', {a: {text: 'Facebook', href: '#fb'}}]"},tutorialTooltipText:{message:"['Just click the button to ',{b: {text: 'download'}}]"},ummyTooltipConfirm:{message:"['Have you already installed',{br:{}},{img:{}},' Ummy Video Downloader earlier?']"},yes:{message:"Yes"},no:{message:"No"},tooltipHide:{message:"Do not show this message again"}},es:{extName:{message:"SaveFrom.net helper"},extDescription:{message:"Descargas desde YouTube, Facebook, VK.com y 40+ sitios en un sólo clic."},extNameLite:{message:"SaveFrom.net helper lite"},extDescriptionLite:{message:"Descargas desde Facebook, VK.com y 40+ sitios en un sólo clic."},lang:{message:"es"},titleDefault:{message:"SaveFrom.net helper"},titleDesabled:{message:"SaveFrom.net helper deshabilitado"},menuEnable:{message:"Habilitar"},menuDisable:{message:"Deshabilitar"},showButton:{message:"Mostrar botón de extensión"},copy:{message:"Copiar"},download:{message:"Descargar"},downloadTitle:{message:"Haga clic en el enlace mientras presiona la tecla Alt/Opción o Ctrl para descargar el archivo."},noLinksFound:{message:"No se han encontrado enlaces"},more:{message:"Más"},close:{message:"Cerrar"},kbps:{message:"kbps"},withoutAudio:{message:"sin audio"},size:{message:"tamaño"},subtitles:{message:"Subtítulos"},playlist:{message:"Lista de reproducción"},filelist:{message:"Lista de archivos"},downloadWholePlaylist:{message:"Descargar toda la lista de reproducción"},getFileSizeTitle:{message:"Obtener tamaño de archivo"},getFileSizeFailTitle:{message:"No se pudo obtener el tamaño del archivo. Por favor, inténtelo de nuevo."},lmButtonTitle:{message:"Obtener un enlace directo"},downloadFromCurrentPage:{message:"Ir a SaveFrom.net"},updateLinks:{message:"Actualizar enlaces"},updateLinksNotification:{message:"Enlaces actualizados"},downloadMP3Files:{message:"Descargar archivos de audio"},downloadPlaylist:{message:"Descargar una lista de reproducción"},downloadPhotos:{message:"Descargar imágenes"},installFullVersion:{message:"Instalar la versión completa"},disable:{message:"Deshabilitar"},showOptions:{message:"Ajustes"},reportBug:{message:"Informar sobre un problema"},openPoll:{message:"Mejorar"},disableModule:{message:"Desactivar en este sitio web"},enableModule:{message:"Activar en este sitio web"},enableDisableModule:{message:"Activ./Desactiv. en esta web"},showHideButton:{message:"Mostrar/ocultar botón extens"},updateTo:{message:"Actualizar a la %d"},aboutPage:{message:"Acerca de"},aboutTitle:{message:"SaveFrom.net Helper"},aboutVersion:{message:"Versión"},aboutDescription:{message:"Ayuda a los usuarios a obtener enlaces directos para descargar desde más de 40 sitios web, incluidos Dailymotion.com, YouTube.com, VK.com y otros."},aboutDescriptionLite:{message:"Ayuda a los usuarios a obtener enlaces directos para descargar desde más de 40 sitios web, incluidos Dailymotion.com, VK.com y otros."},aboutSupported:{message:"Recursos admitidos"},homePage:{message:"Página de inicio"},optionsTitle:{message:"SaveFrom.net Helper - Preferencias"},optionsHandleLinks:{message:"Manejar enlaces"},optionsMediaHostings:{message:"A servidores multimedia"},optionsModules:{message:"Módulos"},optionsYoutube:{message:"YouTube"},optionsYTHideLinks:{message:"Ocultar enlaces"},optionsDailymotion:{message:"Dailymotion"},optionsVimeo:{message:"Vimeo"},optionsFacebook:{message:"Facebook"},optionsSoundcloud:{message:"SoundCloud"},optionsVkontakte:{message:"VK"},optionsOdnoklassniki:{message:"Odnoklassniki"},optionsMailru:{message:"Moy Mir"},optionsInstagram:{message:"Instagram"},optionsRutube:{message:"Rutube"},optionsBitrate:{message:"Mostrar velocidad de bits instantáneamente"},optionsSovetnikEnabled:{message:"Consejero"},optionsShowUmmyInfo:{message:"Muestra consejos para Ummy Video Downloader"},optionsGmNativeDownload:{message:"Móudlo de descarga avanzada"},optionsShowUmmyBtn:{message:"Mostrar el botón Ummy"},optionsAviaBarEnabled:{message:"Cheap Flights Advisor"},optionsSaveAsDialog:{message:"Preguntarme siempre dónde guardar los archivos"},menuDownloadFromCurrentPage:{message:"Descargar archivos de la página actual usando SaveFrom.net"},menuUpdateLinks:{message:"Pulse si no aparece el botón Descargar"},menuDownloadMP3Files:{message:"Descargar todos los archivos de audio de la página actual"},menuDownloadPlaylist:{message:"Genera y descarga la lista de reproducción que consiste en enlaces a archivos de audio"},menuDownloadPhotos:{message:"Descargar todas las imágenes encontradas en la página actual"},menuReportBug:{message:"Háganos saber si tiene algún problema"},menuShowOptions:{message:"ACTIVAR/DESACTIVAR recursos admitidos y opciones del Helper"},menuEnableExtension:{message:""},menuOpenPoll:{message:"Trabajamos duro para mejorar. ¡Échenos una mano!"},quality:{message:"Calidad"},qualityNote:{message:"Si no se elige ninguna calidad, se descargará el mejor vídeo disponible."},filelistTitle:{message:"La lista de los archivos encontrados"},filelistInstruction:{message:"['Para descargar todos los archivos, copie la lista de enlaces y péguela en el ',{a:{href:'http://en.wikipedia.org/wiki/Download_manager',text:'gestor de descargas'}},'. Si no tiene instalado un gestor de descargas, le recomendamos que instale ',{a:{href:'http://www.freedownloadmanager.org/',text:'Free Download Manager'}},'.']"},playlistTitle:{message:"Lista de reproducción"},playlistInstruction:{message:"Para reproducir la lista de reproducción guardada, puede abrirla ahora en el reproductor de música."},ummySfTitle:{message:"HD o MP3"},ummyMenuItem:{message:"[{span:{}},' via Ummy']"},ummyMenuInfo:{message:"[{p:{text:'Instale Ummy Video Downloader y descargue sus vídeos favoritos en HD o MP3.'}},{p:{class:'center',append:[{a:{class:'green-btn-2 arrow',href:'{url}',target:'_blank',text:'Descargar'}}]}},{p:{append:['Después de la instalación, se iniciará una descarga automáticamente siempre que haga clic en ',{img:{src:'#'}}]}}]"},warningPopupTitle:{message:"Compruebe la configuración de su navegador"},warningPopupDesc:{message:'La opción "Preguntarme siempre dónde guardar los archivos" debe estar desactivada.'},readMore:{message:"Más"},noWarning:{message:"No notificar"},cancel:{message:"Cancelar"},continue:{message:"Continuar"},beforeDownloadPopupWarn:{message:"¡Advertencia! La descarga no se puede cancelar o suspender."},vkInfo:{message:"Información"},vkInfoTitle:{message:"Tamaño de archivo y velocidad de bits"},vkMp3LinksNotFound:{message:"No se han encontrado enlaces a archivos MP3"},vkPhotoLinksNotFound:{message:"No se han encontrado imágenes"},vkDownloadPhotoAlbum:{message:"Descargar álbum"},vkDownloadAllPhotoAlbums:{message:"Descargar todos los álbums"},vkFoundPhotos:{message:"Imágenes encontradas"},vkNotAvailablePhotos:{message:"%d imágenes están temporalmente no disponibles"},vkFoundLinks:{message:"Enlaces encontrados"},vkFoundOf:{message:"de"},vkShowAs:{message:"Mostrar como"},vkListOfLinks:{message:"Lista de enlaces"},vkListOfLinksInstruction:{message:"['Para descargar todas las imágenes, copie la lista de enlaces y péguela en el ',{a:{href:'http://en.wikipedia.org/wiki/Download_manager',text:'gestor de descargas'}},'. Si no tiene instalado un gestor de descargas, le recomendamos que instale ',{a:{href:'http://www.freedownloadmanager.org/',text:'Free Download Manager'}},'.']"},vkTableOfThumbnails:{message:"Tabla de miniaturas"},vkListOfPhotos:{message:"Lista de imágenes"},vkListOfPhotosInstruction:{message:"Haga clic en la imagen para descargarla."},vkKbps:{message:"kbps"},vkFileSizeByte:{message:"B"},vkFileSizeKByte:{message:"kB"},vkFileSizeMByte:{message:"MB"},vkFileSizeGByte:{message:"GB"},vkFileSizeTByte:{message:"TB"},vkDownloadFromYoutube:{message:"['Descargar: abra ',{a:{href:'{url}',text:'la página del vídeo'}},' y pulse el botón \"Descargar\" sobre el reproductor']"},vkFoundFiles:{message:"Archivos encontrados: %d"},shareIn:{message:"Compartir en %w"},socialDesc:{message:"SaveFrom.net helper le permite descargar archivos desde YouTube.com, Facebook.com, VK.com y más de 40 sitios distintos con tan sólo un clic y gratis"},tutorialS1Title:{message:"¡Excelentes noticias!"},tutorialS1Main:{message:"['SaveFrom.net Helper ',{img: {src: '#logo'}}, ' se instaló con éxito y ahora puedes descargar cualquier video de YouTube con un solo clic']"},tutorialS1Arrow:{message:"['¿Quieres saber cómo?', {br:{}}, 'Haz clic aquí']"},tutorialS2Main:{message:'Para descargar un video, elige el formato y haz clic en el botón "Descargar"'},tutorialS3History:{message:"Historial"},tutorialS3Main:{message:"['¿Deseas descargar un video del Historial?', {br:{}}, 'Simplemente haz clic en ', {img: {src: '#arrow'}}, ' en la vista previa del video visto anteriormente.']"},tutorialS4Main:{message:"['No es necesario mirar un video: simplemente haz clic en ', {img: {src: '#arrow'}}, ', elige la calidad y descárgalo. Fácil, ¿verdad?']"},tutorialS5Title:{message:"¡Disfruta de SaveForm.net Helper!"},tutorialS5Main:{message:"['¿Todavía tienes preguntas? ¿Quieres compartir tus ideas? Puedes ir a nuestra ',{a: {text: 'página de soporte', href: '#support'}},' o unirte a nosotros en ', {a: {text: 'Facebook', href: '#fb'}}]"},tutorialTooltipText:{message:"['Simplemente haz clic en el botón para ',{b: {text: 'descargar'}}]"},ummyTooltipConfirm:{message:"['¿Ya has instalado',{br:{}},{img:{}},' Ummy Video Downloader antes?']"},yes:{message:"Sí"},no:{message:"No"},tooltipHide:{message:"No mostrar de nuevo este mensaje"}},fr:{extName:{message:"SaveFrom.net Helper"},extDescription:{message:"Téléchargez YouTube, Facebook, VK.com et 40+ sites en un seul clic."},extNameLite:{message:"SaveFrom.net Helper lite"},extDescriptionLite:{message:"Téléchargez Facebook, VK.com et 40+ sites en un seul clic."},lang:{message:"fr"},titleDefault:{message:"SaveFrom.net Helper"},titleDesabled:{message:"Assistant SaveFrom.net désactivé"},menuEnable:{message:"Activer"},menuDisable:{message:"Désactiver"},showButton:{message:"Afficher le bouton d'extension"},copy:{message:"Copier"},download:{message:"Télécharger"},downloadTitle:{message:"Cliquer sur le lien tout en maintenant la touche Alt/Option ou Ctrl pour télécharger le fichier."},noLinksFound:{message:"Aucun lien n'a été trouvé"},more:{message:"Plus"},close:{message:"Fermer"},kbps:{message:"kbps"},withoutAudio:{message:"sans audio"},size:{message:"taille"},subtitles:{message:"Sous-titres"},playlist:{message:"Playlist"},filelist:{message:"Liste de fichiers"},downloadWholePlaylist:{message:"Télécharger toute la playlist"},getFileSizeTitle:{message:"Obtenir la taille du fichier"},getFileSizeFailTitle:{message:"Impossible d'obtenir la taille du fichier. Veuillez réessayer."},lmButtonTitle:{message:"Obtenir un lien direct"},downloadFromCurrentPage:{message:"Aller à SaveFrom.net"},updateLinks:{message:"Rafraîchir les liens"},updateLinksNotification:{message:"Liens mis à jour"},downloadMP3Files:{message:"Télécharger les fichiers audio"},downloadPlaylist:{message:"Télécharger une playlist"},downloadPhotos:{message:"Télécharger les images"},installFullVersion:{message:"Installer la version complète"},disable:{message:"Désactiver"},showOptions:{message:"Paramètres"},reportBug:{message:"Signaler un bug"},openPoll:{message:"Améliorer"},disableModule:{message:"Désactiver sur ce site"},enableModule:{message:"Activer sur ce site"},enableDisableModule:{message:"Activer On/Off sur ce site web"},showHideButton:{message:"Afficher/masquer le bouton d'extension"},updateTo:{message:"Passer à la version %d"},aboutPage:{message:"À propos"},aboutTitle:{message:"SaveFrom.net Helper"},aboutVersion:{message:"Version"},aboutDescription:{message:"Aide les utilisateurs à obtenir des liens directs pour télécharger depuis plus de 40 sites web, y compris Dailymotion.com, YouTube.com, VK.com et d'autres."},aboutDescriptionLite:{message:"Aide les utilisateurs à obtenir des liens directs pour télécharger depuis plus de 40 sites web, y compris Dailymotion.com, VK.com et d'autres."},aboutSupported:{message:"Ressources prises en charge"},homePage:{message:"Page d'accueil"},optionsTitle:{message:"SaveFrom.net Helper - Préférences"},optionsHandleLinks:{message:"manipuler les liens"},optionsMediaHostings:{message:"Vers l'hébergement de médias"},optionsModules:{message:"Modules"},optionsYoutube:{message:"YouTube"},optionsYTHideLinks:{message:"Masquer les liens"},optionsDailymotion:{message:"Dailymotion"},optionsVimeo:{message:"Vimeo"},optionsFacebook:{message:"Facebook"},optionsSoundcloud:{message:"SoundCloud"},optionsVkontakte:{message:"VK"},optionsOdnoklassniki:{message:"Odnoklassniki"},optionsMailru:{message:"Moy Mir"},optionsInstagram:{message:"Instagram"},optionsRutube:{message:"Rutube"},optionsBitrate:{message:"Afficher instantanément le bitrate"},optionsSovetnikEnabled:{message:"Advisor"},optionsShowUmmyInfo:{message:"Afficher les astuces pour Ummy Video Downloader"},optionsGmNativeDownload:{message:"Mode de téléchargement avancé"},optionsShowUmmyBtn:{message:"Montrer le bouton Ummy"},optionsAviaBarEnabled:{message:"Cheap Flights Advisor"},optionsSaveAsDialog:{message:"Toujours demander où enregistrer les fichiers"},menuDownloadFromCurrentPage:{message:"Téléchargement des fichiers depuis la page actuelle en utilisant SaveFrom.net"},menuUpdateLinks:{message:"Appuyez si le bouton Télécharger n'apparaît pas"},menuDownloadMP3Files:{message:"Télécharger tous les fichiers audio trouvés sur la page actuelle"},menuDownloadPlaylist:{message:"Génère et télécharge la playlist consistant en liens vers les fichiers audio"},menuDownloadPhotos:{message:"Télécharger toutes les images trouvées sur la page actuelle"},menuReportBug:{message:"Prévenez-nous si vous avez des problèmes"},menuShowOptions:{message:"ON/OFF ressources prises en charge et options Helper"},menuEnableExtension:{message:""},menuOpenPoll:{message:"Nous faisons tout pour nous améliorer. N'hésitez pas à nous aider !"},quality:{message:"Qualité"},qualityNote:{message:"La meilleure vidéo disponible sera téléchargée s'il n'y a pas de qualité choisie."},filelistTitle:{message:"La liste des fichiers trouvés"},filelistInstruction:{message:"['Pour télécharger tous les fichiers copiez la liste des liens et collez-la dans ',{a:{href:'http://en.wikipedia.org/wiki/Download_manager',text:'download manager'}},'. Si vous n\\'avez pas installé de gestionnaire de téléchargement, nous vous recommandons d\\'installer ',{a:{href:'http://www.freedownloadmanager.org/',text:'Free Download Manager'}},'.']"},playlistTitle:{message:"Playlist"},playlistInstruction:{message:"Pour lire la playlist sauvegardée, ouvrez-la dans le lecteur musical."},ummySfTitle:{message:"HD ou MP3"},ummyMenuItem:{message:"[{span:{}},' via Ummy']"},ummyMenuInfo:{message:"[{p:{text:'Installez Ummy Video Downloader et téléchargez vos vidéos favorites en HD ou MP3.'}},{p:{class:'center',append:[{a:{class:'green-btn-2 arrow',href:'{url}',target:'_blank',text:'Download'}}]}},{p:{append:['Après l\\'installation, un téléchargement démarrera automatiquement dès que vous cliquez sur ',{img:{src:'#'}}]}}]"},warningPopupTitle:{message:"Vérifier les paramètres du navigateur"},warningPopupDesc:{message:'L\'option "Toujours me demander où sauvegarder les fichiers" doit être désactivée.'},readMore:{message:"Plus"},noWarning:{message:"ne pas notifier'"},cancel:{message:"Annuler"},continue:{message:"Continuer"},beforeDownloadPopupWarn:{message:"Attention! Le téléchargement ne peut pas être annulé ou suspendu."},vkInfo:{message:"Info"},vkInfoTitle:{message:"Taille de fichier et bitrate"},vkMp3LinksNotFound:{message:"Les liens vers les fichiers MP3 sont introuvables"},vkPhotoLinksNotFound:{message:"Photos introuvables"},vkDownloadPhotoAlbum:{message:"Télécharger l'album"},vkDownloadAllPhotoAlbums:{message:"Télécharger tous les albums"},vkFoundPhotos:{message:"Photos trouvées"},vkNotAvailablePhotos:{message:"%d photos sont temporairement indisponibles"},vkFoundLinks:{message:"Liens trouvés"},vkFoundOf:{message:"de"},vkShowAs:{message:"Afficher comme"},vkListOfLinks:{message:"Liste des liens"},vkListOfLinksInstruction:{message:"['Pour télécharger toutes les photos copiez la liste des liens et collez-la dans ',{a:{href:'http://en.wikipedia.org/wiki/Download_manager',text:'download manager'}},'. Si vous n\\'avez pas installé de gestionnaire de téléchargement nous vous recommandons d\\'installer ',{a:{href:'http://www.freedownloadmanager.org/',text:'Free Download Manager'}},'.']"},vkTableOfThumbnails:{message:"Tableau des vignettes"},vkListOfPhotos:{message:"Liste des photos"},vkListOfPhotosInstruction:{message:"Cliquez sur la photo pour la télécharger."},vkKbps:{message:"kbps"},vkFileSizeByte:{message:"O"},vkFileSizeKByte:{message:"ko"},vkFileSizeMByte:{message:"Mo"},vkFileSizeGByte:{message:"Go"},vkFileSizeTByte:{message:"To"},vkDownloadFromYoutube:{message:"['Download: open ',{a:{href:'{url}',text:'the video page'}},' et appuyez sur le bouton \"Télécharger\" au-dessus du lecteur']"},vkFoundFiles:{message:"Fichiers trouvés : %d"},shareIn:{message:"Partager sur %w"},socialDesc:{message:"SaveFrom.net helper vous permet de télécharger des fichiers de YouTube.com, Facebook.com, VK.com et plus de 40 autres gratuitement et en un seul clic"},tutorialS1Title:{message:"Bonnes nouvelles !"},tutorialS1Main:{message:"['SaveFrom.net Helper ',{img: {src: '#logo'}}, ' a été installé avec succès et maintenant vous pouvez télécharger les vidéos de YouTube en un clic']"},tutorialS1Arrow:{message:"['Vous voulez savoir comment ? Cliquez ici']"},tutorialS2Main:{message:'Pour télécharger une vidéo, choisissez un format et cliquez sur le bouton "Télécharger"'},tutorialS3History:{message:"Historique"},tutorialS3Main:{message:"['Voulez-vous télécharger une vidéo depuis l’historique ?', {br:{}}, 'Il suffit de cliquer sur ', {img: {src: '#arrow'}}, ' située sur l\\'aperçu de la vidéo précédemment regardée']"},tutorialS4Main:{message:"['Pas besoin de regarder une vidéo — il suffit de cliquer sur ', {img: {src: '#arrow'}}, ', faites le choix de la qualité, et télécharger. Facile, est-ce pas ?']"},tutorialS5Title:{message:"Profitez de SaveFrom.net Helper !"},tutorialS5Main:{message:"['Vous avez encore des questions ? Vous voulez partager vos idées ? Bienvenue sur notre page ',{a: {text: 'de d’Aide', href: '#support'}},' ou rejoignez-nous sur ', {a: {text: 'Facebook', href: '#fb'}}]"},tutorialTooltipText:{message:"['Il suffit de cliquer sur le bouton pour ',{b: {text: 'télécharger'}}]"},ummyTooltipConfirm:{message:"['Avez-vous déjà installé',{br:{}},{img:{}},' Ummy Video Downloader avant ?']"},yes:{message:"Oui"},no:{message:"Non"},tooltipHide:{message:"Ne plus afficher ce message"}},id:{extName:{message:"Bantuan SaveFrom.net"},extDescription:{message:"Unduh YouTube, Facebook, VK.com, dan 40+ situs dengan satu klik."},extNameLite:{message:"Bantuan SaveFrom.net lite"},extDescriptionLite:{message:"Unduh Facebook, VK.com, dan 40+ situs dengan satu klik."},lang:{message:"id"},titleDefault:{message:"Bantuan SaveFrom.net"},titleDesabled:{message:"Bantuan SaveFrom.net nonaktif"},menuEnable:{message:"Aktifkan"},menuDisable:{message:"Nonaktifkan"},showButton:{message:"Tampilkan tombol ekstensi"},copy:{message:"Salin"},download:{message:"Unduh"},downloadTitle:{message:"Klik tautan sambil menahan tombol Alt/Option atau Ctrl untuk mengunduh file."},noLinksFound:{message:"Tautan tidak ditemukan"},more:{message:"Lainnya"},close:{message:"Tutup"},kbps:{message:"kbps"},withoutAudio:{message:"tanpa audio"},size:{message:"ukuran"},subtitles:{message:"Subtitel"},playlist:{message:"Daftar putar"},filelist:{message:"Daftar file"},downloadWholePlaylist:{message:"Unduh seluruh daftar putar"},getFileSizeTitle:{message:"Dapatkan ukuran file"},getFileSizeFailTitle:{message:"Gagal mendapatkan ukuran file. Mohon coba lagi."},lmButtonTitle:{message:"Dapatkan tautan langsung"},downloadFromCurrentPage:{message:"Buka SaveFrom.net"},updateLinks:{message:"Segarkan tautan"},updateLinksNotification:{message:"Tautan diperbarui"},downloadMP3Files:{message:"Unduh file audio"},downloadPlaylist:{message:"Unduh daftar putar"},downloadPhotos:{message:"Unduh gambar"},installFullVersion:{message:"Pasang versi lengkap"},disable:{message:"Nonaktifkan"},showOptions:{message:"Setelan"},reportBug:{message:"Laporkan bug"},openPoll:{message:"Jadikan lebih baik"},disableModule:{message:"Nonaktifkan di situs web ini"},enableModule:{message:"Aktifkan di situs web ini"},enableDisableModule:{message:"Nyalakan/Matikan di situs ini"},showHideButton:{message:"Tampilkan/tutup tbl ekstensi"},updateTo:{message:"Perbarui ke %d"},aboutPage:{message:"Tentang"},aboutTitle:{message:"Bantuan SaveFrom.net"},aboutVersion:{message:"Versi"},aboutDescription:{message:"Membantu pengguna mendapatkan tautan langsung dari 40+ situs web, termasuk Dailymotion.com, YouTube.com, VK.com dan lain-lain."},aboutDescriptionLite:{message:"Membantu pengguna mendapatkan tautan langsung untuk mengunduh dari 40+ situs web, termasuk Dailymotion.com, VK.com dan lain-lain."},aboutSupported:{message:"Sumber daya yang didukung"},homePage:{message:"Laman beranda"},optionsTitle:{message:"Bantuan SaveFrom.net - Preferensi"},optionsHandleLinks:{message:"Tangani tautan"},optionsMediaHostings:{message:"Ke mediahosting"},optionsModules:{message:"Modul"},optionsYoutube:{message:"YouTube"},optionsYTHideLinks:{message:"Sembunyikan tautan"},optionsDailymotion:{message:"Dailymotion"},optionsVimeo:{message:"Vimeo"},optionsFacebook:{message:"Facebook"},optionsSoundcloud:{message:"SoundCloud"},optionsVkontakte:{message:"VK"},optionsOdnoklassniki:{message:"Odnoklassniki"},optionsMailru:{message:"Moy Mir"},optionsInstagram:{message:"Instagram"},optionsRutube:{message:"Rutube"},optionsBitrate:{message:"Langsung tampilkan bitrate"},optionsSovetnikEnabled:{message:"Penasihat"},optionsShowUmmyInfo:{message:"Tampilkan tips untuk Ummy Video Downloader"},optionsGmNativeDownload:{message:"Mode unduh lanjutan"},optionsShowUmmyBtn:{message:"Perlihatkan tombol Ummy"},optionsAviaBarEnabled:{message:"Cheap Flights Advisor"},optionsSaveAsDialog:{message:"Selalu tanyakan lokasi penyimpanan berkas"},menuDownloadFromCurrentPage:{message:"Unduh file dari laman saat ini dengan SaveFrom.net"},menuUpdateLinks:{message:"Tekan jika tombol Unduh tidak muncul"},menuDownloadMP3Files:{message:"Unduh semua file audio yang ada di laman saat ini"},menuDownloadPlaylist:{message:"Buat dan unduh daftar putar berisi tautan ke file audio"},menuDownloadPhotos:{message:"Unduh semua gambar yang ada di laman saat ini"},menuReportBug:{message:"Beri tahu kami jika Anda mengalami masalah"},menuShowOptions:{message:"AKTIFKAN/NONAKTIFKAN sumber daya yang didukung dan opsi Bantuan"},menuEnableExtension:{message:""},menuOpenPoll:{message:"Kami bekerja keras untuk jadi lebih baik. Tolong, bantu kami!"},quality:{message:"Kualitas"},qualityNote:{message:"Video terbaik yang tersedia akan diunduh jika tidak ada kualitas yang dipilih."},filelistTitle:{message:"Daftar file yang ditemukan"},filelistInstruction:{message:"['Untuk mengunduh semua file, salin daftar tautan dan tempelkan ke ',{a:{href:'http://en.wikipedia.org/wiki/Download_manager',text:'pengelola unduhan'}},'. Jika Anda tidak memiliki pengelola unduhan, kami menyarankan ',{a:{href:'http://www.freedownloadmanager.org/',text:'Free Download Manager'}},'.']"},playlistTitle:{message:"Daftar putar"},playlistInstruction:{message:"Untuk memutar daftar putar yang disimpan, sekarang bisa dibuka di pemutar musik."},ummySfTitle:{message:"HD atau MP3"},ummyMenuItem:{message:"[{span:{}},' via Ummy']"},ummyMenuInfo:{message:"[{p:{text:'Pasang Ummy Video Downloader  dan unduh video favorit Anda dalam format HD atau MP3.'}},{p:{class:'center',append:[{a:{class:'green-btn-2 arrow',href:'{url}',target:'_blank',text:'Unduh'}}]}},{p:{append:['Setelah pemasangan, unduhan akan otomatis dimulai setiap kali Anda mengeklik ',{img:{src:'#'}}]}}]"},warningPopupTitle:{message:"Periksa setelan browser"},warningPopupDesc:{message:'Opsi "Selalu tanya saya di mana menyimpan file" harus dinonaktifkan.'},readMore:{message:"Lainnya"},noWarning:{message:"Jangan beri tahu"},cancel:{message:"Batal"},continue:{message:"Lanjutkan"},beforeDownloadPopupWarn:{message:"Perhatian! Pengunduhan tidak dapat dibatalkan atau ditunda."},vkInfo:{message:"Info"},vkInfoTitle:{message:"Ukuran file dan bitrate"},vkMp3LinksNotFound:{message:"Tautan atau file MP3 tidak ditemukan"},vkPhotoLinksNotFound:{message:"Foto tidak ditemukan"},vkDownloadPhotoAlbum:{message:"Unduh album"},vkDownloadAllPhotoAlbums:{message:"Unduh semua album"},vkFoundPhotos:{message:"Foto ditemukan"},vkNotAvailablePhotos:{message:"%d foto sementara ini tidak tersedia"},vkFoundLinks:{message:"Tautan ditemukan"},vkFoundOf:{message:"dari"},vkShowAs:{message:"Tampilkan sebagai"},vkListOfLinks:{message:"Daftar tautan"},vkListOfLinksInstruction:{message:"['Untuk mengunduh semua foto, salin daftar tautan dan tempelkan ke ',{a:{href:'http://en.wikipedia.org/wiki/Download_manager',text:'pengelola unduhan'}},'. Jika Anda tidak memiliki pengelola unduhan, kami menyarankan ',{a:{href:'http://www.freedownloadmanager.org/',text:'Free Download Manager'}},'.']"},vkTableOfThumbnails:{message:"Tabel gambar mini"},vkListOfPhotos:{message:"Daftar foto"},vkListOfPhotosInstruction:{message:"Klik foto untuk mengunduhnya."},vkKbps:{message:"kbps"},vkFileSizeByte:{message:"B"},vkFileSizeKByte:{message:"kB"},vkFileSizeMByte:{message:"MB"},vkFileSizeGByte:{message:"GB"},vkFileSizeTByte:{message:"TB"},vkDownloadFromYoutube:{message:"['Mengunduh: buka ',{a:{href:'{url}',text:'laman video'}},' dan tekan tombol \"Unduh\" di atas pemutar']"},vkFoundFiles:{message:"File ditemukan: %d"},shareIn:{message:"Bagikan di %w"},socialDesc:{message:"Dengan bantuan SaveFrom.net, Anda dapat mengunduh file dari YouTube.com, Facebook.com, VK.com, dan lebih dari 40 lainnya hanya dengan satu klik gratis"},tutorialS1Title:{message:"Berita bagus!"},tutorialS1Main:{message:"['SaveFrom.net Helper ',{img: {src: '#logo'}},' telah berhasil diinstal dan kini Anda dapat mengunduh video apa pun dari YouTube dengan satu klik']"},tutorialS1Arrow:{message:"['Anda ingin tahu caranya?', {br:{}}, 'Klik di sini']"},tutorialS2Main:{message:'Untuk mengunduh video, pilih suatu format dan klik tombol "Unduh"'},tutorialS3History:{message:"Riwayat"},tutorialS3Main:{message:"['Apakah Anda ingin mengunduh video dari Riwayat?', {br:{}}, 'Cukup klik ', {img: {src: '#arrow'}}, ' pada pratinjau video yang telah ditonton sebelumnya']"},tutorialS4Main:{message:"['Tidak perlu menonton video — cukup klik pada ', {img: {src: '#arrow'}}, ', pilih mutunya, dan unduh. Cukup mudah, ya?']"},tutorialS5Title:{message:"Nikmati SaveFrom.net Helper!"},tutorialS5Main:{message:"['Masih punya pertanyaan? Ingin berbagi ide? Selamat datang di ', {a: {text: 'halaman dukungan', href: '#support'}},' kami atau bergabunglah dengan kami di ', {a: {text: 'Facebook', href: '#fb'}}]"},tutorialTooltipText:{message:"['Cukup klik tombol untuk ',{b: {text: 'mengunduh'}}]"},ummyTooltipConfirm:{message:"['Apakah Anda sudah menginstal',{br:{}},{img:{}},' Ummy Video Downloader sebelumnya?']"},yes:{message:"Ya"},no:{message:"Tidak"},tooltipHide:{message:"Jangan perlihatkan pesan ini lagi"}},ru:{extName:{message:"SaveFrom.net помощник"},extDescription:{message:"Скачивайте с Вконтакте, YouTube, Одноклассники и еще 40 сайтов за 1 клик."},extNameLite:{message:"SaveFrom.net помощник lite"},extDescriptionLite:{message:"Скачивайте с Вконтакте, Одноклассники и еще 40 сайтов за 1 клик."},lang:{message:"ru"},titleDefault:{message:"SaveFrom.net помощник"},titleDesabled:{message:"SaveFrom.net помощник выключен"},menuEnable:{message:"Включить"},menuDisable:{message:"Выключить"},showButton:{message:"Показывать кнопку расширения"},copy:{message:"Копировать"},download:{message:"Скачать"},downloadTitle:{message:"Нажмите на ссылку, удерживая клавишу Alt или Ctrl, чтобы сохранить файл."},noLinksFound:{message:"Не удалось найти ссылки"},more:{message:"Ещё"},close:{message:"Закрыть"},kbps:{message:"кб/с"},withoutAudio:{message:"без аудио"},size:{message:"размер"},subtitles:{message:"Субтитры"},playlist:{message:"Плейлист"},filelist:{message:"Список файлов"},downloadWholePlaylist:{message:"Скачать весь плейлист"},getFileSizeTitle:{message:"Определить размер файла"},getFileSizeFailTitle:{message:"Не удалось определить размер файла. Попробуйте повторить попытку."},lmButtonTitle:{message:"Получи прямую ссылку"},downloadFromCurrentPage:{message:"Перейти на SaveFrom.net"},updateLinks:{message:"Обновить ссылки"},updateLinksNotification:{message:"Ссылки обновлены"},downloadMP3Files:{message:"Скачать аудио файлы"},downloadPlaylist:{message:"Скачать плейлист"},downloadPhotos:{message:"Скачать фотографии"},installFullVersion:{message:"Установить полную версию"},disable:{message:"Выключить"},showOptions:{message:"Настройки"},reportBug:{message:"Сообщить об ошибке"},openPoll:{message:"Стать лучше"},disableModule:{message:"Отключить на этом сайте"},enableModule:{message:"Включить на этом сайте"},enableDisableModule:{message:"Вкл/Выкл на этом сайте"},showHideButton:{message:"Показ./скр. кнопку расширения"},updateTo:{message:"Обновить до %d"},aboutPage:{message:"О расширении"},aboutTitle:{message:"SaveFrom.net помощник"},aboutVersion:{message:"Версия"},aboutDescription:{message:"Позволяет получать прямые ссылки для скачивания с более чем 40 сайтов, среди которых  VK.com, YouTube.com и другие."},aboutDescriptionLite:{message:"Позволяет получать прямые ссылки для скачивания с более чем 40 сайтов, среди которых  VK.com, Vimeo и другие."},aboutSupported:{message:"Поддерживаемые ресурсы"},homePage:{message:"Домашняя страница"},optionsTitle:{message:"SaveFrom.net помощник - Настройки"},optionsHandleLinks:{message:"Обрабатывать ссылки"},optionsMediaHostings:{message:"На медиахостинги"},optionsModules:{message:"Модули"},optionsYoutube:{message:"YouTube"},optionsYTHideLinks:{message:"Скрывать ссылки"},optionsDailymotion:{message:"Dailymotion"},optionsVimeo:{message:"Vimeo"},optionsFacebook:{message:"Facebook"},optionsSoundcloud:{message:"SoundCloud"},optionsVkontakte:{message:"Вконтакте"},optionsOdnoklassniki:{message:"Одноклассники"},optionsMailru:{message:"Мой мир"},optionsInstagram:{message:"Instagram"},optionsRutube:{message:"Rutube"},optionsBitrate:{message:"Показывать битрейт сразу"},optionsSovetnikEnabled:{message:"Советник"},optionsShowUmmyInfo:{message:"Показывать подсказки для Ummy Video Downloader"},optionsGmNativeDownload:{message:"Расширенный режим закачки"},optionsShowUmmyBtn:{message:"Отображать кнопку Ummy"},optionsAviaBarEnabled:{message:"Советник Дешевых Авиабилетов"},optionsSaveAsDialog:{message:"Всегда выдавать запрос на сохранение файлов"},menuDownloadFromCurrentPage:{message:"Скачать файлы с текущей страницы с помощью сервиса SaveFrom.net"},menuUpdateLinks:{message:"Нажмите, если ссылка для скачивания не появляется"},menuDownloadMP3Files:{message:"Скачать все найденные на странице аудиофайлы"},menuDownloadPlaylist:{message:"Формирует и скачивает плейлист с ссылками на аудиофайлы"},menuDownloadPhotos:{message:"Скачать все найденные на странице фотографии"},menuReportBug:{message:"Дайте нам знать, если возникли проблемы"},menuShowOptions:{message:"Вкл./откл. поддерживаемые ресурсы и возможности помощника"},menuEnableExtension:{message:""},menuOpenPoll:{message:'Пожалуйста, оцените качество расширения "SaveFrom.net помощник"'},quality:{message:"Качество"},qualityNote:{message:"Если видео в нужном качестве нет, скачается лучшее из возможного."},filelistTitle:{message:"Список найденных файлов"},filelistInstruction:{message:"['Чтобы скачать все файлы, скопируйте список ссылок и вставьте его в ',{a:{href:'http://ru.wikipedia.org/wiki/Менеджер_загрузок',text:'менеджер закачек'}},'. Если у вас не установлен менеджер закачек, рекомендуем установить ',{a:{href:'http://www.westbyte.com/dm/',text:'Download Master'}},'.']"},playlistTitle:{message:"Плейлист"},playlistInstruction:{message:"Сохраненный плейлист можно открыть в плеере для  воспроизведения."},ummySfTitle:{message:"HD или MP3"},ummyMenuItem:{message:"[{span:{}},' с помощью Ummy']"},ummyMenuInfo:{message:"[{p:{append:['Скачивайте HD и MP3 с помощью бесплатной программы', {br:{}}, 'Ummy Video Downloader!']}},{p:{class:'center',append:[{a:{class:'green-btn-2 arrow',href:'{url}',target:'_blank',text:'Установить'}}]}},{p:{append:['После установки скачивание будет начинаться автоматически', {br:{}}, 'при клике на ',{img:{src:'#'}}]}}]"},warningPopupTitle:{message:"Проверьте настройки браузера"},warningPopupDesc:{message:"Выбор папки при скачивании должен быть отключен."},readMore:{message:"Подробнее..."},noWarning:{message:"Не предупреждать"},cancel:{message:"Отмена"},continue:{message:"Продолжить"},beforeDownloadPopupWarn:{message:"Внимание: отменить или приостановить закачку будет невозможно."},vkInfo:{message:"Параметры"},vkInfoTitle:{message:"Размер файла и битрейт"},vkMp3LinksNotFound:{message:"Не найдены ссылки на MP3 файлы"},vkPhotoLinksNotFound:{message:"Не найдены ссылки на фотографии"},vkDownloadPhotoAlbum:{message:"Скачать альбом"},vkDownloadAllPhotoAlbums:{message:"Скачать все альбомы"},vkFoundPhotos:{message:"Найдено фотографий"},vkNotAvailablePhotos:{message:"%d фото временно не доступно"},vkFoundLinks:{message:"Найдено ссылок"},vkFoundOf:{message:"из"},vkShowAs:{message:"Показать как"},vkListOfLinks:{message:"Список ссылок"},vkListOfLinksInstruction:{message:"['Чтобы скачать все фотографии, скопируйте список ссылок и вставьте его в ',{a:{href:'http://ru.wikipedia.org/wiki/Менеджер_загрузок',text:'менеджер закачек'}},'. Если у вас не установлен менеджер закачек, рекомендуем установить ',{a:{href:'http://www.westbyte.com/dm/',text:'Download Master'}},'.']"},vkTableOfThumbnails:{message:"Таблицу эскизов"},vkListOfPhotos:{message:"Список фотографий"},vkListOfPhotosInstruction:{message:"Чтобы скачать фотографию, щелкните на ней левой кнопкой мыши."},vkKbps:{message:"кб/с"},vkFileSizeByte:{message:"Б"},vkFileSizeKByte:{message:"кБ"},vkFileSizeMByte:{message:"МБ"},vkFileSizeGByte:{message:"ГБ"},vkFileSizeTByte:{message:"ТБ"},vkDownloadFromYoutube:{message:"['Скачать: откройте ',{a:{href:'{url}',text:'страницу видео ролика'}},' и нажмите кнопку \"Скачать\" над плеером']"},vkFoundFiles:{message:"Найдено файлов: %d"},shareIn:{message:"Поделиться в %w"},socialDesc:{message:"SaveFrom.net помощник помогает бесплатно скачивать с VK.com, YouTube.com, Odnoklassniki.ru и более 40 других сайтов в 1 клик"},tutorialS1Title:{message:"Хорошие новости!"},tutorialS1Main:{message:"['У тебя установлен SaveFrom.net помощник ',{img: {src: '#logo'}},', и теперь ты можешь скачать любое видео с YouTube в один клик']"},tutorialS1Arrow:{message:"['Хочешь узнать как?',{br:{}},'Нажми здесь']"},tutorialS2Main:{message:'Чтобы скачать видео, выбери формат и нажми кнопку "Скачать"'},tutorialS3History:{message:"Просмотренные"},tutorialS3Main:{message:"['Хочешь скачать уже просмотренное видео?',{br:{}},'Нажимай на ', {img: {src: '#arrow'}},' на превью в Просмотренных видео']"},tutorialS4Main:{message:"['Видео не обязательно просматривать —',{br:{}},'нажимай на ', {img: {src: '#arrow'}},', выбирай формат и скачивай. Это удобно!']"},tutorialS5Title:{message:"Приятной работы!"},tutorialS5Main:{message:"['Остались вопросы? Есть предложения? Загляните на ', {a: {text: 'страницу поддержки', href: '#support'}},' или вступайте в наше ', {a: {text: 'ВК-собщество', href: '#vk'}}]"},tutorialTooltipText:{message:"['Чтобы ',{b: {text: 'скачать'}},', просто кликните по кнопке']"},ummyTooltipConfirm:{message:"['Вы уже установили',{br:{}},{img:{}},' Ummy Video Downloader?']"},yes:{message:"Да"},no:{message:"Нет"},tooltipHide:{message:"Больше не показывать это сообщение"}},tr:{extName:{message:"SaveFrom.net asistan"},extDescription:{message:"Sadece bir tıklama ile YouTube, Facebook, VK.com ve 40'dan fazla siteden dosya indirin."},extNameLite:{message:"SaveFrom.net asistan lite"},extDescriptionLite:{message:"Sadece bir tıklama ile Facebook, VK.com ve 40'dan fazla siteden dosya indirin"},lang:{message:"tr"},titleDefault:{message:"SaveFrom.net asistan"},titleDesabled:{message:"SaveFrom.net asistan devre dışı"},menuEnable:{message:"Etkin"},menuDisable:{message:"Devre dışı"},showButton:{message:"Eklenti düğmesini göster"},copy:{message:"Kopyala"},download:{message:"İndir"},downloadTitle:{message:"Dosyayı indirmek için Alt/Option veya Ctrl tuşuna basılı tutarak bağlantıyı tıklayın."},noLinksFound:{message:"Hiçbir bağlantı bulunamadı"},more:{message:"Daha fazla"},close:{message:"Kapat"},kbps:{message:"kbps"},withoutAudio:{message:"without audio"},size:{message:"boyut"},subtitles:{message:"Alt yazı"},playlist:{message:"Çalma listesi"},filelist:{message:"Dosya listesi"},downloadWholePlaylist:{message:"Tüm çalma listesini indir"},getFileSizeTitle:{message:"Dosya boyutunu al"},getFileSizeFailTitle:{message:"Dosya boyutu alınamadı. Lütfen tekrar deneyiniz."},lmButtonTitle:{message:"Doğrudan bağlantı al"},downloadFromCurrentPage:{message:"SaveFrom.net'e git"},updateLinks:{message:"Bağlantıları yenile"},updateLinksNotification:{message:"Bağlantılar güncellendi"},downloadMP3Files:{message:"Ses dosyalarını indir"},downloadPlaylist:{message:"Çalma listesini indir"},downloadPhotos:{message:"Resimleri indir"},installFullVersion:{message:"Tam versiyonu kur"},disable:{message:"Devre dışı"},showOptions:{message:"Ayarlar"},reportBug:{message:"Hata bildir"},openPoll:{message:"Become better"},disableModule:{message:"Bu web sitesinde devre dışı bırak"},enableModule:{message:"Bu web sitesinde etkinleştir"},enableDisableModule:{message:"Bu sitede etkin/devre dışı"},showHideButton:{message:"Eklenti butonunu göster/gizle"},updateTo:{message:"%d sürümüne güncelle"},aboutPage:{message:"Hakkında"},aboutTitle:{message:"SaveFrom.net Asistan"},aboutVersion:{message:"Versiyon"},aboutDescription:{message:"Kullanıcıların, Dailymotion.com, YouTube.com, VK.com ve diğerleri de dahil olmak üzere 40'dan fazla web sitesinden dosya indirmek için doğrudan bağlantılar almalarını sağlar."},aboutDescriptionLite:{message:"Kullanıcıların, Dailymotion.com, VK.com ve diğerleri de dahil olmak üzere 40'dan fazla web sitesinden dosya indirmek için doğrudan bağlantılar almalarını sağlar."},aboutSupported:{message:"Desteklenen kaynaklar"},homePage:{message:"Ana Sayfa"},optionsTitle:{message:"SaveFrom.net Asistan - Tercihler"},optionsHandleLinks:{message:"Linkleri taşı"},optionsMediaHostings:{message:"Medya paylaşıma"},optionsModules:{message:"Modüller"},optionsYoutube:{message:"YouTube"},optionsYTHideLinks:{message:"Bağlantıları gizle"},optionsDailymotion:{message:"Dailymotion"},optionsVimeo:{message:"Vimeo"},optionsFacebook:{message:"Facebook"},optionsSoundcloud:{message:"SoundCloud"},optionsVkontakte:{message:"VK"},optionsOdnoklassniki:{message:"Odnoklassniki"},optionsMailru:{message:"Moy Mir"},optionsInstagram:{message:"Instagram"},optionsRutube:{message:"Rutube"},optionsBitrate:{message:"Bit hızını anlık olarak göster"},optionsSovetnikEnabled:{message:"Advisor"},optionsShowUmmyInfo:{message:"UVD için ipuçlarını göster"},optionsGmNativeDownload:{message:"Gelişmiş indirme modu"},optionsShowUmmyBtn:{message:"Ummy düğmesini göster"},optionsAviaBarEnabled:{message:"Cheap Flights Advisor"},optionsSaveAsDialog:{message:"Dosyaların nereye kaydedileceğini her seferinde sor"},menuDownloadFromCurrentPage:{message:"SaveFrom.net'i kullanarak geçerli sayfadan dosya indirin"},menuUpdateLinks:{message:"Download düğmesi görünmüyorsa tıklayın"},menuDownloadMP3Files:{message:"Geçerli sayfada bulunan tüm ses dosyalarını indirin"},menuDownloadPlaylist:{message:"Ses dosyalarından oluşan bir çalma listesi oluşturur ve indirir"},menuDownloadPhotos:{message:"Geçerli sayfada bulunan tüm resimleri indirin"},menuReportBug:{message:"Herhangi bir sorun olması durumunda bize bildirin"},menuShowOptions:{message:"Desteklenen kaynakları ve Helper seçeneklerini AÇ/KAPAT"},menuEnableExtension:{message:""},menuOpenPoll:{message:""},quality:{message:"Kalite"},qualityNote:{message:"Herhangi bir seçilebilir kalitenin olmaması durumunda mevcut olan en iyi video indirilecektir."},filelistTitle:{message:"Bulunan dosyalarını listesi"},filelistInstruction:{message:"['Tüm dosyalarını indirmek için bağlantı listesini kopyalayın ve ',{a:{href:'http://en.wikipedia.org/wiki/Download_manager',text:'indirme yöneticisine'}},' yapıştırın. Kurulu bir indirme yöneticiniz yoksa ',{a:{href:'http://www.freedownloadmanager.org/',text:'Free Download Manager'}},' yüklemenizi tavsiye ederiz.']"},playlistTitle:{message:"Çalma Listesi"},playlistInstruction:{message:"Artık kaydedilen çalma listenizi yürütmek için müzik çalarınızda açabilirsiniz."},ummySfTitle:{message:"HD veya MP3"},ummyMenuItem:{message:"['Ummy ile ',{span:{}}]"},ummyMenuInfo:{message:"[{p:{text:'Ummy Video İndirici\\'yi yükleyin ve en sevdiğiniz HD videoları ya da MP3\\'leri hemen indirin.'}},{p:{class:'center',append:[{a:{class:'green-btn-2 arrow',href:'{url}',target:'_blank',text:'İndir'}}]}},{p:{append:['Kurulumdan sonra ',{img:{src:'#'}},' simgesine tıklayarak dosya indirme işlemini otomatik olarak başlatabilirsiniz.']}}]"},warningPopupTitle:{message:"Tarayıcı ayarlarını kontrol edin"},warningPopupDesc:{message:'"Dosyaların nereye kaydedileceğini her seferinde sor" seçeneği kapalı olmalıdır.'},readMore:{message:"Daha fazla"},noWarning:{message:"Bildirme"},cancel:{message:"İptal"},continue:{message:"Devam"},beforeDownloadPopupWarn:{message:"Uyarı! İndirme işlemi iptal edilemez ya da ertelenemez."},vkInfo:{message:"Bilgi"},vkInfoTitle:{message:"Dosya boyutu ve bit hızı"},vkMp3LinksNotFound:{message:"MP3 dosyaları için bağlantılar bulunamıyor"},vkPhotoLinksNotFound:{message:"Fotoğraflar bulunamadı"},vkDownloadPhotoAlbum:{message:"Albümü indir"},vkDownloadAllPhotoAlbums:{message:"Tüm albümleri indir"},vkFoundPhotos:{message:"Bulunan fotoğraflar"},vkNotAvailablePhotos:{message:"%d resim geçici olarak kullanılamıyor"},vkFoundLinks:{message:"Bulunan bağlantılar"},vkFoundOf:{message:"den"},vkShowAs:{message:"Olarak göster"},vkListOfLinks:{message:"Bağlantı listesi"},vkListOfLinksInstruction:{message:"['Tüm fotoğrafları indirmek için bağlantı listesini kopyalayın ve ',{a:{href:'http://en.wikipedia.org/wiki/Download_manager',text:'indirme yöneticisine'}},' yapıştırın. Kurulu bir indirme yöneticiniz yoksa ',{a:{href:'http://www.freedownloadmanager.org/',text:'Free Download Manager'}},' yüklemenizi tavsiye ederiz.']"},vkTableOfThumbnails:{message:"Küçükk resimler tablosu"},vkListOfPhotos:{message:"Fotoğraf listesi"},vkListOfPhotosInstruction:{message:"İndirmek için fotoğrafın üzerine tıklayın."},vkKbps:{message:"kbps"},vkFileSizeByte:{message:"B"},vkFileSizeKByte:{message:"kB"},vkFileSizeMByte:{message:"MB"},vkFileSizeGByte:{message:"GB"},vkFileSizeTByte:{message:"TB"},vkDownloadFromYoutube:{message:"['İndirme: ',{a:{href:'{url}',text:'video sayfasını'}},' açın ve oynatıcı üzerindeki \"İndir\" dümesine basın']"},vkFoundFiles:{message:"Bulunan dosyalar: %d"},shareIn:{message:"%w üzerinden paylaş"},socialDesc:{message:"SaveFrom.net Helper, sadece bir tıklama ile YouTube.com, Facebook.com, VK.com ve 40'dan fazla siteden ücretsiz olarak dosya indirmenizi sağlar."},tutorialS1Title:{message:"Size harika bir haberimiz var!"},tutorialS1Main:{message:"['SaveFrom.net Helper ',{img: {src: '#logo'}}, ' başarıyla kuruldu. Artık tek bir tıklama ile YouTube\\'dan istediğiniz videoyu indirebilirsiniz']"},tutorialS1Arrow:{message:"['Nasıl olduğunu öğrenmek ister misiniz? Buraya tıklayın']"},tutorialS2Main:{message:'Sadece indirmek istediğiniz videonun formatını seçin ve "İndir" butonuna tıklayın'},tutorialS3History:{message:"Geçmiş"},tutorialS3Main:{message:"['Web geçmişinizdeki videoları indirmek ister misiniz?', {br:{}}, ' Sadece daha önce izlediğiniz bir videonun önizlemesi üzerindeki ', {img: {src: '#arrow'}}, ' simgesine tıklayın']"},tutorialS4Main:{message:"['Videoları izlemenize gerek yok — sadece ', {img: {src: '#arrow'}}, ' simgesine tıklayın, kalite değerini seçin ve anında indirin. Oldukça kolay, değil mi?']"},tutorialS5Title:{message:"Hemen SaveFrom.net Helper'in keyfini çıkarmaya başlayın!"},tutorialS5Main:{message:"['Hala kafanıza takılan sorular mı var? Düşüncelerinizi paylaşmak mı istiyorsunuz? ',{a: {text: 'Destek sayfamızı', href: '#support'}},' ziyaret edin veya ',{a: {text: 'Facebook', href: '#fb'}},' topluluğumuza katılın']"},tutorialTooltipText:{message:"[{b: {text: 'İndirmek'}}, ' için sadece butona tıklayın']"},ummyTooltipConfirm:{message:"[{img:{}},' Ummy Video Downloader programını daha önce yüklediniz mi?']"},yes:{message:"Evet"},no:{message:"Hayır"},tooltipHide:{message:"Bu mesajı tekrar gösterme"}},uk:{extName:{message:"SaveFrom.net помічник"},extDescription:{message:"Завантажуйте з «ВКонтакте», YouTube, Facebook і ще 40 сайтів за 1 клік."},extNameLite:{message:"SaveFrom.net помічник lite"},extDescriptionLite:{message:"Завантажуйте з «ВКонтакте», YouTube, Facebook і ще 40 сайтів за 1 клік."},lang:{message:"uk"},titleDefault:{message:"SaveFrom.net помічник"},titleDesabled:{message:"SaveFrom.net помічник вимкнений"},menuEnable:{message:"Увімкнути"},menuDisable:{message:"Вимкнути"},showButton:{message:"Показувати кнопку розширення"},copy:{message:"Копіювати"},download:{message:"Завантажити"},downloadTitle:{message:"Натисніть на посилання, утримуючи клавішу Alt чи Ctrl, щоб зберегти файл."},noLinksFound:{message:"Не вдалося знайти посилання"},more:{message:"Ще"},close:{message:"Закрити"},kbps:{message:"кб/с"},withoutAudio:{message:"без аудіо"},size:{message:"розмір"},subtitles:{message:"Субтитри"},playlist:{message:"Плейліст"},filelist:{message:"Список файлів"},downloadWholePlaylist:{message:"Завантажити весь плейліст"},getFileSizeTitle:{message:"Визначити розмір файлу"},getFileSizeFailTitle:{message:"Не вдалося визначити розмір файлу. Спробуйте ще раз."},lmButtonTitle:{message:"Отримай пряме посилання"},downloadFromCurrentPage:{message:"Перейти на SaveFrom.net"},updateLinks:{message:"Відновити посилання"},updateLinksNotification:{message:"Посилання оновлені"},downloadMP3Files:{message:"Скачати аудіо файли"},downloadPlaylist:{message:"Скачати плейлист"},downloadPhotos:{message:"Скачати фотографії"},installFullVersion:{message:"Встановити повну версію"},disable:{message:"Вимкнути"},showOptions:{message:"Налаштування"},reportBug:{message:"Повідомити про помилку"},openPoll:{message:"Стати краще"},disableModule:{message:"Вимкнути на цьому сайті"},enableModule:{message:"Увімкнути на цьому сайті"},enableDisableModule:{message:"Вкл./вимк. на цьому сайті"},showHideButton:{message:"Показ./скр. кнопку розширення"},updateTo:{message:"Оновити до %d"},aboutPage:{message:"Про розширення"},aboutTitle:{message:"SaveFrom.net помічник"},aboutVersion:{message:"Версія"},aboutDescription:{message:"Дозволяє отримувати прямі посилання для завантаження з понад 40 сайтів, серед яких VK.com, YouTube.com та інші."},aboutDescriptionLite:{message:"Дозволяє отримувати прямі посилання для завантаження з понад 40 сайтів, серед яких VK.com та інші."},aboutSupported:{message:"Ресурси, які підтримуються"},homePage:{message:"Домашня сторінка"},optionsTitle:{message:"SaveFrom.net помічник - Налаштування"},optionsHandleLinks:{message:"Обробляти посилання"},optionsMediaHostings:{message:"На медіахостинги"},optionsModules:{message:"Модулі"},optionsYoutube:{message:"YouTube"},optionsYTHideLinks:{message:"Сховати посилання"},optionsDailymotion:{message:"Dailymotion"},optionsVimeo:{message:"Vimeo"},optionsFacebook:{message:"Facebook"},optionsSoundcloud:{message:"SoundCloud"},optionsVkontakte:{message:"ВКонтакте"},optionsOdnoklassniki:{message:"Одноклассники"},optionsMailru:{message:"Мой мир"},optionsInstagram:{message:"Instagram"},optionsRutube:{message:"Rutube"},optionsBitrate:{message:"Показувати бітрейт одразу"},optionsSovetnikEnabled:{message:"Порадник"},optionsShowUmmyInfo:{message:"Показувати підказки для Ummy Video Downloader"},optionsGmNativeDownload:{message:"Розширений режим закачування"},optionsShowUmmyBtn:{message:"Відображати кнопку Ummy"},optionsAviaBarEnabled:{message:"Cheap Flights Advisor"},optionsSaveAsDialog:{message:"Завжди запитувати де зберегти файли"},menuDownloadFromCurrentPage:{message:"Завантажити файли з поточної сторінки за допомогою сервісу SaveFrom.net"},menuUpdateLinks:{message:"Натисніть, якщо посилання для скачування не з'являється"},menuDownloadMP3Files:{message:"Завантажити всі знайдені на сторінці аудіофайли"},menuDownloadPlaylist:{message:"Формує та завантажує плейлист з посиланнями на аудіофайли"},menuDownloadPhotos:{message:"Завантажити всі знайдені на сторінці фотографії"},menuReportBug:{message:"Дайте нам знати, якщо виникли проблеми"},menuShowOptions:{message:"Вкл. / Вимк. підтримувані ресурси і можливості помічника"},menuEnableExtension:{message:""},menuOpenPoll:{message:'Будь ласка, оцініть якість розширення "SaveFrom.net помічник"'},quality:{message:"Якість"},qualityNote:{message:"Якщо відео в потрібній якості немає, скачається найкраще з можливого."},filelistTitle:{message:"Список знайдених файлів"},filelistInstruction:{message:"['Щоб завантажити усі файли, скопіюйте список посилань і вставте його у ',{a:{href:'http://ru.wikipedia.org/wiki/Менеджер_загрузок',text:'менеджер завантажень'}},'. Якщо у вас не встановлений менеджер завантажень, рекомендуємо встановити ',{a:{href:'http://www.westbyte.com/dm/',text:'Download Master'}},'.']"},playlistTitle:{message:"Плейліст"},playlistInstruction:{message:"Збережений плейліст можна відкрити у плеєрі для відтворення."},ummySfTitle:{message:"HD або MP3"},ummyMenuItem:{message:"[{span:{}},' з домомогою Ummy']"},ummyMenuInfo:{message:"[{p:{text:'Встановіть безкоштовний Ummy Video Downloader і завантажуйте свої улюблені відео в HD або в MP3.'}},{p:{class:'center',append:[{a:{class:'green-btn-2 arrow',href:'{url}',target:'_blank',text:'СКАЧАТИ'}}]}},{p:{append:['Після встановлення при кліці на ',{img:{src:'#'}},' закачка буде починатися автоматично.']}}]"},warningPopupTitle:{message:"Перевірте налаштування браузера"},warningPopupDesc:{message:"Вибір папки при скачуванні повинен бути відключений."},readMore:{message:"Детальніше..."},noWarning:{message:"Не попереджати"},cancel:{message:"Скасування"},continue:{message:"Продовжити"},beforeDownloadPopupWarn:{message:"Увага: скасувати або призупинити завантаження буде неможливо."},vkInfo:{message:"Параметри"},vkInfoTitle:{message:"Розмір файлу і бітрейт"},vkMp3LinksNotFound:{message:"Не знайдено посилань на MP3-файли"},vkPhotoLinksNotFound:{message:"Не знайдено посилань на фотографії"},vkDownloadPhotoAlbum:{message:"Завантажити альбом"},vkDownloadAllPhotoAlbums:{message:"Завантажити усі альбоми"},vkFoundPhotos:{message:"Знайдено фотографій"},vkNotAvailablePhotos:{message:"%d фото тимчасово недоступно"},vkFoundLinks:{message:"Знайдено посилань"},vkFoundOf:{message:"з"},vkShowAs:{message:"Показати як"},vkListOfLinks:{message:"Список посилань"},vkListOfLinksInstruction:{message:"['Щоб завантажити усі фотографії, скопіюйте список посилань і вставте його у ',{a:{href:'http://ru.wikipedia.org/wiki/Менеджер_загрузок',text:'менеджер завантажень'}},'. Якщо у вас не встановлений менеджер завантажень, рекомендуємо встановити ',{a:{href:'http://www.westbyte.com/dm/',text:'Download Master'}},'.']"},vkTableOfThumbnails:{message:"Таблицю ескізів"},vkListOfPhotos:{message:"Список фотографій"},vkListOfPhotosInstruction:{message:"Щоб завантажити фотографію, натисніть на неї лівою кнопкою миші."},vkKbps:{message:"кб/с"},vkFileSizeByte:{message:"Б"},vkFileSizeKByte:{message:"кБ"},vkFileSizeMByte:{message:"МБ"},vkFileSizeGByte:{message:"ГБ"},vkFileSizeTByte:{message:"ТБ"},vkDownloadFromYoutube:{message:"['Завантажити: відкрийте ',{a:{href:'{url}',text:'сторінку відео-ролика'}},' і натисніть кнопку \"Завантажити\" над плеєром']"},vkFoundFiles:{message:"Знайдено файлів: %d"},shareIn:{message:"Поділитися в %w"},socialDesc:{message:"SaveFrom.net помічник дає вам можливість безкоштовно завантажувати файли з YouTube.com, Facebook.com, VK.com та більше 40 інших сайтів лише одним кліком"},tutorialS1Title:{message:"Добрі новини!"},tutorialS1Main:{message:"['У тебе встановлений SaveFrom.net помічник ',{img: {src: '#logo'}}, ', і тепер ти можеш завантажити будь-яке відео з YouTube в один клік']"},tutorialS1Arrow:{message:"['Прагнеш довідатися як?', {br:{}}, 'Натисни тут']"},tutorialS2Main:{message:'Щоб завантажити відео, оберіть формат і натисни кнопку "Завантажити"'},tutorialS3History:{message:"Переглянуті"},tutorialS3Main:{message:"['Хочеш скачати вже переглянуте відео?', {br:{}}, 'Натискай на ', {img: {src: '#arrow'}}, ' на превью в переглянутих відео']"},tutorialS4Main:{message:"['Відео не обов\\'язково переглядати —', {br:{}}, 'натискай на ', {img: {src: '#arrow'}}, ', обирай формат і скачуй. Це зручно!']"},tutorialS5Title:{message:"Приємної роботи!"},tutorialS5Main:{message:"['Залишилися питання? Є пропозиції? Загляньте на ',{a: {text: 'сторінку підтримки', href: '#support'}},' або вступайте до нашої ', {a: {text: 'ВК-спільноти', href: '#vk'}}]"},tutorialTooltipText:{message:"['Щоб ',{b: {text: 'скачати'}},', просто клікніть по кнопці']"},ummyTooltipConfirm:{message:"['Ви вже встановили',{br:{}},{img:{}},' Ummy Video Downloader?']"},yes:{message:"Так"},no:{message:"Ні"},tooltipHide:{message:"Більше не показувати це повідомлення"}}},e}return(0,l.default)(t,e),(0,r.default)(t,[{key:"getLocale",value:function(){var e=[];Array.isArray(navigator.languages)?e=navigator.languages:navigator.language&&(e=[navigator.language]);var t=d(e.join(","),(0,o.default)(this.localeMap)),n=null;return t&&(n=this.localeMap[t[0]]),n||(n=this.localeMap[this.defaultLocale]),n}}]),t}(e)}},function(e,t,n){"use strict";e.exports=r,e.exports.preferredLanguages=r;var o=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function i(e,t){var n=o.exec(e);if(!n)return null;var i=n[1],a=n[2],r=i;a&&(r+="-"+a);var s=1;if(n[3]){var l=n[3].split(";");for(t=0;t<l.length;t++){var u=l[t].split("=");"q"===u[0]&&(s=parseFloat(u[1]))}}return{prefix:i,suffix:a,q:s,i:t,full:r}}function a(e,t,n){var o=i(e);if(!o)return null;var a=0;if(t.full.toLowerCase()===o.full.toLowerCase())a|=4;else if(t.prefix.toLowerCase()===o.full.toLowerCase())a|=2;else if(t.full.toLowerCase()===o.prefix.toLowerCase())a|=1;else if("*"!==t.full)return null;return{i:n,o:t.i,q:t.q,s:a}}function r(e,t){var n=function(e){for(var t=e.split(","),n=0,o=0;n<t.length;n++){var a=i(t[n].trim(),n);a&&(t[o++]=a)}return t.length=o,t}(void 0===e?"*":e||"");if(!t)return n.filter(u).sort(s).map(l);var o=t.map(function(e,t){return function(e,t,n){for(var o={o:-1,q:0,s:0},i=0;i<t.length;i++){var r=a(e,t[i],n);r&&(o.s-r.s||o.q-r.q||o.o-r.o)<0&&(o=r)}return o}(e,n,t)});return o.filter(u).sort(s).map(function(e){return t[o.indexOf(e)]})}function s(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function l(e){return e.full}function u(e){return e.q>0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(55)),i=h(n(15)),a=h(n(18)),r=h(n(29)),s=h(n(36)),l=h(n(30)),u=h(n(32)),d=h(n(1)),c=h(n(0)),f=h(n(4)),p=h(n(2)),m=h(n(3));function h(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,c.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.optionsPage='<div class="sf-options-container"><h1 data-i18n="optionsTitle">SaveFrom.net Helper - Preferences</h1><form><div class="sf-block sf-browser sf-userscript"><label><input type="checkbox" id="button" checked="1">&nbsp;<span data-i18n="showButton">Show extension button</span></label></div><div class="sf-block"><div data-i18n="optionsHandleLinks" class="sf-title">Handle links</div><label><input type="checkbox" id="lmMediaHosting" checked="1">&nbsp;<span data-i18n="optionsMediaHostings">To mediahostings</span></label></div><div class="sf-block"><div data-i18n="optionsModules" class="sf-title">Modules</div><div id="youtube_box" class="sf-module"><label><input type="checkbox" id="moduleYoutube" checked="1">&nbsp;<span data-i18n="optionsYoutube">YouTube</span></label><div class="sf-module_options"><div class="sf-inline"><span data-i18n="optionsYTHideLinks">Hide links</span>: <label><input type="checkbox" id="ytHideFLV" checked="0">&nbsp;FLV</label> <label><input type="checkbox" id="ytHideMP4" checked="0">&nbsp;MP4</label> <label><input type="checkbox" id="ytHideWebM" checked="1">&nbsp;WebM</label> <label><input type="checkbox" id="ytHide3GP" checked="1">&nbsp;3GP</label> <label><input type="checkbox" id="ytHide3D" checked="1">&nbsp;3D</label> <label><input type="checkbox" id="ytHideMP4NoAudio" checked="1">&nbsp;MP4&nbsp;(no&nbsp;audio)</label> <label><input type="checkbox" id="ytHideAudio_MP4" checked="1">&nbsp;Audio</label></div></div></div><div class="sf-module"><label><input type="checkbox" id="moduleDailymotion" checked="1">&nbsp;<span data-i18n="optionsDailymotion">Dailymotion</span></label></div><div class="sf-module"><label><input type="checkbox" id="moduleVimeo" checked="1">&nbsp;<span data-i18n="optionsVimeo">Vimeo</span></label></div><div class="sf-module"><label><input type="checkbox" id="moduleFacebook" checked="1">&nbsp;<span data-i18n="optionsFacebook">Facebook</span></label></div><div class="sf-module"><label><input type="checkbox" id="moduleSoundcloud" checked="1">&nbsp;<span data-i18n="optionsSoundcloud">SoundCloud</span></label></div><div class="sf-module"><label><input type="checkbox" id="moduleVkontakte" checked="1">&nbsp;<span data-i18n="optionsVkontakte">VK</span></label><div class="sf-module_options"><label><input type="checkbox" id="vkShowBitrate" checked="0">&nbsp;<span data-i18n="optionsBitrate">Show bitrate instantly</span></label></div></div><div class="sf-module"><label><input type="checkbox" id="moduleOdnoklassniki" checked="1">&nbsp;<span data-i18n="optionsOdnoklassniki">Odnoklassniki</span></label></div><div class="sf-module"><label><input type="checkbox" id="moduleMailru" checked="1">&nbsp;<span data-i18n="optionsMailru">Mail.ru</span></label></div><div class="sf-module"><label><input type="checkbox" id="moduleInstagram" checked="1">&nbsp;<span data-i18n="optionsInstagram">Instagram</span></label></div><div class="sf-module"><label><input type="checkbox" id="moduleRutube" checked="1">&nbsp;<span data-i18n="optionsRutube">Rutube</span></label></div></div><div class="sf-block" id="blockUmmyInfo"><label><input type="checkbox" id="showUmmyInfo" checked="1">&nbsp;<span data-i18n="optionsShowUmmyInfo">Show Ummy info popup</span></label> <label><input type="checkbox" id="showUmmyBtn" checked="1">&nbsp;<span data-i18n="optionsShowUmmyBtn">Show the Ummy button</span></label></div><div class="sf-block sf-browser sf-userscript" style="display: none;" id="blockGmNativeDownload"><label><input type="checkbox" id="gmNativeDownload" checked="0">&nbsp;<span data-i18n="optionsGmNativeDownload">Advanced download mode</span></label></div><div class="sf-block" id="blockSovetnikEnabled"><label><input type="checkbox" id="sovetnikEnabled" checked="1">&nbsp;<span data-i18n="optionsSovetnikEnabled">Enable sovetnik</span></label></div><div class="sf-block" id="blockAviaBar"><label><input type="checkbox" id="aviaBarEnabled" checked="1">&nbsp;<span data-i18n="optionsAviaBarEnabled">Enable aviaBar</span></label></div><div class="sf-clear"></div></form></div>',n.optionsScripts=[function(e){!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||(0,u.default)(e,t,{enumerable:!0,get:o})},n.r=function(e){void 0!==l.default&&s.default&&(0,u.default)(e,s.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=(0,r.default)(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(t,n,o){var i=e;n.a=i},function(e,t,n){var o={on:function(e,t,n,o){e.addEventListener(t,n,o)},off:function(e,t,n,o){e.removeEventListener(t,n,o)},one:function(e,t,n,i){var a=["oneFn",t,!!i].join("_"),r=n[a];r||(n[a]=r=function(e){o.off(this,t,r,i),n.apply(this,arguments)}),o.on(e,t,r,i),e=null}},i="sf-removed-"+Math.floor(1e6*Math.random()),a="sf-notify-on-remove-"+Math.floor(1e6*Math.random());o.onRemoveEventName=i,o.onRemoveClassName=a,o.onRemoveListener=function(e){o.trigger(e,i)},o.onRemoveEvent=function(e,t){e.classList.add(a),e.addEventListener(i,t)},o.offRemoveEvent=function(e,t){e.removeEventListener(o.onRemoveEventName,t)},o.trigger=function(e,t,n){void 0===n&&(n={}),void 0===n.bubbles&&(n.bubbles=!1),void 0===n.cancelable&&(n.cancelable=!1);var o;o="function"==typeof MouseEvent&&-1!==["click"].indexOf(t)?new MouseEvent(t,n):new CustomEvent(t,n),e.dispatchEvent(o)};var r=o,s={create:function(e,t){var n=void 0,o=void 0;for(var i in n="object"!=typeof e?document.createElement(e):e,t){var a=t[i];(o=l[i])?o(n,a):n[i]=a}return n}},l={text:function(e,t){e.textContent=t},data:function(e,t){for(var n in t)e.dataset[n]=t[n]},class:function(e,t){if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++)e.classList.add(t[n]);else e.setAttribute("class",t)},style:function(e,t){if("object"==typeof t)for(var n in t){var o=n;"float"===o&&(o="cssFloat");var i=t[n];if(Array.isArray(i))for(var a=0,r=i.length;a<r;a++)e.style[o]=i[a];else e.style[o]=i}else e.setAttribute("style",t)},append:function(e,t){Array.isArray(t)||(t=[t]);for(var n=0,o=t.length;n<o;n++){var i=t[n];(i||0===i)&&("object"!=typeof i&&(i=document.createTextNode(i)),e.appendChild(i))}},on:function(e,t){"object"!=typeof t[0]&&(t=[t]);for(var n=0,o=t.length;n<o;n++){var i=t[n];Array.isArray(i)&&r.on.apply(r,[e].concat(i))}},one:function(e,t){"object"!=typeof t[0]&&(t=[t]);for(var n=0,o=t.length;n<o;n++){var i=t[n];Array.isArray(i)&&r.one.apply(r,[e].concat(i))}},onCreate:function(e,t){t.call(e,e)},attr:function(e,t){var n=void 0,o=void 0;for(n in t)o=t[n],e.setAttribute(n,o)}};t.a=s},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent((0,a.default)(e))))+" */"}(o),r=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(r).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(o[a]=!0)}for(i=0;i<e.length;i++){var r=e[i];"number"==typeof r[0]&&o[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),t.push(r))}},t}},function(e,t,n){var o={},r=function(e){var t;return function(){return void 0===t&&(t=function(){return window&&document&&document.all&&!window.atob}.apply(this,arguments)),t}}(),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var o=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),l=null,u=0,d=[],c=n(4);function f(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=o[i.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](i.parts[r]);for(;r<i.parts.length;r++)a.parts.push(b(i.parts[r],t))}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(b(i.parts[r],t));o[i.id]={id:i.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],o={},i=0;i<e.length;i++){var a=e[i],r=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};o[r]?o[r].parts.push(s):n.push(o[r]={id:r,parts:[s]})}return n}function m(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertAt.before,n);n.insertBefore(t,i)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=n.nc;o&&(e.attrs.nonce=o)}return v(t,e.attrs),m(e,t),t}function v(e,t){(0,i.default)(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,o,i,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var s=u++;n=l||(l=g(t)),o=k.bind(null,n,s,!1),i=k.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),o=function(e,t,n){var o=n.css,i=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||r)&&(o=c(o)),i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent((0,a.default)(i))))+" */");var s=new Blob([o],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(s),l&&URL.revokeObjectURL(l)}.bind(null,n,t),i=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),o=function(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){h(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var r=n[a];(s=o[r.id]).refs--,i.push(s)}for(e&&f(p(e,t),t),a=0;a<i.length;a++){var s;if(0===(s=i[a]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function k(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var a=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+(0,a.default)(i)+")")})}},,function(e,t,n){var o,i=0,a=n(9);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(t.locals=a.locals),t.use=t.ref=function(){return i++||(o=n(3)(a,{hmr:!0})),t},t.unuse=t.unref=function(){i>0&&!--i&&(o(),o=null)}},,function(e,t,n){n.r(t);var o=n(6),i=n.n(o),a=n(0),r=n(1);i.a.use(),a.a.onDestroy.addListener(function(){i.a.unuse()}),function(e){e=e||document.body;var t={},n=function(t,n){var o=e.querySelector("#"+t);o&&(o.style.display=n?"none":"")},o=function(e){var t=e.target;a.a.sendMessage({action:"updateOption",key:t.id,value:t.checked?1:0})},i=function(){var i,s,l,u;for(s=0,l=(u=e.querySelectorAll("*[data-i18n]")).length;s<l;s++)(i=u[s]).textContent=a.a.i18n.getMessage(i.dataset.i18n);for(t.hasSovetnik||n("blockSovetnikEnabled",!0),t.hasAviaBar||n("blockAviaBar",!0),t.showUmmyItem||n("blockUmmyInfo",!0),(t.hasSwStat||t.hasFsStat)&&function(){var t="blockStatEnabled";if(!e.querySelector("#"+t)){var n=r.a.create("div",{id:t,class:"sf-block",append:[r.a.create("label",{append:[r.a.create("input",{type:"checkbox",id:"statEnabled",checked:!0}),String.fromCharCode(160),r.a.create("span",{text:"Web Statistic Tracker"})]})]}),o=e.querySelector(".sf-options-container .sf-clear");o.parentNode.insertBefore(n,o)}}(),function(){var t="blockPromoBarEnabled";if(!e.querySelector("#"+t)){var n=r.a.create("div",{id:t,class:"sf-block",append:[r.a.create("label",{append:[r.a.create("input",{type:"checkbox",id:"promoBarEnabled",checked:!0}),String.fromCharCode(160),r.a.create("span",{text:"PromoBar"})]})]}),o=e.querySelector(".sf-options-container .sf-clear");o.parentNode.insertBefore(n,o)}}(),a.a.isFirefox&&function(){var t="blockSaveAsDialogEnabled";if(!e.querySelector("#"+t)){var n=r.a.create("div",{id:t,class:"sf-block",append:[r.a.create("label",{append:[r.a.create("input",{type:"checkbox",id:"saveAsDialog",checked:!1}),String.fromCharCode(160),r.a.create("span",{text:a.a.i18n.getMessage("optionsSaveAsDialog")})]})]}),o=e.querySelector(".sf-options-container .sf-block");o.parentNode.insertBefore(n,o)}}(),s=0,l=(u=e.querySelectorAll('form input[type="checkbox"]')).length;s<l;s++)(i=u[s]).id&&void 0!==t[i.id]&&(i.checked=!!t[i.id],i.addEventListener("change",o,!1));if(a.a.isGM){for(s=0,l=(u=e.querySelectorAll(".sf-browser.sf-userscript")).length;s<l;s++)(i=u[s]).style.display="block";if("undefined"!=typeof GM_download){var d=e.querySelector("#blockGmNativeDownload");d&&(d.style.display="block")}}};a.a.callFn("getPreferences").then(function(n){t=n,i(),e.classList.remove("loading")}),setTimeout(function(){e.classList.remove("loading")},1e3)}(a.a.container)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".sf-options-body{background-color:#e9eaf0;font-family:sans-serif;font-size:small}.sf-options-body.loading>*{visibility:hidden}.sf-options-body .sf-options-container{background-color:#f6f6f9;border:1px solid #cacdd9;border-radius:7px;width:700px;margin:12px auto;padding:15px}.sf-options-body .sf-options-container h1{font-family:sans-serif;font-size:1.3em;margin:0 0 1.3em 0}.sf-options-body .sf-options-container div{display:block}.sf-options-body .sf-options-container form{margin:0;padding:0}.sf-options-body .sf-options-container label{display:block;margin:.2em 0;padding:0}.sf-options-body .sf-options-container .sf-inline label{display:inline}.sf-options-body .sf-options-container .sf-clear{clear:both;height:0;font-size:0;line-height:0}.sf-options-body .sf-options-container .sf-block{border-top:1px solid #dfe1e8;padding:1.5em 0 0 0;margin:1.5em 0 0 0;min-width:160px}.sf-options-body .sf-options-container .sf-browser{display:none}.sf-options-body .sf-options-container .sf-title{font-weight:700;margin-bottom:.5em}.sf-options-body .sf-options-container .sf-module{font-weight:700;margin-top:1em}.sf-options-body .sf-options-container .sf-module:first-child{margin-top:0}.sf-options-body .sf-options-container .sf-module_options{font-weight:400;margin-left:2em}.sf-options-popup{z-index:9999;display:block;float:none;position:fixed;margin:0;padding:0;visibility:hidden;color:#000;background:#fff;border:3px solid #c0cad5;border-radius:7px;overflow:auto}.sf-options-popup .sf-options-body{display:block;float:none;position:relative;overflow:auto;margin:0;padding:10px 15px;background:#fff}.sf-options-popup .sf-options-body .sf-options-container{background-color:#fff;border:none;font:13px/1 Arial,Helvetica,sans-serif;width:580px;margin:0;padding:9px;text-align:left}.sf-options-popup img.sf-close{position:absolute;top:10px;right:15px;opacity:.5;cursor:pointer}.sf-options-popup img.sf-close:hover{opacity:.9}",""])}])}],n.isYoutube=/youtube\.com/.test(location.href),n}return(0,m.default)(t,e),(0,f.default)(t,[{key:"getPageContent",value:function(){return this.optionsPage}},{key:"getPageScripts",value:function(){return this.optionsScripts}},{key:"createPageContainer",value:function(){var e=this;this.destroyContainer();var t=document.body.clientHeight||window.innerHeight;t>600&&(t=600);var n=document.createElement("div");n.classList.add("sf-options-popup"),n.style.maxWidth="640px",n.style.maxHeight=t+"px",this.containerNode=n;var i=document.createElement("div");i.classList.add("sf-options-body"),i.innerHTML=this.getPageContent(),n.appendChild(i);var a=document.createElement("img");a.classList.add("sf-close"),a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAWUlEQVQ4y2NgGHHAH4j1sYjrQ+WIAvFA/B+I36MZpg8V+w9VQ9Al/5EwzDBkQ2AYr8uwaXiPQ0yfkKuwGUayIYQMI8kQqhlEFa9RLbCpFv1US5BUzSLDBAAARN9OlWGGF8kAAAAASUVORK5CYII=",a.alt="x",a.width=18,a.height=18,a.addEventListener("click",function(t){t.preventDefault(),e.bundle.closeOptions()}),i.appendChild(a),document.body.appendChild(n),setTimeout(function(){var t=Math.floor((window.innerWidth-n.offsetWidth)/2),i=Math.floor((window.innerHeight-n.offsetHeight)/2);i<0&&(i=0),t<0&&(t=0),e.isYoutube&&i<92&&(i=92,n.style.height=n.offsetHeight-i-10+"px"),(0,o.default)(n.style,{top:i+"px",left:t+"px",visibility:"visible"})});document.addEventListener("click",function t(o){var i=o.target;i===n||n.contains(i)||(document.removeEventListener("click",t,!1),e.bundle.closeOptions())},!1)}}]),t}(h(n(79)).default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(1)),i=u(n(0)),a=u(n(2)),r=u(n(3)),s=u(n(151)),l=u(n(81));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.bundle=e,n.initMessages(),n.initStorage(),n.initI18n(),n}return(0,r.default)(t,e),t}((0,u(n(158)).default)((0,l.default)(s.default)));t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(1)),i=d(n(0)),a=d(n(2)),r=d(n(3)),s=d(n(56)),l=d(n(80)),u=d(n(152));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,r.default)(t,e),t}((0,d(n(155)).default)((0,u.default)((0,l.default)(s.default))));t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(28)),i=f(n(1)),a=f(n(0)),r=f(n(4)),s=f(n(2)),l=f(n(22)),u=f(n(3)),d=f(n(153)),c=f(n(11));function f(e){return e&&e.__esModule?e:{default:e}}var p=n(154),m=(0,c.default)("mono:callFnListener");t.default=function(e){return function(e){function t(){(0,a.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.remote={mono:e},e.callFnListener=e.callFnListener.bind(e),e}return(0,u.default)(t,e),(0,r.default)(t,[{key:"initMessages",value:function(){(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"initMessages",this).call(this),this.onMessage.addListener(this.callFnListener)}},{key:"responseFn",value:function(e,t){var n=this,i=o.default.resolve().then(function(){var t=(0,d.default)(n.remote,e.fn),o=t.scope,i=t.endPoint,a=e.args||[];return o[i].apply(o,a)});return this.responsePromise(i,t)}},{key:"responsePromise",value:function(e,t){return e.then(function(e){t({result:e})},function(e){t({err:p(e)})}).catch(function(e){m.error("responsePromise error",e)}),!0}},{key:"callFnListener",value:function(e,t,n){switch(e&&e.action){case"callFn":return this.responseFn(e,n),!0}}},{key:"destroy",value:function(){this.onMessage.removeListener(this.callFnListener),(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"destroy",this).call(this)}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){for(var n=t.split("."),o=n.pop();n.length;)e=e[n.shift()];return{scope:e,endPoint:o}}},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof e?function e(t,n){var o;o=Array.isArray(t)?[]:{};n.push(t);Object.keys(t).forEach(function(i){var a=t[i];"function"!=typeof a&&(a&&"object"==typeof a?-1!==n.indexOf(t[i])?o[i]="[Circular]":o[i]=e(t[i],n.slice(0)):o[i]=a)});"string"==typeof t.name&&(o.name=t.name);"string"==typeof t.message&&(o.message=t.message);"string"==typeof t.stack&&(o.stack=t.stack);return o}(e,[]):"function"==typeof e?"[Function: "+(e.name||"anonymous")+"]":e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(1)),i=u(n(0)),a=u(n(4)),r=u(n(2)),s=u(n(3)),l=u(n(57));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"openTab",value:function(e,t){this.unimplemented()}}]),t}((0,l.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(18));t.default=function(e){return e&&JSON.parse((0,o.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(15));t.default=function(e,t){var n={};return(0,o.default)(e).forEach(function(t){var o=n[t];o||(o=n[t]={}),o.oldValue=e[t]}),(0,o.default)(t).forEach(function(e){var o=n[e];o||(o=n[e]={}),o.newValue=t[e]}),(0,o.default)(n).forEach(function(e){var t=n[e];t.oldValue===t.newValue&&delete n[e]}),(0,o.default)(n).length?n:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(1)),i=u(n(0)),a=u(n(4)),r=u(n(2)),s=u(n(3)),l=u(n(58));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"openTab",value:function(e,t){t=void 0===t||!!t,"function"==typeof GM_openInTab?GM_openInTab(e,{active:t,insert:!0}):GM.openInTab(e,t)}},{key:"executeScript",value:function(e,t){this.bundle.executeScript(t)}},{key:"getActiveTab",value:function(e){e({url:location.href})}}]),t}((0,l.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(1)),i=u(n(0)),a=u(n(2)),r=u(n(3)),s=u(n(160)),l=u(n(81));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.bundle=e,n.initMessages(),n.initStorage(),n.initI18n(),n}return(0,r.default)(t,e),t}((0,u(n(164)).default)((0,l.default)(s.default)));t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(1)),i=d(n(0)),a=d(n(2)),r=d(n(3)),s=d(n(56)),l=d(n(80)),u=d(n(87));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,r.default)(t,e),t}((0,d(n(163)).default)((0,u.default)((0,l.default)(s.default))));t.default=c},function(e,t,n){var o=n(162).default;e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function i(e){return e&&"object"===(void 0===e?"undefined":o(e))&&"string"==typeof e.name&&"string"==typeof e.message}t.default=function(e){return i(e)?Object.assign(new Error,{stack:void 0},e):e},t.isSerializedError=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(1)),i=l(n(0)),a=l(n(2)),r=l(n(3)),s=l(n(57));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,r.default)(t,e),t}((0,s.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(1)),i=l(n(0)),a=l(n(2)),r=l(n(3)),s=l(n(58));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,r.default)(t,e),t}((0,s.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=v(n(1)),i=v(n(0)),a=v(n(4)),r=v(n(2)),s=v(n(22)),l=v(n(3)),u=v(n(83)),d=v(n(84)),c=v(n(82)),f=v(n(166)),p=v(n(168)),m=v(n(11)),h=v(n(85)),g=v(n(86));function v(e){return e&&e.__esModule?e:{default:e}}var b=(0,m.default)("mono:contentScript"),y=function(e){function t(e){(0,i.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.bundle=e,n.initMessages(),n.initStorage(),n.initI18n(),n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"initI18n",value:function(){var e=this;this.locale=this.bundle.getLocale(),this.i18n={getMessage:function(t){var n=e.locale[t];return n&&n.message||""}}}},{key:"initMessages",value:function(){var e=this;this.transport=new u.default({addListener:function(t){e.bundle.messaing.addListener("toActiveTab",t)},removeListener:function(t){e.bundle.messaing.removeListener("toActiveTab",t)},sendMessage:function(t,n){e.bundle.wakeUpBackgroundPage(),t.sender.tab={url:location.href},e.bundle.messaing.emit("fromActiveTab",t,n)||(b.info("No one received a message"),n())}}),(0,s.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"initMessages",this).call(this)}},{key:"initStorage",value:function(){"function"==typeof GM_getValue?this.storage=new((0,h.default)((0,g.default)(c.default)))(this):this.storage=new((0,h.default)((0,g.default)(d.default)))(this)}},{key:"destroy",value:function(){(0,s.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"destroy",this).call(this),this.transport.destroy()}}]),t}((0,p.default)(f.default));t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(1)),i=d(n(0)),a=d(n(4)),r=d(n(2)),s=d(n(3)),l=d(n(56)),u=d(n(87));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"initMessages",value:function(){this.sendMessage=this.transport.sendMessage.bind(this.transport),this.onMessage={addListener:this.transport.addListener.bind(this.transport),hasListener:this.transport.hasListener.bind(this.transport),hasListeners:this.transport.hasListeners.bind(this.transport),removeListener:this.transport.removeListener.bind(this.transport)}}}]),t}((0,d(n(167)).default)((0,u.default)(l.default)));t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(1)),i=l(n(0)),a=l(n(2)),r=l(n(3)),s=l(n(57));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,r.default)(t,e),t}((0,s.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(1)),i=l(n(0)),a=l(n(2)),r=l(n(3)),s=l(n(58));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,r.default)(t,e),t}((0,s.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(55)),i=s(n(0)),a=s(n(4)),r=s(n(170));function s(e){return e&&e.__esModule?e:{default:e}}var l={menu:{initial:{background:"#fff",borderStyle:"solid",borderWidth:"2px 0 2px 2px",borderRadius:"5px 0 0 5px",display:"none",boxSizing:"content-box",font:"13px/18px Arial,Helvetica,sans-serif",width:"auto",height:"auto",padding:0,margin:0,overflow:"visible",position:"fixed",top:"50px",right:"0",textAlign:"left",WebkitTransition:"all 0.2s",transition:"all 0.2s",zIndex:99999},enabled:{borderColor:"#8dc50b"},disabled:{borderColor:"#d0d0d0"},tag:{display:"block",width:"10px",height:"20px",overflow:"hidden",opacity:.5},tagHover:{width:"20px",opacity:.8},active:{width:"auto",height:"auto",overflow:"visible",opacity:.9}},icon:{initial:{display:"inline-block",boxSizing:"content-box",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",width:"16px",height:"16px",margin:0,padding:"2px",overflow:"hidden",verticalAlign:"middle",cursor:"pointer"},enabled:{backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABqUlEQVQ4jY2SzStEURiHf2bMl+w0SrHRZKPY+RtkYyeRspPFsEEZItLM3DCRjxofw0wyK0k+ClNGhBiEmIiwsrChZqvj/sZcznDJ4um8532f9+3ccy5isRg0Qre2V67hxyzxnfkHm5AdDcib6SvLC9e5e5v4TujuY4Dm6A4YPc684xq8sb6Fbq1CZkbNyU7aACVqdPhP8usGouZT7qcuLInpuFnITJ6bE6zRocuezwEdS/B2LuO+ewXJY44dmZ795yYhM6LmWKNDlz1pn+D0o6J5FjeMfbvGx9ETg5BhjjU6dHXvQMMdMcZ9BxAy7k1DXM/F0J6tYSxm9wbOHJ65y9Lh4FnJvLKZfa3sQKSh5lijQ5c97EX7GnJ61nHYF4Egni0klG3jk7bXYI41bc8e9iaP0RhArmsR+92rEP+BLnvSL3ESea1h7LoWVOEP6NDVvcTaQRQ4ZxBtCUPowRqdX/9EUtOFwoZxbDTNQsgwx9qPV9B7mqoOFNX3Y61xAoIwZk73GfWSySFtKK7uxSph/Jv3FQAZKgYVk0q2ir2sEuWEcSpnSjkZWt87G7sZgVx6JvgAAAAASUVORK5CYII=)"},disabled:{backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAiNJREFUeNqMkj+oUlEcx7/nHu/V7lMTxaghqIgoWpIQisCmhjfloDS9QQgMHkpTODc2hS45OQRB6GCLb2hqiAIJpzB6UUhDkqi34/17rtfTonI1ifeDs/zO5/eB8/0dwhjDqjRN+xOLxU4bhiGwVUIIhMNhsmJW/YAfsm1bAIDnedgl8DM7BYZhjAHAdd0FpVTy383n84Wf2RD0er3L8Xj8tq7rDAAcx7EopXtbAgsAdF1ng8HgYDKZfEilUt8CADCbzR7quv5AkqQLAGBZlhUMBjcEjuOsBDcYY0+FEK8BVCQAyGQylel0eqhp2vHynSbnHP5j27a5DPp4Op0eZjKZCgAQ/xZW1e12++Fw+Kq/p+v6l3Q6fW2bDfT7/aKiKBdDoZBQFEX1PC9JCJE45xsgIUQaDoevKKUjzrlp2zbhnP8gnU4nIcvyEaU0vQQNSZJmnued9QsopcPFYhERQuwtV911XXefMMbQbDbPJJPJN7Is38IJynXdj6PR6H4+n/+9zqDdbp9TVbWpKMqd/w1zzt+bppnPZrO//gmx0WicTyQSL0Oh0N1dw7ZtvxuPxweFQuHnOpvtLdTr9UuxWOyFqqr3/H3TNN9qmvaoWCx+3wh31xprtdqVaDT6PBKJ7C8/2hFj7HGpVPq6ze4UAEC1Wr0uy/KzZWhPyuXy513cWhCNRgkAAoACCAI4lcvlbgJAq9X6BMAC4ADwAAjGmACAvwMAXX8khNE72VIAAAAASUVORK5CYII=)"},tag:{padding:"2px"},active:{padding:"5px"}},title:{display:"inline-block",font:"bold 13px/18px Arial,Helvetica,sans-serif",lineHeight:"26px",margin:0,padding:0,textAlign:"left",verticalAlign:"middle",cursor:"pointer"}},u=function(){function e(t){(0,i.default)(this,e),this.bundle=t,this.popupPageUi=null,this.mono=null,this.activeDataAttr="data-sfh-active",this.id="sfh--ujs-menu",this.enabled=!0,this.active=!1,this.hover=!1,this.move=!1,this.icon=null,this.menu=null,this.isYoutube=/youtube\.com/.test(location.href),this.onDocumentClick=this.onDocumentClick.bind(this),this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this)}return(0,a.default)(e,[{key:"createMono",value:function(){this.destroyMono(),this.mono=this.bundle.createMonoInstance("page")}},{key:"showPopup",value:function(){this.closePopup(),this.popupPageUi=new r.default(this.bundle,this.menu),this.popupPageUi.create(),this.popupPageUi.containerNode.setAttribute(this.activeDataAttr,"1")}},{key:"create",value:function(){this.createMono(),this.createIcon()}},{key:"createIcon",value:function(){var e=this,t=document.createElement("div");t.addEventListener("mouseover",function(){e.active||(e.hover=!0,e.setElementsStyle("tagHover"))}),t.addEventListener("mouseout",function(){e.active||(e.hover=!1,e.setElementsStyle("tag"))});var n=document.createElement("div");n.title=this.mono.i18n.getMessage("extName")+" 7.83.2",n.addEventListener("click",function(t){if(!e.move)return t.preventDefault(),t.stopPropagation(),0===t.button?e.toggleMenuItems():2===t.button&&e.remove(),!1},!1),n.addEventListener("contextmenu",function(t){if(!e.move)return t.preventDefault(),t.stopPropagation(),e.remove(),!1},!1),this.icon=t.appendChild(n),this.menu=document.body.appendChild(t);var o=parseInt(l.menu.initial.top);o<0?o=0:this.isYoutube&&o<92?o=92:o+24>parseInt(window.innerHeight)&&(o=parseInt(window.innerHeight)-parseInt(l.menu.tag.height)-4),l.menu.initial.top=o+"px",this.setElementsStyle("initial"),this.setEnabled(1),this.setTopPosition(function(){e.menu&&(e.showTag(),e.enableMove())})}},{key:"setTopPosition",value:function(e){var t=this;this.mono.storage.get({gmIconTop:0},function(n){"number"==typeof n.gmIconTop&&(l.menu.initial.top=n.gmIconTop+"px"),t.menu&&(t.menu.style.top=l.menu.initial.top),e()})}},{key:"enableMove",value:function(){var e=this,t=!1,n=this.menu,o=void 0,i=parseInt(n.style.height)/2||0,a=document.createElement("style");a.textContent="body {-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;user-select: none;}";var r=function(){e.move=!1,n.style.position=l.menu.initial.position,n.style.WebkitTransition=l.menu.initial.WebkitTransition,n.style.transition=l.menu.initial.transition,n.style.borderStyle=l.menu.initial.borderStyle,a.parentNode&&a.parentNode.removeChild(a)},s=function(t){var o=(t.y||t.clientY)-i;"youtube"===e.isYoutube&&o<92?o=92:o<0&&(o=0),n.style.top=l.menu.initial.top=o+"px"},u=function(o){t=!0,function(t){t.stopPropagation(),t.preventDefault(),e.hideMenuItems(),e.hover=!0,e.setElementsStyle("tagHover"),e.move=!0,n.style.position="fixed";var o=t.y||t.clientY;n.style.top=o-i+"px",n.style.WebkitTransition="initial",n.style.transition="initial",n.style.borderStyle="dotted",document.body.appendChild(a)}(o),document.body.addEventListener("mousemove",s)};n.addEventListener("dragstart",function(e){e.preventDefault()}),n.addEventListener("mousedown",function(i){if(i.target===e.icon){t=!1,o=setTimeout(u.bind(null,i),500);var a=function e(){clearTimeout(o),n.removeEventListener("mouseleave",e)};n.addEventListener("mouseleave",a);document.body.addEventListener("mouseup",function i(){clearTimeout(o),document.body.removeEventListener("mouseup",i),n.removeEventListener("mouseleave",a),t&&(setTimeout(r,100),document.body.removeEventListener("mousemove",s),e.mono.storage.set({gmIconTop:parseInt(l.menu.initial.top)}))})}})}},{key:"setStyle",value:function(e,t){this[e]&&l[e]&&l[e][t]&&(0,o.default)(this[e].style,l[e][t])}},{key:"setElementsStyle",value:function(e){var t=this;e&&["menu","icon"].forEach(function(n){t.setStyle(n,e)})}},{key:"setEnabled",value:function(e){this.enabled=e,this.setElementsStyle(this.enabled?"enabled":"disabled")}},{key:"showTag",value:function(){this.setElementsStyle("tag")}},{key:"toggleMenuItems",value:function(){return this.active?this.hideMenuItems():this.showMenuItems()}},{key:"remove",value:function(){this.menu&&this.menu.parentNode.removeChild(this.menu)}},{key:"getMenuContainer",value:function(){var e=document.createElement("div");return e.classList.add("sf-menu-container"),e.setAttribute(this.activeDataAttr,"1"),e.style.marginTop="-24px",e.style.width="auto",e.style.minWidth="482px",e}},{key:"showMenuItems",value:function(){if(!this.active){this.menu.style.top=l.menu.initial.top,this.removeActiveItems(),this.showPopup(),this.active=!0,this.setElementsStyle("active"),document.addEventListener("click",this.onDocumentClick,!1),document.addEventListener("keydown",this.onDocumentKeyDown,!1);var e=this.menu.clientHeight,t=parseInt(this.menu.style.top),n=window.innerHeight;t+e>n?this.menu.style.top=n-e-4+"px":t<0&&(this.menu.style.top="0px")}}},{key:"hideMenuItems",value:function(){this.menu.style.top=l.menu.initial.top,this.closePopup(),this.removeActiveItems(),document.removeEventListener("click",this.onDocumentClick,!1),document.removeEventListener("keydown",this.onDocumentKeyDown,!1),this.active=!1,this.showTag()}},{key:"onDocumentClick",value:function(e){var t=e.target;t===this.menu||this.menu.contains(t)||this.hideMenuItems()}},{key:"onDocumentKeyDown",value:function(e){27===e.keyCode&&this.hideMenuItems()}},{key:"removeActiveItems",value:function(){for(var e=void 0;e=this.menu.querySelector("div["+this.activeDataAttr+"]");)e.parentNode.removeChild(e)}},{key:"closePopup",value:function(){this.popupPageUi&&this.popupPageUi.destroy(),this.popupPageUi=null}},{key:"destroyButton",value:function(){if(this.menu){var e=this.menu.parentNode;e&&e.removeChild(this.menu)}this.menu=null,this.icon=null}},{key:"destroyMono",value:function(){this.mono&&this.mono.destroy(),this.mono=null}},{key:"destroy",value:function(){this.closePopup(),this.destroyButton(),this.destroyMono()}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=m(n(15)),i=m(n(18)),a=m(n(29)),r=m(n(36)),s=m(n(30)),l=m(n(32)),u=m(n(1)),d=m(n(0)),c=m(n(4)),f=m(n(2)),p=m(n(3));function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,d.default)(this,t);var c=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return c.parent=n,c.popupPage='<div class="sf-menu-desc"><div class="icon-body"><div class="icon"></div><div class="version"></div></div><div class="title"></div><div class="desc"></div><a href="#" class="more" target="_blank" data-i18n="readMore">Learn More</a><div class="social-block"><a href="#" class="social-btn vk" target="_blank"></a> <a href="#" class="social-btn fb" target="_blank"></a> <a href="#" class="social-btn ok" target="_blank"></a> <a href="#" class="social-btn tw" target="_blank"></a> <a href="#" class="social-btn mailru" target="_blank"></a> <a href="#" class="social-btn lj" target="_blank"></a> <a href="#" class="social-btn gp" target="_blank"></a></div></div><div class="sf-menu-list"><div class="item bookmarklet" data-action="downloadFromCurrentPage"><svg class="icon" data-type="downloadFromCurrentPage" width="24px" height="20px" viewBox="0 0 24 20" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M3,7.69681435 L3,15.3801087 C3,16.2322665 3.68349659,16.9230769 4.49309635,16.9230769 L16.5069036,16.9230769 C17.3300962,16.9230769 17.9976943,16.2517344 17.999994,15.3846154 L19.5,15.3846154 L19.5,13.8461538 L21,13.8461538 L21,16.9353584 C21,18.6151136 19.6529197,20 17.991212,20 L3.00878799,20 C1.34559019,20 0,18.6279132 0,16.9353584 L0,6.14156464 C0,4.46180949 1.34708027,3.07692308 3.00878799,3.07692308 L9,3.07692308 L9,4.61538462 L7.5,4.61538462 L7.5,6.15384615 L4.49309635,6.15384615 C3.66848201,6.15384615 3,6.82750977 3,7.69681435 Z M16.5,4.63388975 L16.5,0 L24,6.92307692 L16.5,13.8461538 L16.5,9.24590979 C11.3943853,9.45271984 7.21913082,11.7555356 6.22504073,14.7692308 C6.07746807,14.2224293 6,13.6564807 6,13.0769231 C6,8.59329616 10.6364812,4.92416479 16.5,4.63388975 Z" id="Share" fill="#000000"></path></svg> <span class="label" data-i18n="downloadFromCurrentPage">Go to SaveFrom.net</span></div><div class="bookmarklet separator"></div><div class="item module vk odnoklassniki facebook lm youtube dailymotion instagram rutube" data-action="updateLinks"><svg class="icon" data-type="updateLinks" width="22px" height="24px" viewBox="0 0 22 24" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M21.2307692,13.7142857 C21.2307692,19.3949291 16.4780999,24 10.6153846,24 C4.75266929,24 0,19.3949291 0,13.7142857 C0,8.03364229 4.75266929,3.42857143 10.6153846,3.42857143 L10.6153846,6.85714286 C6.70690773,6.85714286 3.53846154,9.9271901 3.53846154,13.7142857 C3.53846154,17.5013813 6.70690773,20.5714286 10.6153846,20.5714286 C14.5238615,20.5714286 17.6923077,17.5013813 17.6923077,13.7142857 L21.2307692,13.7142857 L21.2307692,13.7142857 Z M10.6153846,10.2857143 L10.6153846,0 L19.4615385,5.14285714 L10.6153846,10.2857143 Z" id="Refresh" fill="#000000"></path></svg> <span class="label" data-i18n="updateLinks">Refresh links</span></div><div class="item module vk odnoklassniki mailru" data-action="downloadMP3Files"><svg class="icon" data-type="downloadMP3Files" width="21px" height="24px" viewBox="0 0 21 24" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M21,2.76923077 L21,17.6487288 C21,17.6487288 21,17.6487288 21,17.6487288 L21,18.4615385 L20.9068729,18.4615385 C20.723595,19.2712249 20.2716013,20.0865791 19.5669296,20.7680198 C17.9203537,22.360313 15.5176896,22.6184747 14.2004289,21.3446402 C12.8831682,20.0708056 13.1501309,17.7473503 14.7967068,16.1550571 C16.0602516,14.9331676 17.7690324,14.4969051 19.0909091,14.9356816 L19.0909091,14.9356816 L19.0909091,4.15384615 L7.63636364,6.92307692 L7.63636364,19.4948826 C7.63636364,19.4948826 7.63636364,19.4948826 7.63636364,19.4948826 L7.63636364,20.3076923 L7.5432365,20.3076923 C7.35995859,21.1173788 6.90796493,21.9327329 6.20329323,22.6141737 C4.55671732,24.2064669 2.15405328,24.4646286 0.836792552,23.190794 C-0.480468173,21.9169595 -0.213505501,19.5935041 1.43307041,18.0012109 C2.69661523,16.7793214 4.40539601,16.343059 5.72727273,16.7818354 L5.72727273,16.7818354 L5.72727273,6.46153846 L5.72727273,3.69230769 L21,0 L21,2.76923077 Z" id="Music-2" fill="#000000"></path></svg> <span class="label" data-i18n="downloadMP3Files">Download audio files</span></div><div class="item module vk odnoklassniki plYoutube mailru" data-action="downloadPlaylist"><svg class="icon" data-type="downloadPlaylist" width="24px" height="18px" viewBox="0 0 24 18" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M0,0 L0,3.6 L3.42857143,3.6 L3.42857143,0 L0,0 Z M0,7.2 L0,10.8 L3.42857143,10.8 L3.42857143,7.2 L0,7.2 Z M5.14285714,0 L5.14285714,3.6 L24,3.6 L24,0 L5.14285714,0 Z M5.14285714,7.2 L5.14285714,10.8 L20.5714286,10.8 L20.5714286,7.2 L5.14285714,7.2 Z M0,14.4 L0,18 L3.42857143,18 L3.42857143,14.4 L0,14.4 Z M5.14285714,14.4 L5.14285714,18 L22.2857143,18 L22.2857143,14.4 L5.14285714,14.4 Z" id="Bullet-List" fill="#000000"></path></svg> <span class="label" data-i18n="downloadPlaylist">Download a playlist</span></div><div class="item module vk" data-action="downloadPhotos"><svg class="icon" data-type="downloadPhotos" width="24px" height="18px" viewBox="0 0 24 18" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M19.5,3 L21.0089096,3 C22.6582294,3 24,4.34288718 24,5.99942248 L24,15.0005775 C24,16.6556493 22.6608432,18 21.0089096,18 L2.99109042,18 C1.34177063,18 0,16.6571128 0,15.0005775 L0,5.99942248 C0,4.34435073 1.33915679,3 2.99109042,3 L7.5,3 C7.5,1.34651712 8.84187067,0 10.497152,0 L16.502848,0 C18.1583772,0 19.5,1.34314575 19.5,3 L19.5,3 Z M13.5,16.5 C16.8137087,16.5 19.5,13.8137087 19.5,10.5 C19.5,7.18629134 16.8137087,4.5 13.5,4.5 C10.1862913,4.5 7.5,7.18629134 7.5,10.5 C7.5,13.8137087 10.1862913,16.5 13.5,16.5 Z M13.5,15 C15.9852815,15 18,12.9852815 18,10.5 C18,8.0147185 15.9852815,6 13.5,6 C11.0147185,6 9,8.0147185 9,10.5 C9,12.9852815 11.0147185,15 13.5,15 Z" id="Camera-2" fill="#000000"></path></svg> <span class="label" data-i18n="downloadPhotos">Download pictures</span></div><div class="module vk odnoklassniki facebook lm separator"></div><div class="item" data-action="reportBug"><div class="icon"></div><span class="label" data-i18n="reportBug">Report a bug</span></div><div class="item" data-action="showOptions"><div class="icon"></div><span class="label" data-i18n="showOptions">Options</span></div><div class="item" data-action="openPoll"><div class="icon"></div><span class="label" data-i18n="openPoll">Become better</span></div><div class="item enableModule" data-action="enableModule"><i class="sf-checkbox"><i><i></i></i></i> <span id="disableModule" class="label" data-i18n="disableModule">Disable module</span></div><div style="display: none;" data-action="showAboutPage"><svg class="icon" data-type="showAboutPage" width="24px" height="24px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="m3.09,.719c0,.851 0,1.711 0,2.561-.67,0-1.34,0-2.01,0 1.07,1.07 2.15,2.15 3.22,3.22 0-1.93 0-3.85 0-5.781-.42,0-.83,0-1.25,0zm1.91,0c.04,2.091 .04,4.191 .04,6.281-1.67,0-3.33,0-5,0 2.67,2.77 5.33,5.5 8,8.3 2.7-2.8 5.3-5.53 8-8.3-1.7,0-3.3,0-5,0 0-2.09 0-4.19 0-6.281-2,0-4,0-6,0zm6.7,0c0,1.931 0,3.851 0,5.781 1.1-1.07 2.1-2.15 3.2-3.22-.7,0-1.3,0-2,0 0-.85 0-1.71 0-2.561-.4,0-.8,0-1.2,0z"></path></svg></div></div>',c.popupScripts=[function(e){!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||(0,l.default)(e,t,{enumerable:!0,get:o})},n.r=function(e){void 0!==s.default&&r.default&&(0,l.default)(e,r.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=(0,a.default)(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(t,n,o){var i=e;n.a=i},function(e,t,n){var o={on:function(e,t,n,o){e.addEventListener(t,n,o)},off:function(e,t,n,o){e.removeEventListener(t,n,o)},one:function(e,t,n,i){var a=["oneFn",t,!!i].join("_"),r=n[a];r||(n[a]=r=function(e){o.off(this,t,r,i),n.apply(this,arguments)}),o.on(e,t,r,i),e=null}},i="sf-removed-"+Math.floor(1e6*Math.random()),a="sf-notify-on-remove-"+Math.floor(1e6*Math.random());o.onRemoveEventName=i,o.onRemoveClassName=a,o.onRemoveListener=function(e){o.trigger(e,i)},o.onRemoveEvent=function(e,t){e.classList.add(a),e.addEventListener(i,t)},o.offRemoveEvent=function(e,t){e.removeEventListener(o.onRemoveEventName,t)},o.trigger=function(e,t,n){void 0===n&&(n={}),void 0===n.bubbles&&(n.bubbles=!1),void 0===n.cancelable&&(n.cancelable=!1);var o;o="function"==typeof MouseEvent&&-1!==["click"].indexOf(t)?new MouseEvent(t,n):new CustomEvent(t,n),e.dispatchEvent(o)};var r=o,s={create:function(e,t){var n=void 0,o=void 0;for(var i in n="object"!=typeof e?document.createElement(e):e,t){var a=t[i];(o=l[i])?o(n,a):n[i]=a}return n}},l={text:function(e,t){e.textContent=t},data:function(e,t){for(var n in t)e.dataset[n]=t[n]},class:function(e,t){if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++)e.classList.add(t[n]);else e.setAttribute("class",t)},style:function(e,t){if("object"==typeof t)for(var n in t){var o=n;"float"===o&&(o="cssFloat");var i=t[n];if(Array.isArray(i))for(var a=0,r=i.length;a<r;a++)e.style[o]=i[a];else e.style[o]=i}else e.setAttribute("style",t)},append:function(e,t){Array.isArray(t)||(t=[t]);for(var n=0,o=t.length;n<o;n++){var i=t[n];(i||0===i)&&("object"!=typeof i&&(i=document.createTextNode(i)),e.appendChild(i))}},on:function(e,t){"object"!=typeof t[0]&&(t=[t]);for(var n=0,o=t.length;n<o;n++){var i=t[n];Array.isArray(i)&&r.on.apply(r,[e].concat(i))}},one:function(e,t){"object"!=typeof t[0]&&(t=[t]);for(var n=0,o=t.length;n<o;n++){var i=t[n];Array.isArray(i)&&r.one.apply(r,[e].concat(i))}},onCreate:function(e,t){t.call(e,e)},attr:function(e,t){var n=void 0,o=void 0;for(n in t)o=t[n],e.setAttribute(n,o)}};t.a=s},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var a=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent((0,i.default)(e))))+" */"}(o),r=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(r).concat([a]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(o[a]=!0)}for(i=0;i<e.length;i++){var r=e[i];"number"==typeof r[0]&&o[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),t.push(r))}},t}},function(e,t,n){var a={},r=function(e){var t;return function(){return void 0===t&&(t=function(){return window&&document&&document.all&&!window.atob}.apply(this,arguments)),t}}(),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var o=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),l=null,u=0,d=[],c=n(4);function f(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=a[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(b(o.parts[r],t))}else{var s=[];for(r=0;r<o.parts.length;r++)s.push(b(o.parts[r],t));a[o.id]={id:o.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],o={},i=0;i<e.length;i++){var a=e[i],r=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};o[r]?o[r].parts.push(s):n.push(o[r]={id:r,parts:[s]})}return n}function m(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertAt.before,n);n.insertBefore(t,i)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=n.nc;o&&(e.attrs.nonce=o)}return v(t,e.attrs),m(e,t),t}function v(e,t){(0,o.default)(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,o,a,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var s=u++;n=l||(l=g(t)),o=k.bind(null,n,s,!1),a=k.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),o=function(e,t,n){var o=n.css,a=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||r)&&(o=c(o)),a&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent((0,i.default)(a))))+" */");var s=new Blob([o],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(s),l&&URL.revokeObjectURL(l)}.bind(null,n,t),a=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),o=function(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),a=function(){h(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var r=n[i];(s=a[r.id]).refs--,o.push(s)}for(e&&f(p(e,t),t),i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function k(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var a=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(a=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+(0,i.default)(a)+")")})}},function(e,t,n){var o,i=0,a=n(7);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(t.locals=a.locals),t.use=t.ref=function(){return i++||(o=n(3)(a,{hmr:!0})),t},t.unuse=t.unref=function(){i>0&&!--i&&(o(),o=null)}},,function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".sf-menu-container{width:482px;font:12px/17px Tahoma,Helvetica,OpenSans,sans-serif;color:#000;background-color:#fff;margin:0;box-sizing:inherit;overflow:hidden;flex-direction:initial}.sf-menu-container.loading>*{visibility:hidden}.sf-menu-container>*{box-sizing:inherit;flex-direction:initial}.sf-menu-container p{font-size:12px}.sf-menu-container div.sf-menu-desc,.sf-menu-container div.sf-menu-list{display:inline-block;vertical-align:top;float:left}.sf-menu-container div.sf-menu-desc{width:166px;padding:20px 30px;padding-bottom:36px;color:#6a6a6a}.sf-menu-container div.sf-menu-desc a{text-decoration:none;color:#4a90e2}.sf-menu-container div.sf-menu-desc a:not(.social-btn):hover{text-decoration:underline}.sf-menu-container .sf-menu-desc .icon{width:74px;height:74px;display:inline-block;background-size:74px;background-repeat:no-repeat;background-position:center;padding:0;margin:0}.sf-menu-container .sf-menu-desc .version{vertical-align:top;display:inline-block;float:right;margin-right:-30px;width:110px}.sf-menu-container .sf-menu-desc .version>a,.sf-menu-container .sf-menu-desc .version>span{display:block}.sf-menu-container .sf-menu-desc .icon path{fill:#ccc!important}.sf-menu-container .sf-menu-desc .title{font-size:20px;line-height:1.2;font-weight:400;margin-top:14px;margin-bottom:16px}.sf-menu-container .sf-menu-desc .more{position:absolute;bottom:40px}.sf-menu-container .sf-menu-list{height:348px;width:243px;font-size:14px;padding:14px 6px;border-left:1px solid #d8d8d8}.sf-menu-container .sf-menu-list .separator{border-top:1px solid #d8d8d8;margin-top:10px;margin-bottom:9px;margin-left:59px}.sf-menu-container .sf-menu-list .item{height:40px;cursor:pointer;border-radius:5px;margin-top:-2px;margin-bottom:-2px;overflow:hidden;display:block}.sf-menu-container .sf-menu-list .item .icon{margin:0;margin-left:18px;width:24px;height:24px;margin-bottom:8px;margin-top:8px;float:left;display:block;padding:0}.sf-menu-container .sf-menu-list .item .label{padding-left:18px;padding-right:18px;line-height:40px;font-size:14px;white-space:nowrap;width:165px;display:inline-block;text-overflow:ellipsis;overflow:hidden}.sf-menu-container .sf-menu-list .item .label.dbl{line-height:normal;padding-top:2px;white-space:normal;height:40px}.sf-menu-container.no-poll .sf-menu-list div[data-action=openPoll]{display:none}.sf-menu-container.no-poll .sf-menu-list .item .icon{margin-bottom:10px;margin-top:10px}.sf-menu-container.no-poll .sf-menu-list .item{height:44px}.sf-menu-container.no-poll .sf-menu-list .item .label{line-height:44px}.sf-menu-container .sf-menu-list .item:hover{background-color:#597a9e;color:#fff}.sf-menu-container .sf-menu-list .item.inactive{opacity:.5;cursor:default}.sf-menu-container .sf-menu-list .item.inactive .icon path{fill:#c2c2c2!important}.sf-menu-container .sf-menu-list .item.inactive:hover{background-color:#fff;color:#000}.sf-menu-container .sf-menu-list .icon[data-type=showAboutPage]{visibility:hidden}.sf-menu-container .sf-menu-list .sBtn{text-decoration:none}.sf-menu-container .sf-menu-list .sBtn:hover{text-decoration:none}.sf-menu-container .social-block{position:absolute;bottom:20px;height:16px;cursor:default;flex-direction:initial}.sf-menu-container .social-block .social-btn{display:inline-block;width:16px;height:16px;background-position:center;background-repeat:no-repeat;float:initial;margin:initial;padding:initial;list-style:initial}.sf-menu-container .social-block .social-btn:hover{opacity:.8}.sf-menu-container .social-block .social-btn.vk{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGWSURBVDhPnZDbK8NhGMfff0bGWpJSSi2HMkxCboTk1MghhwtiY2tNISJzaBeaaE65WEJIshvahSKTcm7MKUUOl1+/5+2nvW9ysX3rU8/z9PlevC8zuX36xmn/QbPbj0igDnVZ5YQvVDCwg2zHVkRQh7os176BLNt6VFCXZZq9ECkb3oZrM/CHusk9yfuFpXUsQ6TNtYv/0ju3L7kE07d5INLi3FR1YGzJh86JVbx/fvPdf3YnuQRLbXJDpHl0jcuUxmEvUkxTCFw98H1l91hyCZZicilSmIYhL5cpp9dPOL155nPw8RXp9U7JJVhy1ThE6vtXeIESuLzH/vEl3j6++L7tP5dcgiWVj0DE5FjkMqXGOgNdkRWtAwvqBSjt8Ug+SywZhEit3aOq4DPdbFPhf6m1z0s+Syjug0iNdVZVgZML5QlHV+oG3IZeoCu0ST7TFdqVY5hqi1vV5azvHSKzwiG5BNPmWyESZ+xGTEbTH2Kz2hGfZ5FcgmlyuoPxRguigbpMazQbNIbOkCanSzlEgNLRGs2GHzakmmoMvlqgAAAAAElFTkSuQmCC)}.sf-menu-container .social-block .social-btn.ok{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAILSURBVDhPldFPaNNQHAfwdxdaqxNBVKQO8aIgeBJl4GkMBNlwyI5eNxBByRhTh4iXHRRcxdlNJqNOUQZD3cSpPaTgxlA2UJzS2kMnbZOuabL8bZp8zYtV35un/eBDyI/v95FHiJXpbHMWzy86Sz3YkqBDu8QUzxSt98dhzR/+y/7QBU9Kw3eq8I0C3NworLdHuQzt0C6xXh+BNRcsmux3p+BZEuj4XiN80nHzKS4XCrrEnDkElv15OCxohQxWU2348fICvLoJv+HAenOay1LEfN4Klr46FR5QFoegPj2ISioOu5oLd/p8N5eliPk4DpacFsKwq+Rgi32oL9+md4FrKlCeBPfelCfGxH6wSvcPQMuL4SHsFF5dhvZwH5eliJHcC5Y5eQz5ByexNncVta+zqHyaQjbVA3niBIzxOJeliJ7YA5anFuAZMrSFEZRmLkKaFWB9ewEEf8RZustlKbJxZzdYysp086P5cfV1VKZ7uSxFNoZ3gZW91oLviQ7Ua8VmFVj/+AxfhlpRvNnCZSmi3dqJzYyFZLP6exqaBH2y678cRbQbO8CyM4mw5Nk6sve6UU6Phu++68AY6+CyFFGvbwerlhmHU/2J7Mg5lAZiyF2JQhIfwdVkKMmzXJYiyuC2NXUwij+ylyJY6YuiJPC75d4oyv3/dhTtElmItav9kaI6EMGWBB1ZiLX/Au4A8snC/izyAAAAAElFTkSuQmCC)}.sf-menu-container .social-block .social-btn.fb{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAFJSURBVDhPlYvBK4NxGMeff8VmCUnTettYvaWtJpmJmmJoOAlHB1syS3IQ0fYmjF5p28EOlKy0mVZ22GkXNxdZUQ7Kcb68P/1W9va+b/vU5/J8ni8Foo/iXKRcmo+W0YzKRtmSf7VYdS3k4Zy9a0plo2xJDGbRN32r6+BiDjfFVzw9f9b1LuehbMkxeQUjS5U3NOJbyrJGwvgl9LRPZFCrfbPR+8cXtg4LWD/IQZzJsE62sRT0FPxpNlZIXldgHT6B1ZeAbTTJOvWMyDCSc5Quqxp1Dx1DSz08wRT7oa4BCVrq4Q7I7Ic63fvQ0tIbYnIkuVC/dbj22A+19+/ASI50XkRjozZxG0Zy4vKDqpHFuQkjOfGze1WjVscGjOTETvOqRmYh/GK2r0FPTiyR+99+t2QSwp4WW6hqEkLQciVywfRO7dZvf5uw5wdeN3Dr307RWAAAAABJRU5ErkJggg==)}.sf-menu-container .social-block .social-btn.tw{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAHKSURBVDhPndDPSxRhHAbw9y+ZXTWXMImQhATJk2QGCR67COGlbp3s4tm7qWiJbmVJEkYeDDos+4NKwxQq/IHFbu1uqzIz6OzOvu/O7s7T+33d0cWWYP3CB96Z93nmHV52Z1N0DWw7qwM7DuoiO9Rl/d945vqGQPuXQl2oQ1127XMBV1fPh7qs7aMA6V4roGPleF2tT54UMctIchezqRIGvxdwV/L22ZUoB5lKONjMltH5Qahn0ib9zpdxdqbjpxl2OcRBhtYttXkgXIzIS+qKCdz+JNS76jFFCb0hU3UIa32fB+kLH+KAFysxwJEHZ/i/p2/oHJfeWapDWMtyHuTBWr4S+f+8jdsq72EXl2yQwGsdL7aPUHLdSrT23I8aKu9hgTc5eAZDRiVWe3ZMgcAr/SRPWPNCDp4LLw08jOzjT+70Lrwpll3cWkyfZD2saT4LcmPZxr0Yx/hXGzm6wapJZx30LybROGeqbDXWNCcX0s0lC8+3OH5ZRZi8hJTlIJywMSz/qOVxHI1BQ+XOYg3PLBD/rAHfZAra2E9oo7vQHv2ANpGA/8keGp4eqUwtTJs5TPmD8gPnQF2mBfUe37SV8c1YqIvsaEG95y/ECyN0UoUvcQAAAABJRU5ErkJggg==)}.sf-menu-container .social-block .social-btn.lj{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAF4SURBVDhPY/j//z8Dg0GYKItu+lIm/bQ/bAYZ/5n007czaSRKgOQIYQaQQqDG2x5exf/7kmv/T0ip/e/sVf6fSSfjBjGGMAA1b/QEagZpLE3v+2+Xu/5/UMOe/x7ZM4kyBGTAH5DNZem9/y1zN/0/euUlUPz//yt3X/xXCuwjaAgDk07azx6gAQ65a/9v2H/1//sPH//XLzr33712///8Rff++9VuxmsIA4tOxnw799L/7uWb/585c+Z/9sSD/10qd/2fceL3/5kn/4IxPkMYGDXDeIChfsw4rOX/jKWb/1sX7Phvkbv5f0j7IaIMARMwQxT9O/87lAFdUH0SbEhox2GChsBNghsSOBVsAF5D9DL2YhhAiiEOeUv/s+hlALWgGQDCYEN00g+jG+JYuvW/SfoaOMZpAAhjMwSk6f+FKXCM1wAQRjeEZANAGGQIi3bGHDm/iSgGTOxqAhsAig2sGtExSDE2DMq1WDUQwiCbmXQzdjFqxqoAAJTWdEqr5+cQAAAAAElFTkSuQmCC)}.sf-menu-container .social-block .social-btn.mailru{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAKISURBVDhPldJbSJNhHAbw9/vmYUTiRXQXhjhn3dhyblPxLLmZE6YoOzgdU5fTeZjZtCnZYUvSZZtUWOnIeSqjsiAIuigL6YBXXUTQTTeWeFN0wKibp/d9XZJ15cUPtv/7PP/3+9iIwr9YoDyz9Erpf45toR3WJXLvk9WEloeQNDzYFtZhXSJtuA+JbWELjXsEwWEjXo6n48W1AwgMmZHZGfwvx7pEYp3HHztt07gVKsGvmwTPxtIxeNqAEV8F3oT38tlMsBQ76mc38wyRmKbBxJsn8eiyGiuRRCjqjiHVegKmLidKXN2QGgLQNrfg04yIhdE8xJineIchYnUYTENPM79FZupFk8eB9RsEbyf28IWvx2VYCGbD3mHhmQp3N+8wRDSMgVm+IkPkbA4U9n4eKrY3QTzkQ5zuFK768vksrbYfdwMZuHM+i3cYIupDYNbnCGwuE4ZPHsbiaBrEsiE+F/VBJFV58G2WQG7pg7dHj7WpuOhZiC7Q0SD1lQbsbSYM9pVuLIjOmeSa4/hOL5AbPfB5tfg4Kd08I+wxmcehVNwezoC8shU/6eOWNTXyeUL5AObPqfgr7Kt2Y+miDHP+DH7GELF4AIyhvpqH8iyNKK+twlokBu8mdmM1Eo+noyn4cF2KewEFz+QbrbzDELHAC0bI7UZ44CC/vc5Rif1lVmhNVdAYjNhV6EBfZyHehxPR1VoEIc/DOwwRc+mXKEHdCv/RbPygP+HnafpnojcvX0rClxmCFK0dQuYRCFntm3mGCDld2ELlRHKREY7GEoR6VbjQo0KNRYv43PatuSgiqNtWhKwOuvkvmja+SFA6NrDP/2YY2iWxGqdOyHStCmoXHWwD7cRqnLrfWEQPCw6Z+WcAAAAASUVORK5CYII=)}.sf-menu-container .social-block .social-btn.gp{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAIfSURBVDhPldL/SxNhHAfw54+RqY0ck2CU7OZM2bm+LKNiEShNyoaxogTJvoAWVAYJBUX9EBRREoqlY4qa1krdpWzOuVW2llvLU2urOXVm2bu7B7x2yQofeB3P5/3w+fDccWTySpUuctXGCbBOnNhLQg0H+YkaE97YDOsi9oi95O3p/Zh+2o53Tcfw8fEdLH+NQVyp6U+Ie1yItN6Ev7pEkprlpX3AVgryYyGJwI0z8BzSY9jCYMC2C4uxz5jno+CObseIkI1VFUnEPL0m35NzeFWhhaeykHILDeN3r9FbzLzolvJVyamIrCbL83MYEQakc1mNdEAi/B7+84fpPtMi4mP8ghWuA1sknGUrPZxyOfHSrEHbDrUkEQ7Jajog7nNj0LwZA/s0lL+xFj+XluCsKZeyVYlwUFaTwcY6pOJfEHMPYfSUBb76asxyz9FzogK9pnw4d2+S+fZhQlYTuzEP94uV6CxnEbheT68+1HAcXdtU6N+pXuNhiVJWk16jCqKu0jx4m87RATHhlfrLNDT/H9JjVMN79giCty9hsqMZv1ZW6JBk8DWe7WXQbdj4T2QxGsao8NFa2HzcYxS4VahEX50VKeFnWoiE0FdWgM7iDRkRR+UePNAq0KHPhaMoF3ZBszYbrWYDvY3v4kmaZ0IeFWRF7bps/K1FGDrjHYbncu2asz+yosTBqth2RsELkM6uy6H//RMTI8vT8G36HPY3WFKiAfgR588AAAAASUVORK5CYII=)}.sf-menu-container .sf-checkbox{float:left;display:block;padding-top:12px;padding-left:16px;padding-bottom:12px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.sf-menu-container.no-poll .sf-checkbox{padding-top:14px}.sf-menu-container .sf-checkbox>i{width:24px;height:14px;display:block;padding:0;border-width:1px;border-style:solid;border-radius:8px;position:relative;border-color:#78c435;background-color:#78c435}.sf-menu-container .sf-checkbox>i>i{display:block;background-color:#fff;border-width:1px;border-style:solid;border-radius:8px;height:12px;width:12px;border-color:#78c435;margin-left:10px}.sf-menu-container .sf-checkbox.sf-transition>i>i{transition:margin-left .2s;-o-transition:none}.sf-menu-container .inactive .sf-checkbox:not(.enableForce)>i,.sf-menu-container .sf-checkbox.disabled>i{border-color:#be3f2e;background-color:#fff}.sf-menu-container .inactive .sf-checkbox:not(.enableForce)>i>i,.sf-menu-container .sf-checkbox.disabled>i>i{height:14px;width:14px;border-color:#be3f2e;margin:-1px}",""])},,,function(e,t,n){n.r(t);var o=n(5),i=n.n(o),a=n(0),r=n(1);i.a.use(),a.a.onDestroy.addListener(function(){i.a.unuse()}),function(e){var t={},n={icons:{},activeTabInfo:{},helperName:""},o=function(e){if(e.preventDefault(),e.stopPropagation(),!this.classList.contains("inactive")){var o=this.dataset.action,i=this.classList.contains("module");if("enableModule"===o)return function(){var e=n.activeTabInfo,o=n.moduleTrigger.classList.contains("disabled")?1:0;e.state=o,g(o,1),t[e.prefKey]=o,a.a.sendMessage({action:"viaMenu_changeState",state:o?1:0,prefKey:e.prefKey,moduleName:e.moduleName,needInclude:e.isNotResponse}),e.isNotResponse=!1,f(e)}();a.a.sendMessage({action:(i?"viaMenu_":"")+o}),a.a.isGM?a.a.bundle.buttonUi&&a.a.bundle.buttonUi.hideMenuItems():a.a.isSafari?safari.extension.popovers[0].hide():window.close()}},i=function(t,n){for(var o=e.querySelectorAll("div."+t),i=0;i<o.length;i++)n?o[i].classList.remove("inactive"):o[i].classList.add("inactive")},s=function(e){e.preventDefault(),a.a.openTab(this.href,!0)},l=function(){for(var t=e.querySelectorAll('a[href][target="_blank"]'),n=0,o=t.length;n<o;n++)t[n].removeEventListener("click",s),t[n].addEventListener("click",s)},u=function(t){if(-1!==["odnoklassniki"].indexOf(t.moduleName)?i("bookmarklet",!1):i("bookmarklet",!0),function(t,n){if(!n)return i("module",!1);for(var o=e.querySelectorAll("div.module"),a=0;a<o.length;a++)o[a].classList.contains(t)?o[a].classList.remove("inactive"):o[a].classList.add("inactive")}(t.moduleName,t.state),t.state&&"youtube"===t.moduleName){var n=t.url,o=/\/playlist\?|[?&]list=/.test(n);o||(o=/(user|channel|c|show)\/[^\/]+(\/feed|\/featured|\/videos|$)/i.test(n)),o||(o=/\/(feed)\/(trending|subscriptions|history)/i.test(n)),i("plYoutube",!!o)}},d=function(e){var t=!1,n=!1;-1!==["savefrom"].indexOf(e.moduleName)?n="force":e.moduleName&&(n=!!e.state,t=!0),i("enableModule",t),g(n)},c=function(e,t){if(n.activeTabInfo=e=e||{},d(e),u(e),!t){var o=function(t){for(var n in clearTimeout(i),e.isNotResponse=!t,t)e[n]=t[n];d(e),u(e)},i=setTimeout(o,250);a.a.sendMessage({action:"getActiveTabModuleInfo",url:e.url},o)}},f=function(e){n.activeTabInfo={},e?c(e,1):a.a.sendMessage({action:"getActiveTabInfo"},c)},p=function(e,t){var n=e.querySelector("path");if("hover"===t)n.setAttribute("fill","#ffffff");else if("active"===t)n.setAttribute("fill","#AAAAAA");else{var o=e.getAttribute("data-type");"downloadMP3Files"===o?n.setAttribute("fill","#00CCFF"):"downloadPlaylist"===o?n.setAttribute("fill","#77D1FA"):"downloadPhotos"===o?n.setAttribute("fill","#88cb66"):"showAboutPage"===o?n.setAttribute("fill","#ADE61B"):"updateLinks"===o?n.setAttribute("fill","#CB7FBD"):"downloadFromCurrentPage"===o&&n.setAttribute("fill","#CB7FBD")}},m=function(e,t){var o=n.desc,i=n.deskText,s=n.descTitel,u=n.descMore;o.dataset.page=e;var d=n.icons[e],c=o.querySelector(".icon");if(d){var f=d.cloneNode(!0);p(f,"active"),c&&c.parentNode.replaceChild(f,c),c.style.visibility="visible"}else c.style.visibility="hidden";"showAboutPage"===e?(s.textContent=a.a.i18n.getMessage("aboutTitle"),i.textContent="",i.appendChild(r.a.create(document.createDocumentFragment(),{append:[r.a.create("p",{text:a.a.i18n.getMessage("aboutDescription")}),r.a.create("a",{href:"http://savefrom.net/faq.php#supported_resourses",target:"_blank",text:a.a.i18n.getMessage("aboutSupported"),style:{display:"block"}}),r.a.create("a",{href:"http://savefrom.net/user.php?helper="+n.helperName,target:"_blank",text:a.a.i18n.getMessage("homePage"),style:{display:"block"}})]})),u.style.display="none"):(s.textContent=t,i.textContent=a.a.i18n.getMessage("menu"+function(e){return e.charAt(0).toUpperCase()+e.substr(1)}(e))||"",u.style.display="block"),a.a.isSafari&&l()},h=function(){!function(){for(var t=e.querySelectorAll("*[data-i18n]"),n=0,o=t.length;n<o;n++){var i=t[n],r=i.dataset.i18n;i.textContent=a.a.i18n.getMessage(r),i.classList.contains("label")&&(i.title=a.a.i18n.getMessage(r))}}(),n.descMore.href="http://savefrom.net/user.php?helper="+n.helperName;for(var t=e.querySelectorAll("div[data-action]"),i=0;i<t.length;i++){var s=t[i].querySelector("svg");s&&(n.icons[t[i].dataset.action]=s,p(s)),"none"!==t[i].style.display&&r.a.create(t[i],{on:[["click",o],["mouseenter",function(){var e=this.dataset.action,t=n.icons[e];t&&p(t,"hover");var o=this.querySelector("span"),i=o&&o.textContent||"";m(e,i)}],["mouseleave",function(){var e=this.dataset.action,t=n.icons[e];t&&p(t)}]]})}!function(){var t="http://savefrom.net/user.php",n=encodeURIComponent(t),o=encodeURIComponent("http://savefrom.net/img/icon_100.png"),i=encodeURIComponent(a.a.i18n.getMessage("extName")),r=encodeURIComponent(a.a.i18n.getMessage("socialDesc")),s={vk:{network:"vkontakte",title:a.a.i18n.getMessage("shareIn").replace("%w","VK"),href:"http://vk.com/share.php?url="+n+"&image="+o+"&title="+i+"&description="+r},ok:{network:"odnoklassniki",title:a.a.i18n.getMessage("shareIn").replace("%w","OK.ru"),href:"http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st._surl="+n+"&st.comments="+r},mailru:{network:"mail.ru",title:a.a.i18n.getMessage("shareIn").replace("%w","Mail.ru"),href:"http://connect.mail.ru/share?url="+n+"&title="+i+"&description="+r+"&imageurl="+o},tw:{network:"twitter",title:a.a.i18n.getMessage("shareIn").replace("%w","Twitter"),href:"https://twitter.com/intent/tweet?text="+i+"&url="+n},fb:{network:"facebook",title:a.a.i18n.getMessage("shareIn").replace("%w","Facebook"),href:"http://www.facebook.com/sharer.php?s=100&p[url]="+n+"&p[title]="+i+"&p[summary]="+r+"&p[images][0]="+o},gp:{network:"google+",title:a.a.i18n.getMessage("shareIn").replace("%w","Google+"),href:"https://plus.google.com/share?url="+n},lj:{network:"livejournal",title:a.a.i18n.getMessage("shareIn").replace("%w","Livejournal"),href:"http://www.livejournal.com/update.bml?subject="+i+"&event="+r+" "+n}};for(var l in s){var u=e.querySelector(".social-btn."+l);u&&(u.title=s[l].title,u.href=s[l].href,u.dataset.network=s[l].network)}u.parentNode.addEventListener("click",function(e){var n=e.target;if(n.classList.contains("social-btn")){var o=n.dataset.network;a.a.sendMessage({action:"track",t:"social",st:t,sa:"share",sn:o})}})}(),a.a.isSafari&&l(),m("showAboutPage"),f(),e.classList.remove("loading")},g=function(e,t){t&&n.moduleTrigger.classList.add("sf-transition"),"force"===e?n.moduleTrigger.classList.add("enableForce"):n.moduleTrigger.classList.remove("enableForce"),e?(n.moduleTrigger.classList.remove("disabled"),n.moduleTrigger.nextElementSibling.textContent=a.a.i18n.getMessage("disableModule")):(n.moduleTrigger.classList.add("disabled"),n.moduleTrigger.nextElementSibling.textContent=a.a.i18n.getMessage("enableModule")),"showAboutPage"!==n.desc.dataset.page&&m("enableModule",e?a.a.i18n.getMessage("disableModule"):a.a.i18n.getMessage("enableModule"))},v={tutorialSlides:null,show:function(){if(t.onceShowYtTutorial){var n=function(){a.a.sendMessage({action:"updateOption",key:"onceShowYtTutorial",value:t.onceShowYtTutorial=0}),a.a.sendMessage({action:"setIconBadge",text:""})};return v.tutorialSlides?v.tutorialSlides.show({container:e,width:482,height:404+(a.a.isGM?2:0),padding:4,slideList:v.tutorialSlides.getYtSlideList("black"),onClose:n,trackId:"Menu",boxStyle:{backgroundColor:"transparent"},containerStyle:{borderRadius:"3px",backgroundColor:"rgba(0, 104, 255, 0.9)",padding:0,margin:"4px",boxShadow:"none"},slideStyle:{backgroundColor:"transparent",borderRadius:0},leftBtnStyle:{top:"4px",left:"4px"},rightBtnStyle:{top:"4px",right:"4px"},closeBtnStyle:{backgroundColor:"#fff",color:"rgba(0, 104, 255, 0.9)"},cssStyle:{" .sf-dots":{paddingTop:"2px"}," .sf-dot i":{backgroundColor:"#fff"}," .sf-dot.active i":{backgroundColor:"transparent",borderRadius:"6px",margin:"-1px",width:"6px",height:"6px",border:"2px solid #fff"}," .sf-slider-conteiner span":{color:"#fff !important"}," .sf-slider-conteiner a":{color:"#fff !important"}},arrowColor:"#fff",arrowColorActive:"#fff",onResize:function(e){e.box.style.position="absolute"},withOpacity:!0,withDelay:250,onShow:function(){a.a.isSafari&&l(),a.a.sendMessage({action:"setIconBadge",text:"?"})}}):n()}}};setTimeout(function(){e.classList.remove("loading")},1e3),n.list=e.querySelector(".sf-menu-list"),n.desc=e.querySelector(".sf-menu-desc"),n.moduleTrigger=e.querySelector(".sf-checkbox"),n.descTitel=n.desc.querySelector(".title"),n.deskText=n.desc.querySelector(".desc"),n.descMore=n.desc.querySelector(".more"),n.list.style.height=n.list.offsetHeight+"px",a.a.sendMessage({action:"getMenuDetails"},function(o){t=o.preferences,n.helperName=o.helperName,function(e,t){var o=n.desc.querySelector(".version");o.textContent="",o.appendChild(r.a.create("span",{text:a.a.i18n.getMessage("aboutVersion")+" "+e})),t&&t!==e&&o.appendChild(r.a.create("a",{text:a.a.i18n.getMessage("updateTo").replace("%d",t),href:"http://savefrom.net/user.php?helper="+n.helperName+"&update="+e,target:"_blank"}))}(o.version,o.lastVersion),-1===["en","uk","ru"].indexOf(a.a.i18n.getMessage("lang"))&&e.classList.add("no-poll"),v.show(),h()})}(a.a.container||document.body)}])}],c}return(0,p.default)(t,e),(0,c.default)(t,[{key:"getPageContent",value:function(){return this.popupPage}},{key:"getPageScripts",value:function(){return this.popupScripts}},{key:"createPageContainer",value:function(){this.destroyContainer(),this.containerNode=document.createElement("div"),this.containerNode.classList.add("sf-menu-container"),this.containerNode.style.marginTop="-24px",this.containerNode.style.width="auto",this.containerNode.style.minWidth="482px",this.containerNode.innerHTML=this.getPageContent(),this.parent.appendChild(this.containerNode)}}]),t}(m(n(79)).default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(0,function(e){return e&&e.__esModule?e:{default:e}}(n(11)).default)("extensionMarker"),i="savefrom-helper-extension",a={getItem:function(e){var t=null;try{t=window.sessionStorage.getItem(e)}catch(t){o.error("getItem error",e,t)}return t},setItem:function(e,t){try{window.sessionStorage.setItem(e,t)}catch(n){o.error("setMarker error",e,t,n)}},hash:function(e){var t=e.length,n=0,o=0;if(t>0)for(;o<t;)n=(n<<5)-n+e.charCodeAt(o++)|0;return""+n},getMarker:function(){var e=null;return"undefined"!=typeof GM_info&&(e=GM_info.script&&GM_info.script.uuid),e||"undefined"!=typeof GM&&(e=GM.info&&GM.info.script&&GM.info.script.uuid),e||(e="userscript"),this.hash(""+e)},getCurrentMarker:function(){return this.getItem(i)},setMarker:function(e){return this.setItem(i,e)},getFallbackMarker:function(){return this.getItem(i+"-fallback")},setFallbackMarker:function(){return this.setItem(i+"-fallback","1")},isSingle:function(){var e=this.getMarker(),t=this.getCurrentMarker();return"1"===t&&null===this.getFallbackMarker()&&(this.setFallbackMarker(),t=null),null===t&&this.setMarker(t=e),t===e}};t.default=a},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(a(n=this._events[e]))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),r=(u=n.slice()).length,l=0;l<r;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var r;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!o(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,a,r,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(n=this._events[e]).length,a=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=r;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){a=s;break}if(a<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}}]);
